import{j as s}from"./jsx-runtime-0DLF9kdB.js";import{L as p,r as l,c as f,B as N}from"./components-kAvIA9Ge.js";import{K as w,G as y,j as _,L as k}from"./index-Dn2vcGOX.js";import{d as L}from"./MobileNav-Rbz9A8QY.js";import{a as S}from"./index-CWz9EwVH.js";import{L as g,F as $}from"./LatestStarRating--cgCPalI.js";import{G as E}from"./GenericNav-ByN_32oQ.js";import"./WhiteLogo-JtHEfUzk.js";import"./UserMenu-DDCiiaFQ.js";import"./index-BTxVYS91.js";const F=({feature:e})=>s.jsxs("div",{id:e.gid,className:"pb-4 pt-3",children:[s.jsx(p,{to:`/${e.gid}`,children:s.jsx("div",{className:`text-[15px] tracking-normal 
                text-blue-700 font-normal`,children:e.title})}),s.jsx("div",{className:`text-md font-semibold 
                tracking-tight mt-[2px]`,children:e.phone}),s.jsx("div",{className:`font-normal text-[13px] 
                tracking-normal mt-[2px] leading-[1.3em]
                text-black`,children:e.short_description.substring(0,80)}),s.jsx("div",{className:`text-[12px] font-normal 
                tracking-tight mt-[5px] leading-[1.4em]
                text-brown-700`,children:e.address_one}),s.jsx("div",{className:`text-[13px] font-normal 
                tracking-tight mt-[8px] text-blue-800`,children:s.jsx(p,{to:e.website?e.website:`#${e.gid}`,children:"Website"})})]}),B=()=>{const[e,c]=l.useState([]);return l.useEffect(()=>{(async()=>{const r=await w();console.log(r),c(r)})()},[]),s.jsxs("div",{className:`border-[1px] px-4 pt-4 pb-4
        rounded border-gray-200`,children:[s.jsx("div",{className:"font-bold text-lg",children:"Featured"}),s.jsx("div",{className:"divide-y divide-gray-200",children:(e==null?void 0:e.length)>0?e==null?void 0:e.map((t,r)=>s.jsx(F,{feature:t},r)):s.jsx("div",{className:"text-[15px] mt-4",children:"Loading..."})})]})},q=({children:e})=>s.jsx("div",{className:"w-full h-auto px-[15px] mt-5 z-0",children:s.jsxs("div",{className:`max-w-[1100px] mx-auto w-full
                    grid grid-cols-12 gap-8`,children:[s.jsx("div",{className:"col-span-12 lg:col-span-8 ",children:e}),s.jsx("div",{className:"col-span-12 lg:col-span-4 lg:block ",children:s.jsx("div",{className:"sticky top-[80px]",children:s.jsx(B,{})})})]})});function z(e){return y({attr:{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},child:[{tag:"line",attr:{x1:"5",y1:"12",x2:"19",y2:"12"},child:[]},{tag:"polyline",attr:{points:"12 5 19 12 12 19"},child:[]}]})(e)}const C=({listing:e})=>{var r,o;const[c,t]=l.useState("");return l.useEffect(()=>{(e==null?void 0:e.image_url)===""||(e==null?void 0:e.image_url)===null?t("https://accuvice.ng/wp-content/uploads/2016/06/placeholder.gif"):t(_.IMG_BASE_URL+e.image_url)},[e]),s.jsxs("div",{className:" cursor-pointer mt-4 z-0 pb-4",onClick:d=>{window.location.href=`/${e.gid}`},children:[s.jsxs("div",{className:"flex rounded-sm gap-4 z-0",children:[s.jsx("div",{className:`relative min-w-[100px] w-[100px] h-[100px] border
                    bg-white z-0`,children:s.jsx("img",{src:c,alt:e.title,className:`object-cover w-full h-full text-sm
                            rounded z-0`})}),s.jsx("div",{className:" w-full",children:s.jsxs("div",{className:`md:flex md:place-content-between 
                w-full md:gap-x-[4px]`,children:[s.jsxs("div",{className:"w-full md:w-[60%]",children:[s.jsx(p,{to:`/${e.gid}`,onClick:d=>d.stopPropagation(),children:s.jsx("div",{className:`font-bold text-[17px] text-brown-800
                    leading-[1.1em] hover:underline text-blue-900`,children:e.title})}),s.jsx("div",{className:`font-normal text-[13px] leading-[1.2em] mt-[2px]
                    `,children:e!=null&&e.business_phrases?`${(r=e==null?void 0:e.business_phrases)==null?void 0:r.substring(0,150)}...`:""}),s.jsxs("div",{className:`font-normal text-[13px] 
                                    flex place-items-center gap-1 mt-[3px]`,children:[s.jsx(p,{className:"hover:underline text-blue-700",to:e.website!==null?e.website:"#top",onClick:d=>d.stopPropagation(),children:"Website"}),s.jsx("span",{children:s.jsx(z,{})}),s.jsx("div",{className:"capitalize flex place-items-center gap-1",children:e.category})]}),(e==null?void 0:e.established)&&s.jsxs("div",{className:"flex gap-2 mt-[5px] place-items-center",children:[s.jsx("div",{children:s.jsx(L,{})}),s.jsxs("div",{className:"flex flex-col gap-y-0 leading-3",children:[s.jsxs("div",{className:"text-[12px] font-bold",children:["Since ",e==null?void 0:e.established]}),s.jsx("div",{className:"text-[12px]",children:"In Business"})]})]})]}),s.jsxs("div",{className:`w-full lg:w-[40%] hidden 
                                sm:block`,children:[s.jsx("div",{className:`flex flex-col 
                    place-items-end place-content-end
                        font-semibold text-[15px] tracking-tighter`,children:e.phone}),s.jsxs("div",{className:`flex flex-col text-end text-[12px]
                                leading-[1.2em]`,children:[e==null?void 0:e.address_one,e!=null&&e.address_two?`, ${e==null?void 0:e.address_two}`:"",e!=null&&e.city_name?`, ${e==null?void 0:e.city_name}`:"",e!=null&&e.state_name?`, ${e==null?void 0:e.state_name}`:"",e!=null&&e.country_name?`, ${e==null?void 0:e.country_name}`:""]})]})]})})]}),s.jsxs("div",{className:`mt-2 md:mt-3 mb-0 text-[13px] leading-[1.2em]
                    md:flex place-content-start hidden`,children:[s.jsx("div",{className:"relative top-[-3px] z-0 flex",children:s.jsx(S,{className:"tracking-tighter text-[20px]"})}),s.jsx("div",{children:e!=null&&e.short_description?`${(o=e==null?void 0:e.short_description)==null?void 0:o.substring(0,150)}...`:""})]})]})},I=({data:e,itemsPerPage:c=10})=>{const[t,r]=l.useState(1),o=Math.ceil(e.length/c),d=t*c,m=d-c,i=e.slice(m,d),x=n=>r(n),u=()=>{t>1&&r(t-1)},j=()=>{t<o&&r(t+1)};return s.jsxs("div",{children:[s.jsx("div",{className:" divide-y z-0",children:i.map((n,a)=>s.jsx("div",{children:s.jsx(C,{listing:n})},a))}),o>1&&s.jsxs("div",{className:`flex justify-center gap-[5px] 
                mt-[60px]`,children:[s.jsx("button",{onClick:u,disabled:t===1,className:`px-[12px] py-[8px] bg-white cursor-pointer border
                                rounded-[4px]`,children:"Previous"}),Array.from({length:o},(n,a)=>a+1).map(n=>s.jsx("button",{onClick:()=>x(n),className:`px-[12px] py-[8px]  cursor-pointer border
                                rounded-[4px] ${t===n?"bg-blue-500 text-white border-blue-500":"bg-white"}`,children:n},n)),s.jsx("button",{onClick:j,disabled:t===o,className:`px-[12px] py-[8px] bg-white cursor-pointer border
                                rounded-[4px]`,children:"Next"})]})]})},v=({title:e,subtitle:c,category:t,limit:r})=>{const[o,d]=l.useState(""),[m,i]=l.useState(""),[x,u]=l.useState([]),j="https://oxbyt.com";l.useEffect(()=>{e&&c&&(d(e),i(c))},[e,c]);let n=async(a,h)=>{if(h&&a){let b=await k(a,h);u(b)}};return l.useEffect(()=>{r&&t&&n(t,r)},[r,t]),s.jsxs("div",{className:"mt-10 border-t pt-5",children:[s.jsxs("div",{className:" mb-[20px] ",children:[s.jsx("div",{className:"font-semibold text-xl",children:o}),s.jsx("div",{className:"text-sm -mt-[2px]",children:m})]}),s.jsx("div",{className:"grid grid-cols-2 md:grid-cols-3 gap-x-3 gap-y-4",children:(x==null?void 0:x.length)>0&&(x==null?void 0:x.map((a,h)=>s.jsxs("div",{children:[s.jsx("div",{children:s.jsx(p,{to:`/${a.gid}`,children:s.jsx("div",{className:"relative h-[180px]",children:s.jsx("img",{className:`object-cover w-full h-full
                                                    text-sm`,src:a!=null&&a.image_url?j+(a==null?void 0:a.image_url):"https://accuvice.ng/wp-content/uploads/2016/06/placeholder.gif",alt:a.title})})})}),s.jsx("div",{className:`mt-1 text-[15px] tracking-tight 
                                     truncate`,children:a.title}),s.jsx("div",{className:"mt-1",children:s.jsx(g,{rating:a.avg_rating})}),s.jsx("div",{className:`text-[11px] mt-[5px] tracking-tight
                                    leading-[1.2em]`,children:a.short_description.substring(0,100)})]},h)))})]})},P=[{id:1,url:"/",label:"Home"},{id:2,url:"/web/search",label:"Search"},{id:3,url:"/web/search?q=hotels",label:"Hotels"},{id:4,url:"/web/search?q=travel",label:"Travel"},{id:5,url:"/web/search?q=real estate",label:"Real Estate"},{id:6,url:"/web/search?q=services",label:"Services"}],Q=()=>{var d;const e=f();N();const c=e.data,t=e.query,[r,o]=l.useState(null);return l.useEffect(()=>{t&&o(t)},[t]),s.jsxs("div",{children:[s.jsx(E,{}),s.jsx("div",{className:"px-[15px] border-b",children:s.jsx("div",{className:"max-w-[1100px] mx-auto w-full",children:s.jsxs("div",{className:" grid grid-cols-12 gap-x-2",children:[s.jsx("div",{className:`flex place-items-center col-span-12 md:col-span-4 truncate
                             pt-3 pb-0 md:pb-3 `,children:s.jsx("span",{className:"text-[18px] font-bold",children:((d=e.query)==null?void 0:d.length)>0?`Search for '${e.query}'`:"Browse Updates"})}),s.jsx("div",{className:`space-x-6 flex place-items-center place-content-start
                            col-span-12 md:col-span-8 truncate md:place-content-end
                             pt-0 pb-2 md:pt-3 md:pb-3 `,children:P.map((m,i)=>s.jsx(p,{to:`${m.url}`,className:"text-[14px]",children:m.label},i))})]})})}),s.jsxs(q,{children:[c.length>0?s.jsx(I,{data:c,itemsPerPage:20}):s.jsx("div",{className:`flex place-items-center rounded
                            place-content-center p-5 border capitalize`,children:s.jsx("span",{children:"no record"})}),s.jsx(v,{category:"entertainment",limit:5,title:"Entertainment",subtitle:"Entertainment based businesses added in the last 7 days"}),s.jsx(v,{category:"services",limit:5,title:"Services",subtitle:"Services based businesses added in the last 7 days"})]}),s.jsx($,{})]})};export{Q as default};
