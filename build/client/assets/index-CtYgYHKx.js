import{j as e}from"./jsx-runtime-0DLF9kdB.js";import{r as c,L as $,c as oe}from"./components-kAvIA9Ge.js";import{I as xe,u as ee,z as ie,n as y,Q as me,R as he,S as ue,T as pe,U as je,g as V,V as ve,W as q,X as ge,Y as Ne,B as fe,a as we,P as ye}from"./index-BKi4tw_A.js";import{u as H}from"./SliderContext-Bfidz2it.js";import{u as _e,s as Se,z as U}from"./index-CLh2UBG4.js";import{u as te}from"./NotificationContext-BnBjis1x.js";import{B as be,a as Re,e as ke,f as Ee}from"./MobileNav-WD4SLO32.js";import{L as Le,F as De}from"./LatestStarRating-BaglJLfU.js";import{G as Ge}from"./GenericNav-DaYa_fG5.js";import{H as Be}from"./HomeNav-T9IOjZgo.js";import"./index-hJsRv-pT.js";import"./Hamburger-1rpR6E2l.js";const se=c.createContext(null);function le(){const t=c.useContext(se);if(!t)throw new Error("useGallery must be used within a GalleryProvider");return t}const Ce=({children:t})=>{const[s,a]=c.useState(!1),[l,o]=c.useState(null),r=H(),[x,h]=c.useState(null),m="https://oxbyt.com",p=()=>a(!1);let f={setShow:a,setGallery:o,setListing:h};const g=d=>{r.setDialog(!0),r.setSelectedSlide(d+1),r.setGallery(l)};return e.jsxs(se.Provider,{value:f,children:[s&&e.jsxs("div",{onMouseDown:d=>a(!1),className:`flex w-screen h-screen bg-black/40 
                        z-[3000] fixed top-0 left-0 right-0 bottom-0
                        place-items-center place-content-center px-[15px]`,children:[e.jsx("div",{onMouseDown:d=>d.stopPropagation(),className:`w-[95%] sm:w-[95%] md:w-[80%] max-h-[80%] mx-auto
                         bg-white rounded-lg shadow-lg shadow-black/50 space-y-6
                         z-[3100] overflow-hidden`,children:e.jsxs("div",{className:"w-full h-full",children:[e.jsx("div",{className:"border-b py-3 px-3",children:e.jsxs("div",{className:`font-bold text-gray-700
                                    text-xl w-[80%]  truncate`,children:["Gallery for ",x&&(x==null?void 0:x.title)]})}),e.jsx("div",{className:`grid grid-cols-4 md:grid-cols-6 gap-2 
                                h-full overflow-y-auto pt-2 px-2 pb-2
                                bg-gray-800 `,children:l&&(l==null?void 0:l.map((d,N)=>e.jsx("div",{onClick:()=>g(N),className:`relative hover:cursor-pointer
                                                 bg-red-200 h-[80px] md:h-[100px] lg:h-[120px] rounded-md
                                                 overflow-hidden`,children:e.jsx("img",{className:"object-cover w-full h-full",src:m+d.image_url,alt:""})})))})]})}),e.jsx("div",{onMouseDown:()=>p(),className:`w-[50px] h-[50px] z-[300] bg-white
                                flex place-content-center place-items-center
                                rounded-full absolute left-2 top-2 cursor-pointer
                                hover:bg-white/40 transition duration-1000 ease-in-out`,children:e.jsx(xe,{className:"text-[30px]"})})]}),t]})},z=100,ae=c.createContext(null);function Me(){const t=c.useContext(ae);if(!t)throw new Error("useRating must be used within a RatingProvider");return t}const Ie=U.object({fullname:U.any(),rating:U.any(),comment:U.any()});function Ae({children:t}){var K,J,Q;const[s,a]=c.useState(!1),[l,o]=c.useState(!1),[r,x]=c.useState(null),[h,m]=c.useState(void 0),[p,f]=c.useState(""),g=te(),[d,N]=c.useState(5);let{user:b}=ee();const[M,L]=c.useState(null),[D,_]=c.useState(!1),k=n=>n.trim()===""?0:n.trim().split(/\s+/).length,i=n=>{let j=n.target.value,R=n.target.name;L(B=>({...B,[R]:j}))},{register:v,handleSubmit:w,getValues:E,setValue:G,watch:I,reset:A,setError:F,formState:{errors:S,isSubmitting:W}}=_e({resolver:Se(Ie)}),T=n=>{const j=n.target.value,R=j.trim().split(/\s+/);if(R.length<=z)G("text",j),_(!1);else{_(!0);const B=R.slice(0,z).join(" ");G("text",B)}},u=async n=>{g.notify("Working..."),await new Promise(C=>setTimeout(C,1e3));const j=b.guid,R=r.gid;n.user_guid=j,n.business_guid=R;const ne="https://tynk.cc"+"/api/rating";try{const C=await fetch(ne,{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify(n)}),de=await C.json();C.ok?g.alert("Success","Rating submitted successfully!"):g.alert("Error",de.error)}catch(C){g.alert("",C.message)}};let X={show:s,setShow:a,setListing:x,reset:A,setRatingData:m,validateData:async(n,j)=>{if((n==null?void 0:n.length)===0){let R=(j==null?void 0:j.first_name)||"",B=(j==null?void 0:j.last_name)||"",Y=R+" "+B;G("fullname",Y)}}};const ce=I("text")||"",re=n=>{ce.trim().split(/\s+/).length>=z&&n.key!=="Backspace"&&n.key!=="Delete"&&!n.ctrlKey?(n.preventDefault(),_(!0)):_(!1)};return e.jsxs(ae.Provider,{value:X,children:[s&&e.jsx("div",{className:`flex w-screen h-screen bg-black/40 z-[3000] 
                fixed top-0 left-0 right-0 bottom-0 place-items-center place-content-center`,children:e.jsxs("div",{className:"w-[450px] h-fit mx-auto p-6 bg-white rounded-xl shadow-md space-y-6",children:[e.jsx("h2",{className:"text-2xl font-bold",children:"Create/Edit Rating"}),e.jsxs("form",{onSubmit:w(u),className:"space-y-4",children:[e.jsxs("div",{children:[e.jsx("label",{className:"block mb-1 text-sm font-semibold",children:"Full Name"}),e.jsx("input",{...v("fullname",{onChange:i}),type:"text",className:"w-full px-3 py-2 border rounded-md",placeholder:"Enter Business GUID"}),((K=S.fullname)==null?void 0:K.message)&&e.jsx("div",{className:"text-red-500 mt-1 text-sm",children:S.fullname.message.toString()})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block mb-1 text-sm font-semibold",children:"Stars"}),e.jsx("select",{...v("rating",{onChange:n=>{N(Number(n.target.value)),i(n)}}),className:"w-full px-3 py-2 border rounded-md",children:[5,4,3,2,1].map(n=>e.jsxs("option",{value:n,children:[n," Star",n>1?"s":""]},n))}),((J=S.rating)==null?void 0:J.message)&&e.jsx("div",{className:"text-red-500 mt-1 text-sm",children:S.rating.message.toString()})]}),e.jsxs("div",{children:[e.jsxs("div",{className:"flex place-content-between",children:[e.jsx("label",{className:"block mb-1 text-sm font-semibold",children:"Comment"}),e.jsxs("label",{className:" text-gray-600 text-sm",children:["Word Count: ",e.jsx("strong",{children:k(p)})]})]}),e.jsx("textarea",{...v("comment",{onChange:n=>{k(p)<=z?(f(n.target.value),T(n),i(n)):n.preventDefault()}}),onKeyDown:re,className:"w-full px-3 py-2 border rounded-md text-sm",placeholder:"Write your review...",rows:4}),D&&e.jsx("div",{className:"text-red-500 mt-0 text-sm",children:"Maximum maximumWords words allowed."}),((Q=S.comment)==null?void 0:Q.message)&&e.jsx("div",{className:"text-red-500 mt-0 text-sm",children:S.comment.message.toString()})]}),e.jsxs("div",{className:"w-full grid grid-cols-2 gap-2",children:[e.jsx("button",{onClick:()=>a(!1),className:`w-full bg-red-200 rounded-md
                                        hover:bg-red-100`,children:"Close"}),e.jsx("button",{type:"submit",disabled:l,className:"w-full bg-blue-600 text-white py-2 rounded-md hover:bg-blue-700",children:l?"Submitting...":"Submit Rating"})]})]})]})}),t]})}const Te=({listing:t})=>e.jsxs(e.Fragment,{children:[e.jsx("div",{className:`text-[19px] md:text-[24px] 
                font-bold mt-[5px] leading-[1.2em]`,children:t==null?void 0:t.title}),e.jsxs("div",{className:"text-[13px] mt-1.5 leading-[1.2em]",children:[t!=null&&t.address_one?`${t==null?void 0:t.address_one}, `:"",t!=null&&t.address_two?`${t==null?void 0:t.address_two}, `:"",t!=null&&t.city_name?`${t==null?void 0:t.city_name}, `:"",t!=null&&t.state_name?`${t==null?void 0:t.state_name}, `:"",t==null?void 0:t.country_name]})]}),Ue=({listing:t})=>{const[s,a]=c.useState("");return c.useEffect(()=>{t.gid&&ie(t.gid).then(o=>{a(y.IMG_BASE_URL+o.image_url)})},[t]),e.jsxs("div",{className:"mt-12",children:[e.jsx("div",{className:"font-bold text-lg",children:"About this business"}),e.jsxs("div",{className:`flex place-items-start place-content-start
                gap-2 mt-4 mb-3`,children:[e.jsx("div",{className:`rounded-full bg-black w-[30px] h-[30px]
                    overflow-hidden relative`,children:e.jsx("img",{className:"object-cover w-full h-full",src:s,alt:""})}),e.jsxs("div",{className:"flex flex-col",children:[e.jsx("div",{className:"text-md font-bold tracking-tight leading-[1.2em]",children:t.title}),e.jsx("div",{className:"text-[12px] capitalize",children:t.category})]})]}),e.jsx("div",{className:"flex flex-col gap-y-5 text-[14px] mt-4 whitespace-pre-wrap",children:t==null?void 0:t.long_description})]})},ze=({listing:t})=>{const s=Me(),{user:a}=ee(),l=te();c.useEffect(()=>{t!=null&&t.gid&&(a!=null&&a.guid)&&(s.setListing(t),me(a.guid,t.gid).then(x=>{(x==null?void 0:x.length)!==0?(s.reset(x),s.setRatingData(x)):s.validateData(x,a)}))},[t,a]);const o=x=>{x?(l.cancel(),window.location.href="/signin"):l.cancel()},r=()=>{(a==null?void 0:a.guid)===null||(a==null?void 0:a.guid)===void 0?l.confirm("Login to continue",o):s.setShow(!0)};return e.jsx("div",{className:"w-full mt-0 ",children:e.jsx("div",{className:"",children:e.jsx("button",{onClick:()=>r(),className:`bg-blue-500 text-white flex flex-col
                items-center pt-[2px] pb-[3px] w-full `,children:"Write Review"})})})},Z=({businessProfile:t})=>e.jsx("div",{className:"w-full",children:e.jsxs("div",{className:` md:mx-[25px] bg-[#006ce4]/10
            md:rounded-[5px] overflow-hidden pt-[30px]
            pb-[15px]`,children:[e.jsx("div",{className:`font-bold text-[15px] pb-2 
                   px-[20px]`,children:"Property Address"}),e.jsx("div",{className:"h-[25px]"}),e.jsxs("div",{className:`grid grid-cols-1 md:grid-cols-3 lg:grid-cols-1 
                text-[14px]  tracking-tight
                md:space-x-4 lg:space-x-0 text-black/80 font-sans
                `,children:[e.jsxs("div",{className:"px-[20px] space-y-4 lg:space-y-4",children:[e.jsx("div",{className:" w-full",children:e.jsxs("div",{className:"grid grid-cols-12",children:[e.jsx("div",{className:"col-span-1 ",children:e.jsx(he,{className:"text-[20px]"})}),e.jsxs("div",{className:`col-span-11 leading-[1.2em] ml-2
                            text-[12px]`,children:[(t==null?void 0:t.address_one)+", ",(t==null?void 0:t.address_two)!==null?(t==null?void 0:t.address_two)+", ":"",(t==null?void 0:t.city_name)!==null?(t==null?void 0:t.city_name)+", ":"",(t==null?void 0:t.state_name)!==null?(t==null?void 0:t.state_name)+", ":"",(t==null?void 0:t.zipcode)!==null?(t==null?void 0:t.zipcode)+", ":"",t==null?void 0:t.country_name]})]})}),e.jsx("div",{className:"  w-full",children:e.jsx($,{to:`tel:${t==null?void 0:t.phone}`,children:e.jsxs("div",{className:"grid grid-cols-12",children:[e.jsx("div",{className:"col-span-1",children:e.jsx(ue,{className:"text-[20px]"})}),e.jsx("div",{className:`col-span-11 leading-[1.2em] ml-2
                                    text-[12px]`,children:t==null?void 0:t.phone})]})})}),e.jsx("div",{className:"  w-full",children:e.jsx($,{to:`${t==null?void 0:t.website}`,children:e.jsxs("div",{className:"grid grid-cols-12",children:[e.jsx("div",{className:`col-span-1 relative top-0
                            `,children:e.jsx(pe,{className:"text-[22px]"})}),e.jsx("div",{className:`col-span-11 leading-[1.2em] ml-2 top-0
                            flex place-items-center text-[12px]`,children:"Website"})]})})}),e.jsx("div",{className:"  w-full",children:e.jsx($,{to:`mailto:${t==null?void 0:t.email_address}`,children:e.jsxs("div",{className:"grid grid-cols-12",children:[e.jsx("div",{className:`col-span-1 relative top-0
                            `,children:e.jsx(je,{className:"text-[20px]"})}),e.jsx("div",{className:`col-span-11 leading-[1.2em] ml-2 top-0
                            flex place-items-center text-[12px]`,children:"Email Address"})]})})})]}),e.jsx("div",{children:e.jsx("div",{className:`bg-blue-500 mt-[40px] mx-[15px]
                        text-white text-center py-2 rounded`,children:e.jsx(ze,{})})})]})]})}),$e=({ratingsData:t,rating:s=3.5,maxStars:a=5})=>{const l=[];for(let o=1;o<=a;o++)o<=s?l.push(e.jsx("span",{className:"text-green-700 text-md",children:e.jsx(be,{})},o)):l.push(e.jsx("span",{className:`text-green-700 text-md rounded-full
                overflow-hidden`,children:e.jsx(Re,{className:"bg-green-100"})},o));return e.jsxs("div",{className:" flex w-full place-items-center gap-2 mt-6",children:[e.jsx("div",{className:"flex  gap-x-[3px] -mt-[2px]",children:l}),e.jsx("div",{className:"text-gray-400",children:e.jsx(V,{className:"text-[15px] text-green-700"})}),e.jsxs("div",{className:" text-sm",children:["Rating: ",s]}),e.jsx("div",{className:"text-gray-400",children:e.jsx(V,{className:"text-[15px] text-green-700"})}),e.jsxs("div",{className:"text-sm",children:["Reviews: ",Number(t.rating_count)]})]})},Fe=({listing:t})=>{const[s,a]=c.useState(void 0);return c.useEffect(()=>{ve(t.gid).then(l=>{a(l)})},[t.business_guid]),e.jsxs("div",{className:" mt-12",children:[e.jsx("div",{className:" font-bold text-xl",children:"Features"}),e.jsx("div",{className:"grid grid-cols-2 gap-4 mt-3",children:s==null?void 0:s.map((l,o)=>e.jsxs("div",{className:"flex flex-col",children:[e.jsx("div",{className:"font-bold",children:l.name}),e.jsx("div",{className:"text-sm mt-[-2px] text-gray-500 leading-[1.2em] tracking-normal",children:l.user_description||l.description})]},o))})]})},We=({listing:t})=>e.jsxs("div",{className:"mt-4",children:[e.jsx("div",{className:"text-lg font-bold",children:"Intro"}),e.jsx("div",{className:" text-[14px] flex flex-col gap-y-4 whitespace-pre-wrap",children:t.short_description})]}),P=({rating:t=3.5,maxStars:s=5})=>{const a=[];for(let l=1;l<=s;l++)l<=t?a.push(e.jsx("span",{className:"text-yellow-500 text-lg",children:e.jsx(ke,{})},l)):a.push(e.jsx("span",{className:"text-yellow-500 text-lg",children:e.jsx(Ee,{})},l));return e.jsxs("div",{className:" flex w-full place-items-center gap-2 mt-0",children:[e.jsx("div",{className:"flex  gap-x-[3px] -mt-[2px]",children:a}),e.jsx("div",{className:"text-gray-400",children:e.jsx(V,{className:"text-[15px] text-yellow-400"})}),e.jsxs("div",{className:" text-sm",children:["Rating: ",Number(t).toFixed(0)]})]})},Xe=({listing:t})=>{const[s,a]=c.useState([]),[l,o]=c.useState({});return c.useEffect(()=>{const r=async h=>{h&&await ge(h).then(m=>{a(m)})},x=async h=>{h&&await Ne(h).then(m=>{o(m)})};t.gid&&(r(t.gid),x(t.gid))},[t]),e.jsxs("div",{className:"mt-12",children:[e.jsx("div",{className:"text-xl font-bold",children:"Reviews"}),e.jsxs("div",{className:"-mt-1 text-[14px] flex flex-col -gap-y-1 font-light",children:[e.jsx("div",{className:"font-bold",children:"Overall Rating:"}),l&&e.jsx(P,{rating:l==null?void 0:l.rating_average})]}),e.jsx("hr",{className:"mt-3"}),e.jsx("div",{className:"flex flex-col gap-y-4 divide-y-[1px]",children:s!==null&&(s==null?void 0:s.map((r,x)=>e.jsxs("div",{className:"pt-7 pb-4",children:[e.jsxs("div",{className:"flex place-items-start gap-2",children:[e.jsx("div",{className:`w-[30px] h-[30px] rounded-full
                                        bg-black overflow-hidden`,children:e.jsx("img",{src:y.IMG_BASE_URL+r.image_url,alt:""})}),e.jsxs("div",{className:"flex flex-col",children:[e.jsx("div",{className:"text-sm font-bold",children:r.fullname}),e.jsx("div",{className:"text-[12px]",children:`${r==null?void 0:r.city_name}, ${r==null?void 0:r.state_name}`}),e.jsx("div",{className:"text-[12px]",children:`${r==null?void 0:r.country_name}`})]})]}),e.jsxs("div",{className:"mt-2",children:[e.jsx("div",{children:e.jsx(P,{rating:r.rating})}),e.jsxs("div",{className:"text-[12px] flex gap-1 place-items-center",children:[e.jsx("b",{children:"Created at:"}),e.jsx("span",{className:"text-[12px]",children:q(r.created_at)})]}),e.jsxs("div",{className:"text-[12px] flex gap-1 place-items-center",children:[e.jsx("b",{children:"Last Edited:"}),e.jsx("span",{className:"text-[12px]",children:q(r.updated_at)})]}),e.jsx("div",{className:"text-[14px] mt-2",children:r.comment})]})]},x)))})]})},Ve=({images:t,listing:s})=>{var f,g,d,N,b,M,L,D,_,k,i,v,w,E,G,I,A,F,S,W,T;const[a,l]=c.useState([]),o=H(),r=le(),[x,h]=c.useState([]);c.useEffect(()=>{let u=[...a];t&&(t.map((O,X)=>{X+1<12&&u.push(O)}),h(u))},[t]);const m=u=>{u<t.length&&(o.setDialog(!0),o.setSelectedSlide(u+1),o.setGallery(t),o.setListing(s))},p=u=>{r.setShow(!0),r.setGallery(t),r.setListing(s)};return e.jsxs("div",{className:"w-full h-auto mb-[32px] flex flex-col gap-2",children:[e.jsxs("div",{className:`h-[350px]
                grid grid-cols-12 gap-2`,children:[e.jsx("div",{className:`col-span-7 bg-red-300
                    row-span-2 rounded-md overflow-hidden
                    relative cursor-pointer`,onMouseDown:u=>m(0),children:e.jsx("img",{src:((f=t[0])==null?void 0:f.image_url)!==void 0&&((g=t[0])==null?void 0:g.image_url)!==null?y.IMG_BASE_URL+((d=t[0])==null?void 0:d.image_url):"https://accuvice.ng/wp-content/uploads/2016/06/placeholder.gif",alt:"",className:"object-cover h-full w-full"})}),e.jsx("div",{className:`col-span-5 bg-blue-300
                    rounded-md overflow-hidden
                    relative cursor-pointer`,onMouseDown:u=>m(1),children:e.jsx("img",{src:((N=t[1])==null?void 0:N.image_url)!==void 0&&((b=t[1])==null?void 0:b.image_url)!==null?y.IMG_BASE_URL+((M=t[1])==null?void 0:M.image_url):"https://accuvice.ng/wp-content/uploads/2016/06/placeholder.gif",alt:"",className:"object-cover h-full w-full"})}),e.jsx("div",{className:`col-span-5 bg-green-300
                    rounded-md overflow-hidden
                    relative cursor-pointer`,onMouseDown:u=>m(2),children:e.jsx("img",{src:((L=t[2])==null?void 0:L.image_url)!==void 0&&((D=t[2])==null?void 0:D.image_url)!==null?y.IMG_BASE_URL+((_=t[2])==null?void 0:_.image_url):"https://accuvice.ng/wp-content/uploads/2016/06/placeholder.gif",alt:"",className:"object-cover h-full w-full"})})]}),e.jsxs("div",{className:"grid grid-cols-5 gap-1.5",children:[e.jsx("div",{className:`rounded overflow-hidden
                    relative cursor-pointer h-[100px]`,onMouseDown:u=>m(3),children:e.jsx("img",{src:((k=t[3])==null?void 0:k.image_url)!==void 0&&((i=t[3])==null?void 0:i.image_url)!==null?y.IMG_BASE_URL+((v=t[3])==null?void 0:v.image_url):"https://accuvice.ng/wp-content/uploads/2016/06/placeholder.gif",alt:"",className:"object-cover h-full w-full"})}),e.jsx("div",{className:`rounded overflow-hidden
                    relative cursor-pointer h-[100px]`,onMouseDown:u=>m(4),children:e.jsx("img",{src:((w=t[4])==null?void 0:w.image_url)!==void 0&&((E=t[4])==null?void 0:E.image_url)!==null?y.IMG_BASE_URL+((G=t[4])==null?void 0:G.image_url):"https://accuvice.ng/wp-content/uploads/2016/06/placeholder.gif",alt:"",className:"object-cover h-full w-full"})}),e.jsx("div",{className:`rounded-md overflow-hidden
                    relative bg-black cursor-pointer h-[100px]`,onMouseDown:u=>m(5),children:e.jsx("img",{src:((I=t[5])==null?void 0:I.image_url)!==void 0&&((A=t[5])==null?void 0:A.image_url)!==null?y.IMG_BASE_URL+((F=t[5])==null?void 0:F.image_url):"https://accuvice.ng/wp-content/uploads/2016/06/placeholder.gif",alt:"",className:"object-cover h-full w-full"})}),e.jsx("div",{className:`rounded-md overflow-hidden
                    relative bg-black cursor-pointer h-[100px]`,onMouseDown:u=>m(6),children:e.jsx("img",{src:((S=t[6])==null?void 0:S.image_url)!==void 0&&((W=t[6])==null?void 0:W.image_url)!==null?y.IMG_BASE_URL+((T=t[6])==null?void 0:T.image_url):"https://accuvice.ng/wp-content/uploads/2016/06/placeholder.gif",alt:"",className:"object-cover h-full w-full"})}),e.jsx("div",{className:`rounded-md overflow-hidden
                    relative bg-black text-white cursor-pointer
                    flex place-content-center place-items-center h-[100px]`,onMouseDown:u=>p(),children:(t==null?void 0:t.length)>7?`+${t.length-7}`:"View all"})]})]})},He=({images:t,listing:s})=>{const[a,l]=c.useState(0),o=c.useRef(0);c.useRef(0);const r=i=>{o.current=i.touches[0].clientX},x=i=>{const v=i.changedTouches[0].clientX,w=o.current-v;w>50?l(E=>(E+1)%t.length):w<-50&&l(E=>(E-1+t.length)%t.length)},[h,m]=c.useState(null);let p=c.useRef(null);const[f,g]=c.useState([]),d=H();le();const[N,b]=c.useState([]);c.useEffect(()=>{let i=[...f];t&&(t.map((v,w)=>{w+1<12&&i.push(v)}),b(i))},[t]);const M=i=>{i<t.length&&(d.setDialog(!0),d.setSelectedSlide(i+1),d.setGallery(t),d.setListing(s))};c.useEffect(()=>{t&&m(t)},[t]);const L=()=>{l(i=>i===0?h.length-1:i-1)},D=()=>{l(i=>i===h.length-1?0:i+1)},_=async()=>{p.current&&clearTimeout(p.current),D(),p.current=setTimeout(()=>{},15e3)},k=async()=>{p.current&&clearTimeout(p.current),L(),p.current=setTimeout(()=>{},15e3)};return c.useEffect(()=>{},[h]),e.jsx(e.Fragment,{children:e.jsxs("div",{className:"relative",children:[e.jsx("div",{className:` w-full h-[300px] md:h-[500px] flex 
          overflow-hidden z-0
          `,children:h==null?void 0:h.map((i,v)=>e.jsx("img",{onTouchStart:r,onTouchEnd:x,onMouseDown:w=>M(v),src:y.IMG_BASE_URL+i.image_url,alt:"",style:{transform:`translateX(-${a*100}%)`},className:`object-cover w-full h-full 
                      block flex-shrink-0 flex-grow-0 transition-transform
                      ease-in-out duration-1000 cursor-pointer`},v))}),e.jsxs("div",{className:"z-[300]",children:[e.jsx("button",{onMouseDown:k,className:`block absolute top-0 bottom-0 
                                                  z-[300] p-[1rem] cursor-pointer left-0 group h-full 
                                                        transition duration-1000 ease-in-out`,children:e.jsx("div",{className:`w-[50px] h-[50px] bg-white/60 rounded-full 
            place-content-center place-items-center group-hover:bg-white/30
            z-[300] transition duration-500 ease-in-out`,children:e.jsx(fe,{className:" stroke-white fill-black w-[2rem] h-[2rem]"})})}),e.jsx("button",{onMouseDown:_,className:`block absolute top-0 bottom-0 
                                                        z-[300]    p-[1rem] cursor-pointer right-0 group 
                                                             transition duration-1000 ease-in-out`,children:e.jsx("div",{className:`w-[50px] h-[50px] bg-white/60 rounded-full 
            flex place-content-center place-items-center group-hover:bg-white/30
            z-[300]   transition duration-500 ease-in-out
            `,children:e.jsx(we,{className:" stroke-white fill-black w-[2rem] h-[2rem]"})})})]})]})})},Oe=({listing:t,images:s,ratingsData:a})=>e.jsxs("div",{className:"",children:[e.jsx("div",{className:"px-[15px] w-full",children:e.jsxs("div",{className:"max-w-[1100px] w-full mx-auto bg-white",children:[a&&e.jsx($e,{ratingsData:a,rating:Number(a.rating_average)}),t&&e.jsx(Te,{listing:t})]})}),(s==null?void 0:s.length)>0&&t&&e.jsx("div",{className:`bg-black h-fit md:hidden
                mt-4`,children:e.jsx(He,{images:s,listing:t})}),e.jsx("div",{className:"px-[0px] md:pt-4",children:e.jsx("div",{className:"max-w-[1100px] w-full mx-auto bg-white",children:e.jsxs("div",{className:`grid grid-cols-12 gap-0 md:gap-0 relative
                    `,children:[e.jsxs("div",{className:" col-span-12 lg:col-span-8",children:[e.jsx("div",{className:"hidden md:block mt-0",children:(s==null?void 0:s.length)>0&&t&&e.jsx(Ve,{images:s,listing:t})}),e.jsxs("div",{className:"",children:[e.jsx("div",{className:`lg:hidden ${(s==null?void 0:s.length)<=0&&"mt-5"}  md:mt-0 mb-5`,children:t&&e.jsx(Z,{businessProfile:t})}),e.jsxs("div",{className:"px-[15px] md:px-[0px]",children:[e.jsx(We,{listing:t}),e.jsx(Fe,{listing:t}),e.jsx(Ue,{listing:t}),t&&e.jsx(Xe,{listing:t})]})]})]}),e.jsx("div",{className:"col-span-12 lg:col-span-4 hidden lg:block",children:e.jsx("div",{className:" sticky top-[100px]",children:t&&e.jsx(Z,{businessProfile:t})})})]})})})]}),Ke=({title:t,subtitle:s,category:a,limit:l})=>{const[o,r]=c.useState(""),[x,h]=c.useState(""),[m,p]=c.useState([]),f="https://oxbyt.com";c.useEffect(()=>{t&&s&&(r(t),h(s))},[t,s]);let g=async(d,N)=>{if(N&&d){let b=await ye(d,N);p(b)}};return c.useEffect(()=>{l&&a&&g(a,l)},[l,a]),e.jsx("div",{className:"px-[15px]",children:e.jsx("div",{className:"max-w-[1100px] mx-auto w-full",children:e.jsxs("div",{className:"mt-10 border-t pt-5",children:[e.jsxs("div",{className:" mb-[20px] ",children:[e.jsx("div",{className:"font-semibold text-xl",children:o}),e.jsx("div",{className:"text-sm -mt-[2px]",children:x})]}),e.jsx("div",{className:"grid grid-cols-2 md:grid-cols-3 lg:grid-cols-4 gap-x-3 gap-y-4",children:m==null?void 0:m.map((d,N)=>e.jsxs("div",{children:[e.jsx("div",{children:e.jsx($,{to:`/${d.gid}`,children:e.jsx("div",{className:`relative h-[120px]
                                                    md:h-[180px]`,children:e.jsx("img",{className:`object-cover w-full h-full
                                                    text-sm`,src:d!=null&&d.image_url?f+(d==null?void 0:d.image_url):"images/placeholder.gif",alt:d.title})})})}),e.jsx("div",{className:`mt-1 text-[15px] tracking-tight 
                                     truncate`,children:d.title}),e.jsx("div",{className:"mt-1",children:e.jsx(Le,{rating:d.avg_rating})}),e.jsx("div",{className:`text-[11px] mt-[5px] tracking-tight
                                    leading-[1.2em]`,children:d.short_description.substring(0,100)})]},N))})]})})})},rt=()=>{const t=oe(),s=t.listing,a=t.gallery,l=t.ratingsData;return e.jsx(Ae,{children:e.jsxs(Ce,{children:[e.jsx("div",{className:"hidden md:block",children:e.jsx(Ge,{})}),e.jsx("div",{className:"md:hidden",children:e.jsx(Be,{})}),s.gid!==null&&s.gid!==void 0&&e.jsx(Oe,{listing:s,images:a,ratingsData:l}),e.jsx(Ke,{category:s==null?void 0:s.category,limit:6,title:`Related: ${s==null?void 0:s.category}`,subtitle:"Related based on the same category."}),e.jsx(De,{})]})})};export{rt as default};
