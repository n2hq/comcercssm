import{j as e}from"./jsx-runtime-0DLF9kdB.js";import{r,L as A,c as pe}from"./components-DN9bEK-g.js";import{I as ie,e as ue,B as je,a as fe}from"./index-Cy9hsoXp.js";import{u as J}from"./SliderContext-CRrCLsoQ.js";import{u as le}from"./AuthContext-C6LyRwiZ.js";import{u as ve,s as Ne,z as F}from"./index-CORT_df8.js";import{u as ae}from"./NotificationContext-D40QLUsT.js";import{w as K,f as N,D as we,E as ge,H as ee,I as be,J as ye,K as _e,L as Se,M as ke,N as Re,O as Ee,P as W,A as Le}from"./lib-NVLtleF7.js";import{i as Be,j as Ge,k as Ce,l as re}from"./index-D2xaK09s.js";import{f as Ie,g as Me,h as Ae,i as De,j as Te,k as $e}from"./index-Cazkco7-.js";import{b as Ue}from"./UserMenu-CT4mM-N6.js";import{L as Fe}from"./LatestStarRating-CV0G-svK.js";import{H as ze}from"./HomeNav-DUKIgg22.js";import{T as We}from"./TopAd-Cm4tYdQx.js";import{L as Ke,V as He}from"./VerticalHeight-BXwmQb5d.js";import{C as Xe,F as Oe}from"./FooterSection-yfT87hKI.js";import"./WhiteLogo-DM7nNDC1.js";import"./SearchNavbar-Capj8EHm.js";const oe=r.createContext(null);function ne(){return r.useContext(oe)}const qe=({children:t})=>{const[s,c]=r.useState(!1),[a,d]=r.useState(null),n=J(),[o,l]=r.useState(null),i="https://tpics.gasimg.com",j=()=>c(!1);let m={setShow:c,setGallery:d,setListing:l};const b=u=>{n.setDialog(!0),n.setSelectedSlide(u+1),n.setGallery(a)};return r.useEffect(()=>{const u=y=>{y.key==="Escape"&&j()};return s&&document.addEventListener("keydown",u),()=>{document.removeEventListener("keydown",u)}},[s]),e.jsxs(oe.Provider,{value:m,children:[s&&e.jsxs("div",{onMouseDown:u=>c(!1),className:`flex w-screen h-screen bg-black/40 
                        z-[3000] fixed top-0 left-0 right-0 bottom-0
                        place-items-center place-content-center px-[15px]`,children:[e.jsx("div",{onMouseDown:u=>u.stopPropagation(),className:`min-w-[95%] w-[95%] sm:w-[95%] md:w-[80%] h-[80%] max-h-[80%] 
                            mx-auto bg-white rounded-lg shadow-lg shadow-black/50 
                            space-y-6 z-[3100] overflow-hidden`,children:e.jsxs("div",{className:"w-full h-full",children:[e.jsx("div",{className:"border-b py-3 px-3",children:e.jsxs("div",{className:`font-bold text-gray-700
                                    text-xl w-[80%]  truncate`,children:["Gallery for ",o&&(o==null?void 0:o.title)]})}),e.jsx("div",{className:` 
                                h-full overflow-y-auto pt-2 px-2 pb-2
                                bg-white `,children:e.jsx("div",{className:"grid grid-cols-4 md:grid-cols-6 gap-2",children:a&&(a==null?void 0:a.map((u,y)=>e.jsx("div",{onClick:()=>b(y),className:`relative hover:cursor-pointer
                                                 bg-red-200 h-[80px] md:h-[100px] lg:h-[120px] rounded-md
                                                 overflow-hidden`,children:e.jsx("img",{className:"object-cover w-full h-full",src:i+u.image_url,alt:""})})))})})]})}),e.jsx("div",{onMouseDown:()=>j(),className:`w-[50px] h-[50px] z-[300] bg-white
                                flex place-content-center place-items-center
                                rounded-full absolute left-2 top-2 cursor-pointer
                                hover:bg-white/40 transition duration-1000 ease-in-out`,children:e.jsx(ie,{className:"text-[30px]"})})]}),t]})},z=100,de=r.createContext(null);function Ve(){return r.useContext(de)}const Je=F.object({fullname:F.any(),rating:F.any(),comment:F.any()});function Ye({children:t}){var Y,Q,Z;const[s,c]=r.useState(!1),[a,d]=r.useState(!1),[n,o]=r.useState(null),[l,i]=r.useState(void 0),[j,m]=r.useState(""),b=ae(),[u,y]=r.useState(5),h=le();if(!h)return null;let{user:_}=h;const[S,B]=r.useState(null),[G,k]=r.useState(!1),p=x=>x.trim()===""?0:x.trim().split(/\s+/).length,w=x=>{let f=x.target.value,L=x.target.name;B(I=>({...I,[L]:f}))},{register:g,handleSubmit:E,getValues:H,setValue:C,watch:D,reset:T,setError:X,formState:{errors:R,isSubmitting:O}}=ve({resolver:Ne(Je)}),$=x=>{const f=x.target.value,L=f.trim().split(/\s+/);if(L.length<=z)C("text",f),k(!1);else{k(!0);const I=L.slice(0,z).join(" ");C("text",I)}},U=async x=>{b.notify("Working..."),await new Promise(M=>setTimeout(M,1e3));const f=_.guid,L=n.gid;x.user_guid=f,x.business_guid=L;const me="https://garssete.gasimg.com"+"/api/rating";try{const M=await fetch(me,{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify(x)}),he=await M.json();M.ok?b.alert("Success","Rating submitted successfully!"):b.alert("Error",he.error)}catch(M){b.alert("",M.message)}};let q={show:s,setShow:c,setListing:o,reset:T,setRatingData:i,validateData:async(x,f)=>{if((x==null?void 0:x.length)===0){let L=(f==null?void 0:f.first_name)||"",I=(f==null?void 0:f.last_name)||"",P=L+" "+I;C("fullname",P)}}};const V=D("text")||"",xe=x=>{V.trim().split(/\s+/).length>=z&&x.key!=="Backspace"&&x.key!=="Delete"&&!x.ctrlKey?(x.preventDefault(),k(!0)):k(!1)};return r.useEffect(()=>{const x=f=>{f.key==="Escape"&&c(!1)};return s&&document.addEventListener("keydown",x),()=>{document.removeEventListener("keydown",x)}},[s]),e.jsxs(de.Provider,{value:q,children:[s&&e.jsx("div",{className:`flex w-screen h-screen bg-black/40 z-[3000] 
                fixed top-0 left-0 right-0 bottom-0 place-items-center place-content-center`,children:e.jsxs("div",{className:"w-[450px] h-fit mx-auto p-6 bg-white rounded-xl shadow-md space-y-6",children:[e.jsx("h2",{className:"text-xl font-bold",children:"Create/Edit Rating"}),e.jsxs("form",{onSubmit:E(U),className:"space-y-4",children:[e.jsxs("div",{children:[e.jsx("label",{className:"block mb-1 text-sm font-semibold",children:"Full Name"}),e.jsx("input",{...g("fullname",{onChange:w}),type:"text",className:`w-full px-3 py-2 border rounded-md
                                        text-sm`,placeholder:"Enter Business GUID"}),((Y=R.fullname)==null?void 0:Y.message)&&e.jsx("div",{className:"text-red-500 mt-1 text-sm",children:R.fullname.message.toString()})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block mb-1 text-sm font-semibold",children:"Stars"}),e.jsx("select",{...g("rating",{onChange:x=>{y(Number(x.target.value)),w(x)}}),className:`w-full px-3 py-2 border rounded-md
                                        text-sm`,children:[5,4,3,2,1].map(x=>e.jsxs("option",{value:x,children:[x," Star",x>1?"s":""]},x))}),((Q=R.rating)==null?void 0:Q.message)&&e.jsx("div",{className:"text-red-500 mt-1 text-sm",children:R.rating.message.toString()})]}),e.jsxs("div",{children:[e.jsxs("div",{className:"flex place-content-between",children:[e.jsx("label",{className:"block mb-1 text-sm font-semibold",children:"Comment"}),e.jsxs("label",{className:" text-gray-600 text-sm",children:["Word Count: ",e.jsx("strong",{children:p(j)})]})]}),e.jsx("textarea",{...g("comment",{onChange:x=>{p(j)<=z?(m(x.target.value),$(x),w(x)):x.preventDefault()}}),onKeyDown:xe,className:`w-full px-3 py-2 border rounded-md 
                                        text-sm`,placeholder:"Write your review...",rows:4}),G&&e.jsx("div",{className:"text-red-500 mt-0 text-sm",children:"Maximum maximumWords words allowed."}),((Z=R.comment)==null?void 0:Z.message)&&e.jsx("div",{className:"text-red-500 mt-0 text-sm",children:R.comment.message.toString()})]}),e.jsxs("div",{className:"w-full grid grid-cols-2 gap-2",children:[e.jsx("button",{onClick:()=>c(!1),className:`w-full bg-red-200 rounded-md
                                        hover:bg-red-100 text-sm`,children:"Close"}),e.jsx("button",{type:"submit",disabled:a,className:`w-full bg-blue-600 text-white py-2 
                                        rounded-md hover:bg-blue-700 text-sm`,children:a?"Submitting...":"Submit Rating"})]})]})]})}),t]})}const Qe=({listing:t})=>e.jsxs(e.Fragment,{children:[e.jsx("div",{className:`text-[19px] md:text-[24px]
                font-bold mt-[5px] leading-[1.2em] border-b pb-1`,children:t==null?void 0:t.title}),e.jsxs("div",{className:"mt-1.5 leading-[1.2em]",children:[t!=null&&t.address_one?`${t==null?void 0:t.address_one}, `:"",t!=null&&t.address_two?`${t==null?void 0:t.address_two}, `:"",t!=null&&t.city_name?`${t==null?void 0:t.city_name}, `:"",t!=null&&t.state_name?`${t==null?void 0:t.state_name}, `:"",t==null?void 0:t.country_name]})]}),Ze=({listing:t})=>{const[s,c]=r.useState("");return r.useEffect(()=>{t.gid&&K(t.gid).then(d=>{c(N.IMG_BASE_URL+d.image_url)})},[t]),e.jsxs("div",{className:"mt-12",children:[e.jsx("div",{className:"font-bold text-xl border-b",children:"About this business"}),e.jsxs("div",{className:`flex place-items-start place-content-start
                gap-2 mt-4 mb-3`,children:[e.jsx("div",{className:`rounded-full bg-black w-[30px] h-[30px]
                    overflow-hidden relative`,children:e.jsx("img",{className:"object-cover w-full h-full",src:s,alt:""})}),e.jsxs("div",{className:"flex flex-col",children:[e.jsx("div",{className:"text-md font-bold tracking-tight leading-[1.2em]",children:t.title}),e.jsx("div",{className:"text-[12px] capitalize",children:t.category})]})]}),e.jsx("div",{className:"flex flex-col gap-y-5 text-[14px] mt-4 whitespace-pre-wrap",children:t==null?void 0:t.long_description})]})},Pe=({listing:t})=>{const s=Ve(),{user:c}=le(),a=ae();r.useEffect(()=>{t!=null&&t.gid&&(c!=null&&c.guid)&&(s.setListing(t),we(c.guid,t.gid).then(o=>{(o==null?void 0:o.length)!==0?(s.reset(o),s.setRatingData(o)):s.validateData(o,c)}))},[t,c]);const d=o=>{o?(a.cancel(),window.location.href="/signin"):a.cancel()},n=()=>{(c==null?void 0:c.guid)===null||(c==null?void 0:c.guid)===void 0?a.confirm("Login to continue",d):s.setShow(!0)};return e.jsx("div",{className:"w-full mt-0 ",children:e.jsx("div",{className:"",children:e.jsx("button",{onClick:()=>n(),className:`bg-blue-500 text-white flex flex-col
                items-center pt-[2px] pb-[3px] w-full `,children:"Write Review"})})})},te=({businessProfile:t})=>e.jsx("div",{className:"w-full",children:e.jsxs("div",{className:`  md:bg-white
            md:rounded overflow-hidden pt-[30px]
            pb-[15px] bg-[blue]/0 text-black md:black
            md:text-black  border-[1px] border-gray-300/70`,children:[e.jsx("div",{className:`font-bold text-[15px] pb-2 
                   px-[20px]`,children:"Property Address"}),e.jsx("div",{className:"h-[25px]"}),e.jsxs("div",{className:`grid grid-cols-1 md:grid-cols-3 lg:grid-cols-1 
                text-[14px]  tracking-tight
                md:space-x-4 lg:space-x-0 md:text-black/80 font-sans
                `,children:[e.jsxs("div",{className:"px-[20px] space-y-4 lg:space-y-4",children:[e.jsx("div",{className:" w-full",children:e.jsxs("div",{className:"grid grid-cols-12",children:[e.jsx("div",{className:"col-span-1 ",children:e.jsx(Be,{className:"text-[20px]"})}),e.jsxs("div",{className:`col-span-11 leading-[1.2em] ml-2
                            text-[12px]`,children:[(t==null?void 0:t.address_one)+", ",(t==null?void 0:t.address_two)!==null?(t==null?void 0:t.address_two)+", ":"",(t==null?void 0:t.city_name)!==null?(t==null?void 0:t.city_name)+", ":"",(t==null?void 0:t.state_name)!==null?(t==null?void 0:t.state_name)+", ":"",(t==null?void 0:t.zipcode)!==null?(t==null?void 0:t.zipcode)+", ":"",t==null?void 0:t.country_name]})]})}),e.jsx("div",{className:"  w-full",children:e.jsx(A,{to:`tel:${t==null?void 0:t.phone}`,children:e.jsxs("div",{className:"grid grid-cols-12",children:[e.jsx("div",{className:"col-span-1",children:e.jsx(Ge,{className:"text-[20px]"})}),e.jsx("div",{className:`col-span-11 leading-[1.2em] ml-2
                                    text-[12px]`,children:t==null?void 0:t.phone})]})})}),e.jsx("div",{className:"  w-full",children:e.jsx(A,{to:`${t==null?void 0:t.website}`,children:e.jsxs("div",{className:"grid grid-cols-12",children:[e.jsx("div",{className:`col-span-1 relative top-0
                            `,children:e.jsx(Ce,{className:"text-[22px]"})}),e.jsx("div",{className:`col-span-11 leading-[1.2em] ml-2 top-0
                            flex place-items-center text-[12px]`,children:"Website"})]})})}),e.jsx("div",{className:"  w-full",children:e.jsx(A,{to:`mailto:${t==null?void 0:t.email_address}`,children:e.jsxs("div",{className:"grid grid-cols-12",children:[e.jsx("div",{className:`col-span-1 relative top-0
                            `,children:e.jsx(re,{className:"text-[20px]"})}),e.jsx("div",{className:`col-span-11 leading-[1.2em] ml-2 top-0
                            flex place-items-center text-[12px]`,children:"Email Address"})]})})})]}),e.jsx("div",{children:e.jsx("div",{className:`bg-blue-500 mt-[40px] mx-[15px]
                        text-white text-center py-2 rounded`,children:t&&e.jsx(Pe,{listing:t})})})]})]})}),et=({listing:t})=>{const[s,c]=r.useState(void 0);return r.useEffect(()=>{ge(t.gid).then(a=>{c(a)})},[t.business_guid]),e.jsxs("div",{className:" mt-12",children:[e.jsx("div",{className:" font-bold text-xl border-b",children:"Features"}),e.jsx("div",{className:"grid grid-cols-2 gap-4 mt-3",children:s==null?void 0:s.map((a,d)=>e.jsxs("div",{className:"flex flex-col",children:[e.jsx("div",{className:"font-bold",children:a.name}),e.jsx("div",{className:" mt-[-2px] text-black tracking-normal leading-snug",children:a.user_description||a.description})]},d))})]})},tt=({listing:t})=>e.jsxs("div",{className:"mt-4",children:[e.jsx("div",{className:"text-xl font-bold",children:"Intro"}),e.jsx("div",{className:" text-[14px] flex flex-col gap-y-4 whitespace-pre-wrap",children:t.short_description})]}),se=({rating:t=3.5,maxStars:s=5})=>{const c=[];for(let a=1;a<=s;a++)a<=t?c.push(e.jsx("span",{className:"text-yellow-500 text-lg",children:e.jsx(Ie,{})},a)):c.push(e.jsx("span",{className:"text-yellow-500 text-lg",children:e.jsx(Me,{})},a));return e.jsxs("div",{className:" flex w-full place-items-center gap-2 mt-0",children:[e.jsx("div",{className:"flex  gap-x-[3px] -mt-[2px]",children:c}),e.jsx("div",{className:"text-gray-400",children:e.jsx(ue,{className:"text-[15px] text-yellow-400"})}),e.jsxs("div",{className:" text-sm",children:["Rating: ",Number(t).toFixed(0)]})]})},st=({listing:t})=>{const[s,c]=r.useState([]),[a,d]=r.useState({});return r.useEffect(()=>{const n=async l=>{l&&await be(l).then(i=>{c(i)})},o=async l=>{l&&await ye(l).then(i=>{d(i)})};t.gid&&(n(t.gid),o(t.gid))},[t]),e.jsxs("div",{className:"mt-12",children:[e.jsx("div",{className:"text-xl font-bold",children:"Reviews"}),e.jsxs("div",{className:"-mt-1 text-[14px] flex flex-col -gap-y-1 font-light",children:[e.jsx("div",{className:"font-bold",children:"Overall Rating:"}),a&&e.jsx(se,{rating:a==null?void 0:a.rating_average})]}),e.jsx("hr",{className:"mt-3"}),e.jsx("div",{className:"flex flex-col gap-y-4 divide-y-[1px]",children:s!==null&&(s==null?void 0:s.map((n,o)=>e.jsxs("div",{className:"pt-7 pb-4",children:[e.jsxs("div",{className:"flex place-items-start gap-2",children:[e.jsx("div",{className:`w-[30px] h-[30px] rounded-full
                                        bg-black overflow-hidden`,children:e.jsx("img",{src:N.IMG_BASE_URL+(n==null?void 0:n.image_url),alt:""})}),e.jsxs("div",{className:"flex flex-col -space-y-1.5",children:[e.jsx("div",{className:"text-lg font-bold",children:n.fullname}),(n==null?void 0:n.city_name)!==null&&(n==null?void 0:n.state_name)&&e.jsx("div",{className:"text-[11px]",children:`${n==null?void 0:n.city_name}, ${n==null?void 0:n.state_name}`}),(n==null?void 0:n.country_name)!==null&&e.jsx("div",{className:"text-[11px]",children:`${n==null?void 0:n.country_name}`})]})]}),e.jsxs("div",{className:"mt-2",children:[e.jsx("div",{children:e.jsx(se,{rating:n.rating})}),e.jsxs("div",{className:"text-[12px] flex gap-1 place-items-center",children:[e.jsx("b",{children:"Created at:"}),e.jsx("span",{className:"text-[12px]",children:ee(n.created_at)})]}),e.jsxs("div",{className:"text-[12px] flex gap-1 place-items-center",children:[e.jsx("b",{children:"Last Edited:"}),e.jsx("span",{className:"text-[12px]",children:ee(n.updated_at)})]}),e.jsx("div",{className:"text-[14px] mt-2",children:n.comment})]})]},o)))})]})},ct=({images:t,listing:s})=>{var u,y,h,_,S,B,G,k,p,w,g,E,H,C,D,T,X,R,O,$,U;const[c,a]=r.useState([]),d=J(),n=ne(),[o,l]=r.useState("images/abstract_placeholder.jpg"),[i,j]=r.useState([]);r.useEffect(()=>{let v=[...c];t&&(t.map((q,V)=>{V+1<12&&v.push(q)}),j(v))},[t]);const m=v=>{v<t.length&&(d.setDialog(!0),d.setSelectedSlide(v+1),d.setGallery(t),d.setListing(s))},b=v=>{n.setShow(!0),n.setGallery(t),n.setListing(s)};return e.jsxs("div",{className:"w-full h-auto mb-[32px] flex flex-col gap-2",children:[e.jsxs("div",{className:`h-[350px]
                grid grid-cols-12 gap-[3px]`,children:[e.jsx("div",{className:`col-span-7 bg-black
                    row-span-2 rounded overflow-hidden
                    relative cursor-pointer`,onMouseDown:v=>m(0),children:e.jsx("img",{src:((u=t[0])==null?void 0:u.image_url)!==void 0&&((y=t[0])==null?void 0:y.image_url)!==null?N.IMG_BASE_URL+((h=t[0])==null?void 0:h.image_url):o,alt:"",className:"object-cover h-full w-full"})}),e.jsx("div",{className:`col-span-5 bg-black
                    rounded overflow-hidden h-full
                    relative cursor-pointer`,onMouseDown:v=>m(1),children:e.jsx("img",{src:((_=t[1])==null?void 0:_.image_url)!==void 0&&((S=t[1])==null?void 0:S.image_url)!==null?N.IMG_BASE_URL+((B=t[1])==null?void 0:B.image_url):o,alt:"",className:"object-cover h-full w-full"})}),e.jsx("div",{className:`col-span-5 bg-black
                    rounded overflow-hidden h-full
                    relative cursor-pointer`,onMouseDown:v=>m(2),children:e.jsx("img",{src:((G=t[2])==null?void 0:G.image_url)!==void 0&&((k=t[2])==null?void 0:k.image_url)!==null?N.IMG_BASE_URL+((p=t[2])==null?void 0:p.image_url):o,alt:"",className:"object-cover h-full w-full"})})]}),e.jsxs("div",{className:"grid grid-cols-5 gap-[5px] mt-[-3px]",children:[e.jsx("div",{className:`rounded overflow-hidden
                    relative cursor-pointer h-[100px] bg-black`,onMouseDown:v=>m(3),children:e.jsx("img",{src:((w=t[3])==null?void 0:w.image_url)!==void 0&&((g=t[3])==null?void 0:g.image_url)!==null?N.IMG_BASE_URL+((E=t[3])==null?void 0:E.image_url):o,alt:"",className:"object-cover h-full w-full"})}),e.jsx("div",{className:`rounded overflow-hidden
                    relative cursor-pointer h-[100px] bg-black`,onMouseDown:v=>m(4),children:e.jsx("img",{src:((H=t[4])==null?void 0:H.image_url)!==void 0&&((C=t[4])==null?void 0:C.image_url)!==null?N.IMG_BASE_URL+((D=t[4])==null?void 0:D.image_url):o,alt:"",className:"object-cover h-full w-full"})}),e.jsx("div",{className:`rounded overflow-hidden
                    relative bg-black cursor-pointer h-[100px]`,onMouseDown:v=>m(5),children:e.jsx("img",{src:((T=t[5])==null?void 0:T.image_url)!==void 0&&((X=t[5])==null?void 0:X.image_url)!==null?N.IMG_BASE_URL+((R=t[5])==null?void 0:R.image_url):o,alt:"",className:"object-cover h-full w-full"})}),e.jsx("div",{className:`rounded overflow-hidden
                    relative bg-black cursor-pointer h-[100px]`,onMouseDown:v=>m(6),children:e.jsx("img",{src:((O=t[6])==null?void 0:O.image_url)!==void 0&&(($=t[6])==null?void 0:$.image_url)!==null?N.IMG_BASE_URL+((U=t[6])==null?void 0:U.image_url):o,alt:"",className:"object-cover h-full w-full"})}),e.jsx("div",{className:`rounded overflow-hidden
                    relative bg-black text-white cursor-pointer
                    flex place-content-center place-items-center h-[100px]`,onMouseDown:v=>b(),children:(t==null?void 0:t.length)>7?`+${t.length-7}`:"View all"})]})]})},lt=({images:t,listing:s})=>{const[c,a]=r.useState(0),d=r.useRef(0);r.useRef(0);const n=p=>{d.current=p.touches[0].clientX},o=p=>{const w=p.changedTouches[0].clientX,g=d.current-w;g>50?a(E=>(E+1)%t.length):g<-50&&a(E=>(E-1+t.length)%t.length)},[l,i]=r.useState(null);let j=r.useRef(null);const[m,b]=r.useState([]),u=J();ne();const[y,h]=r.useState([]);r.useEffect(()=>{let p=[...m];t&&(t.map((w,g)=>{g+1<12&&p.push(w)}),h(p))},[t]);const _=p=>{p<t.length&&(u.setDialog(!0),u.setSelectedSlide(p+1),u.setGallery(t),u.setListing(s))};r.useEffect(()=>{t&&i(t)},[t]);const S=()=>{a(p=>p===0?l.length-1:p-1)},B=()=>{a(p=>p===l.length-1?0:p+1)},G=async()=>{j.current&&clearTimeout(j.current),B(),j.current=setTimeout(()=>{},15e3)},k=async()=>{j.current&&clearTimeout(j.current),S(),j.current=setTimeout(()=>{},15e3)};return r.useEffect(()=>{},[l]),e.jsx(e.Fragment,{children:e.jsxs("div",{className:"relative",children:[e.jsx("div",{className:` w-full h-[300px] md:h-[500px] flex 
          overflow-hidden z-0
          `,children:l==null?void 0:l.map((p,w)=>e.jsx("img",{onTouchStart:n,onTouchEnd:o,onMouseDown:g=>_(w),src:N.IMG_BASE_URL+p.image_url,alt:"",style:{transform:`translateX(-${c*100}%)`},className:`object-cover w-full h-full 
                      block flex-shrink-0 flex-grow-0 transition-transform
                      ease-in-out duration-1000 cursor-pointer`},w))}),e.jsxs("div",{className:"z-[300]",children:[e.jsx("button",{onMouseDown:k,className:`block absolute top-0 bottom-0 
                                                  z-[300] p-[1rem] cursor-pointer left-0 group h-full 
                                                        transition duration-1000 ease-in-out`,children:e.jsx("div",{className:`w-[50px] h-[50px] bg-white/60 rounded-full 
            place-content-center place-items-center group-hover:bg-white/30
            z-[300] transition duration-500 ease-in-out`,children:e.jsx(je,{className:" stroke-white fill-black w-[2rem] h-[2rem]"})})}),e.jsx("button",{onMouseDown:G,className:`block absolute top-0 bottom-0 
                                                        z-[300]    p-[1rem] cursor-pointer right-0 group 
                                                             transition duration-1000 ease-in-out`,children:e.jsx("div",{className:`w-[50px] h-[50px] bg-white/60 rounded-full 
            flex place-content-center place-items-center group-hover:bg-white/30
            z-[300]   transition duration-500 ease-in-out
            `,children:e.jsx(fe,{className:" stroke-white fill-black w-[2rem] h-[2rem]"})})})]})]})})},at=({listing:t})=>{const[s,c]=r.useState("");return r.useEffect(()=>{t.gid&&K(t.gid).then(d=>{c(N.IMG_BASE_URL+d.image_url)})},[t]),e.jsxs("div",{className:"mt-12",children:[e.jsx("div",{className:`font-bold text-xl
                border-b`,children:"Business Phrases"}),e.jsx("div",{className:"flex flex-col gap-y-5 text-[14px] mt-4 whitespace-pre-wrap",children:t==null?void 0:t.business_phrases})]})},rt=({listing:t})=>{const[s,c]=r.useState("");return r.useEffect(()=>{t.gid&&K(t.gid).then(d=>{c(N.IMG_BASE_URL+d.image_url)})},[t]),e.jsxs("div",{className:"mt-12",children:[e.jsx("div",{className:`font-bold text-xl
                border-b`,children:"Products"}),e.jsx("div",{className:"flex flex-col gap-y-5 text-[14px] mt-4 whitespace-pre-wrap",children:t==null?void 0:t.products})]})},ot=({listing:t})=>{const[s,c]=r.useState("");return r.useEffect(()=>{t.gid&&K(t.gid).then(d=>{c(N.IMG_BASE_URL+d.image_url)})},[t]),e.jsxs("div",{className:"mt-12",children:[e.jsx("div",{className:`font-bold text-xl
                border-b`,children:"Services"}),e.jsx("div",{className:"flex flex-col gap-y-5 text-[14px] mt-4 whitespace-pre-wrap",children:t==null?void 0:t.services})]})},nt=({listing:t})=>{const[s,c]=r.useState(""),[a,d]=r.useState(null);function n(o){let l=null;switch(o==null?void 0:o.media_id){case"facebook":l=e.jsx(Ee,{});break;case"twitterx":l=e.jsx($e,{});break;case"linkedin":l=e.jsx(Te,{});break;case"instagram":l=e.jsx(De,{});break;case"pinterest":l=e.jsx(Re,{});break;case"youtube":l=e.jsx(ke,{});break;case"vimeo":l=e.jsx(Se,{});break}return l}return r.useEffect(()=>{t!==null&&(async l=>{const i=[];(await _e(l.gid)).map((m,b)=>{i.push({media:m==null?void 0:m.name,icon:n(m),name:m==null?void 0:m.name,link:`${m==null?void 0:m.base_url}${m==null?void 0:m.user_description}`})}),l!=null&&l.website&&i.push({media:l==null?void 0:l.website,icon:e.jsx(Ue,{}),name:"Website",link:`${l==null?void 0:l.website}`}),l!=null&&l.email_address&&i.push({media:l==null?void 0:l.email_address,icon:e.jsx(re,{}),name:"Email Address",link:`mailto:${l==null?void 0:l.email_address}`}),l!=null&&l.phone&&i.push({media:l==null?void 0:l.phone,icon:e.jsx(Ae,{}),name:"Phone",link:`tel:${l==null?void 0:l.phone}`}),d(i)})(t)},[t]),e.jsxs("div",{className:"mt-12",children:[e.jsx("div",{className:"font-bold text-xl border-b",children:"Social Media"}),e.jsx("div",{className:"flex flex-col gap-y-5 text-[14px] mt-4 whitespace-pre-wrap",children:e.jsx("div",{className:"flex gap-3 flex-wrap",children:a!==null&&(a==null?void 0:a.map((o,l)=>e.jsx(A,{to:o==null?void 0:o.link,children:e.jsxs("div",{className:`border px-[8px] py-[2px] 
                                    cursor-pointer flex place-items-center rounded-full
                                    gap-1 border-gray-400 bg-white hover:bg-black
                                    text-black hover:text-white
                                    hover:shadow-md`,children:[e.jsx("span",{className:"text-[12px]",children:o==null?void 0:o.icon}),o==null?void 0:o.name]},l)},l)))})})]})},ce=({data:t})=>{const[s,c]=r.useState("");return r.useEffect(()=>{const a=d=>{d>4?c("Superb"):d>3&&d<4||d>2&&d<3?c("Very Good"):d>1&&d<2?c("Good"):c("Poor")};(t==null?void 0:t.rating)!==null?a(Number(t==null?void 0:t.rating)):a(0)},[t]),e.jsx("div",{className:`
             md:border py-[12px] px-[12px] md:mb-3  rounded`,children:e.jsxs("div",{className:`flex place-content-between gap-1
                                        `,children:[e.jsxs("div",{className:"flex flex-col place-items-center -space-y-1.5",children:[e.jsx("div",{className:"font-sans text-[15px] font-bold text-blue-800 ",children:"Category"}),e.jsx("div",{className:" font-normal text-black capitalize text-[11px] tracking-normal  w-full",children:t==null?void 0:t.category})]}),e.jsxs("div",{className:"w-full flex flex-col place-items-end place-content-center -space-y-2 ",children:[e.jsx("div",{className:"font-bold tracking-tighter text-[12px] font-sans text-black ",children:s}),e.jsxs("div",{className:"text-[11px] ",children:[W(Number(t==null?void 0:t.ratingCount))," reviews"]})]}),e.jsx("div",{className:"flex place-items-center px-[3px]",children:e.jsx("div",{className:"min-w-10 w-10 h-10 mt-[-1px] bg-blue-800 flex place-content-center text-white place-items-center rounded",children:W(Number(t==null?void 0:t.rating))})})]})})};function dt({rating:t}){return e.jsx("div",{className:"flex gap-[3px]",children:Array.from({length:5}).map((s,c)=>{const a=Math.max(0,Math.min(1,t-c))*100;return e.jsx("div",{className:`relative w-[17px] h-[17px] bg-white rounded-full 
                            overflow-hidden flex place-items-center border-[1px]
                            place-content-center border-gray-500`,children:e.jsx("div",{className:"absolute inset-0 bg-green-600 z-[0]",style:{width:`${a}%`}})},c)})})}const xt=({listing:t,images:s,ratingsData:c})=>{const[a,d]=r.useState();return r.useEffect(()=>{t&&c&&d({totalReviews:0,category:t==null?void 0:t.category,rating:c.rating_average,ratingCount:c.rating_count})},[t,c]),e.jsxs("div",{className:"",children:[e.jsx("div",{className:"px-[15px] w-full",children:e.jsxs("div",{className:"max-w-[1100px] w-full mx-auto bg-white",children:[c&&e.jsxs("div",{className:"mt-4 flex gap-2 place-items-center",children:[e.jsx(dt,{rating:c==null?void 0:c.rating_average}),e.jsxs("div",{className:`flex place-items-center place-content-center
                                    gap-1 text-black/60 text-[14px]`,children:[e.jsx("div",{children:W(Number(c==null?void 0:c.rating_average))}),e.jsxs("div",{children:["(",e.jsxs("span",{className:"underline",children:[W(c==null?void 0:c.rating_count)," reviews"]}),")"]})]})]}),t&&e.jsx(Qe,{listing:t})]})}),(s==null?void 0:s.length)>0&&t&&e.jsx("div",{className:`bg-black h-fit md:hidden
                mt-4`,children:e.jsx(lt,{images:s,listing:t})}),e.jsx("div",{className:" md:pt-4 md:px-[12px]",children:e.jsx("div",{className:"max-w-[1100px] w-full mx-auto bg-white",children:e.jsxs("div",{className:`grid grid-cols-12 gap-0 md:gap-4 relative
                    `,children:[e.jsxs("div",{className:" col-span-12 lg:col-span-8",children:[e.jsx("div",{className:"hidden md:block mt-0",children:(s==null?void 0:s.length)>0&&t&&e.jsx(ct,{images:s,listing:t})}),e.jsxs("div",{className:"",children:[e.jsxs("div",{className:`md:hidden ${(s==null?void 0:s.length)<=0&&"mt-5"}  md:mt-0 mb-5`,children:[a&&e.jsx(ce,{data:a}),t&&e.jsx(te,{businessProfile:t})]}),e.jsxs("div",{className:"px-[15px] md:px-[0px]",children:[e.jsx(tt,{listing:t}),e.jsx(Ze,{listing:t}),t&&e.jsx(nt,{listing:t}),t&&e.jsx(et,{listing:t}),t&&e.jsx(at,{listing:t}),t&&e.jsx(rt,{listing:t}),t&&e.jsx(ot,{listing:t}),t&&e.jsx(st,{listing:t})]})]})]}),e.jsx("div",{className:"col-span-12 lg:col-span-4 hidden lg:block",children:e.jsxs("div",{className:" sticky top-[100px]",children:[a&&e.jsx(ce,{data:a}),t&&e.jsx(te,{businessProfile:t})]})})]})})})]})},mt=({title:t,subtitle:s,category:c,limit:a})=>{const[d,n]=r.useState(""),[o,l]=r.useState(""),[i,j]=r.useState([]),[m,b]=r.useState(""),u="https://tpics.gasimg.com";r.useEffect(()=>{t&&s&&(n(t),l(s))},[t,s]);let y=async(h,_)=>{if(_&&h){let S=await Le(h,_);j(S)}};return r.useEffect(()=>{a&&c&&y(c,a)},[a,c]),e.jsx("div",{className:"px-[15px]",children:e.jsx("div",{className:"max-w-[1100px] mx-auto w-full",children:e.jsxs("div",{className:"mt-10 border-t pt-5",children:[e.jsxs("div",{className:" mb-[20px] ",children:[e.jsx("div",{className:"font-semibold text-xl",children:d}),e.jsx("div",{className:"text-sm -mt-[2px]",children:o})]}),e.jsx("div",{className:"grid grid-cols-2 md:grid-cols-3 lg:grid-cols-4 gap-x-3 gap-y-4",children:i==null?void 0:i.map((h,_)=>{let S="";return h!=null&&h.username?S=h==null?void 0:h.username:S=h==null?void 0:h.gid,e.jsxs("div",{children:[e.jsx("div",{children:e.jsx(A,{to:`/${S}`,children:e.jsx("div",{className:`relative h-[120px]
                                                    md:h-[180px]`,children:e.jsx("img",{className:`object-cover w-full h-full
                                                    text-sm`,src:h!=null&&h.image_url?u+(h==null?void 0:h.image_url):"images/placeholder.gif",alt:h.title})})})}),e.jsx("div",{className:`mt-1 text-[15px] tracking-tight 
                                     truncate`,children:h.title}),e.jsx("div",{className:"mt-1",children:e.jsx(Fe,{rating:h.avg_rating})}),e.jsx("div",{className:`text-[11px] mt-[5px] tracking-tight
                                    leading-[1.2em]`,children:h.short_description.substring(0,100)})]},_)})})]})})})},Bt=({data:t})=>{const s=t==null?void 0:t.listing,c=t==null?void 0:t.profileImageData,a=N.IMG_BASE_URL+(c==null?void 0:c.image_url),d=c==null?void 0:c.mimetype;console.log(c);const o=(l=>l==null||l===""?null:l.replace(/&/g,",").split(",").map(m=>m.trim()).filter(m=>m.length>0))((s==null?void 0:s.business_phrases)||null);return[{title:(s==null?void 0:s.title)||"Garssete Inc."},{name:"description",content:s==null?void 0:s.short_description},{name:"keywords",content:o},{property:"fb:app_id",content:"1325393508603168"},{property:"og:url",content:(s==null?void 0:s.website)||"https://garssete.com"},{property:"og:type",content:"website"},{property:"og:title",content:(s==null?void 0:s.title)||"Garssete.com"},{property:"og:description",content:s==null?void 0:s.short_description},{property:"og:image",content:a},{property:"og:image:secure_url",content:a},{property:"og:image:type",content:d},{property:"og:image:width",content:"200"},{property:"og:image:alt",content:(s==null?void 0:s.title)||"Garssete"},{name:"twitter:creator",content:"garssete"},{name:"twitter:card",content:"summary_large_image"},{name:"twitter:title",content:(s==null?void 0:s.title)||"Garssete Directory Listing"},{name:"twitter:description",content:s==null?void 0:s.short_description}]},Gt=()=>{const t=pe(),s=t.listing,c=t.gallery,a=t.ratingsData;return e.jsx(Ye,{children:e.jsx(qe,{children:e.jsxs(Ke,{children:[e.jsx("div",{className:"md:hidden",children:e.jsx(ze,{})}),e.jsx(We,{}),s.gid!==null&&s.gid!==void 0&&e.jsx(xt,{listing:s,images:c,ratingsData:a}),s&&e.jsx(mt,{category:s==null?void 0:s.category,limit:6,title:`Related: ${s==null?void 0:s.category}`,subtitle:"Related based on the same category."}),e.jsx(He,{}),e.jsx(Xe,{}),e.jsx(Oe,{})]})})})};export{Gt as default,Bt as meta};
