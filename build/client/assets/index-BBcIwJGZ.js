import{j as a}from"./jsx-runtime-0DLF9kdB.js";import{r as c,v as y,L as N,c as S}from"./components-Bk2QJ2_x.js";import{b as k,a as $,t as P}from"./json-B_zcDiT2.js";import{S as L}from"./SrchNavbar-Czs8GXm4.js";import{m as E,n as I}from"./index-Bacbrlt4.js";import{j as C,$ as w,S as F,a0 as A,R as z}from"./lib-b8ou2Urd.js";import{q as B}from"./index-CaK4Np1I.js";import"./UserMenu-BT5nNXrB.js";import"./AuthContext-ClW6sHFY.js";import"./WhiteLogo-cBTi0kEn.js";import"./index-DchK8fR3.js";import"./HamburgerSecondary-u7E3-61-.js";const R=()=>{var e,s;return a.jsx("div",{className:"space-y-5",children:(s=(e=k)==null?void 0:e.sort((r,x)=>r.name.localeCompare(x.name)))==null?void 0:s.map((r,x)=>a.jsx("div",{children:a.jsx("a",{href:`/web/browse?q=${r==null?void 0:r.id}`,children:a.jsxs("div",{className:"flex place-content-start place-items-center gap-2 w-full hover:bg-blue-100 pl-5 py-1.5 hover:cursor-pointer",children:[a.jsx("div",{className:"w-[30px] h-[30px] flex place-content-center place-items-center bg-blue-100 rounded-full",children:r==null?void 0:r.icon}),a.jsx("div",{className:"text-lg",children:r==null?void 0:r.name})]},x)})},x))})},q=()=>a.jsx("div",{className:"bg-white w-full h-auto md:rounded-t-md shadow-md overflow-hidden border",children:a.jsxs("div",{className:"bg-gray-50/30 py-3 px-4 border-b",children:[a.jsxs("div",{className:"flex place-content-between",children:[a.jsx("div",{className:"flex place-items-center gap-2",children:a.jsxs("div",{className:"-space-y-1",children:[a.jsx("div",{className:"text-black text-lg font-semibold",children:"Garsset.com"}),a.jsx("div",{className:"text-[12px] text-gray-500 italic capitalize",children:"Business Directory Service"})]})}),a.jsx("div",{className:"flex place-items-center"})]}),a.jsx("div",{className:"mt-[8px] text-[12px] text-gray-500 leading-[1.3em]",children:"The only real-time generative AI app for video chatting, live streaming, and video creation on the market."})]})});function M({rating:e}){return a.jsx("div",{className:"flex gap-x-[3px]",children:Array.from({length:5}).map((s,r)=>{const x=Math.max(0,Math.min(1,e-r))*100;return a.jsxs("div",{className:`relative w-[20px] h-[20px] ${e>0?"bg-blue-500":"bg-gray-200"} rounded 
                            overflow-hidden flex place-items-center
                            place-content-center`,children:[a.jsx("div",{className:"absolute inset-0 bg-green-400  z-[0]",style:{width:`${x}%`}}),a.jsx(E,{className:`relative z-[0] w-[14px] h-[14px] ${e>0?"text-black":"text-red-500"}`,fill:"currentColor"})]},r)})})}const T=({listing:e})=>a.jsxs("div",{className:"flex flex-col text-black/60 -space-y-2 place-items-center place-content-center ",children:[(e==null?void 0:e.average_rating)&&a.jsx("div",{className:"font-bold text-[12px]",children:e==null?void 0:e.average_rating}),a.jsx("div",{className:" tracking-tighter text-[12px]",children:`${(e==null?void 0:e.total_reviews)===null?0:e==null?void 0:e.total_reviews} review${Number(e==null?void 0:e.total_reviews)>1?"s":""}`})]}),_=({listing:e})=>a.jsxs("div",{children:[e==null?void 0:e.address_one,e!=null&&e.address_two?`, ${e==null?void 0:e.address_two}`:"",e!=null&&e.city_name?`, ${e==null?void 0:e.city_name}`:"",e!=null&&e.state_name?`, ${e==null?void 0:e.state_name}`:"",e!=null&&e.country_name?`, ${e==null?void 0:e.country_name}`:""]}),U=({listing:e})=>{const[s,r]=c.useState("/images/imgplaceholder2.jpg"),[x,h]=c.useState("/images/imgplaceholder2.jpg"),[m,t]=c.useState(""),[n,j]=c.useState(null),[v,u]=c.useState("");return c.useEffect(()=>{e!=null&&e.website?u(e==null?void 0:e.website):(e==null?void 0:e.username)===""||(e==null?void 0:e.username)===null?u("/"+(e==null?void 0:e.gid)):u("/"+(e==null?void 0:e.username))},[e]),c.useEffect(()=>{e&&(((e==null?void 0:e.image_url)!==""||(e==null?void 0:e.image_url)!==null)&&h(C.IMG_BASE_URL+(e==null?void 0:e.image_url)),(e==null?void 0:e.username)!==""&&(e==null?void 0:e.username)!==null&&(e==null?void 0:e.username)!==void 0?t(e==null?void 0:e.username):t(e==null?void 0:e.gid))},[e]),c.useEffect(()=>{if(e!=null&&e.social_media){let d=[];const l=w(e==null?void 0:e.social_media,",");l!==null&&(l==null||l.map((b,f)=>{const o=w(b,"$"),p={mediaName:o[0],mediaHandle:o[1],baseUrl:o[2]};d.push(p)})),j(d)}},[e]),c.useEffect(()=>{},[n]),a.jsxs("div",{className:"bg-white w-full h-auto md:rounded-md shadow-md overflow-hidden border  hover:bg-blue-50 hover:shadow-lg",children:[a.jsx("div",{className:"bg-gray-50/30 py-3 px-4 border-b",children:a.jsxs("a",{href:`/${m}`,children:[a.jsxs("div",{className:"flex place-content-between",children:[a.jsxs("div",{className:"flex place-items-center gap-2",children:[a.jsx("div",{className:"h-[40px] w-[40px] rounded bg-black bg-cover bg-center overflow-hidden",style:{backgroundImage:`url(${s})`},children:a.jsx("img",{src:x,alt:e.title,className:`object-cover w-full h-full text-sm
                            rounded z-0`})}),a.jsxs("div",{className:"-space-y-1",children:[a.jsx("div",{className:"text-black text-[16px] font-semibold line-clamp-1",children:e==null?void 0:e.title}),a.jsx("div",{className:"text-[12px] text-gray-500  capitalize",children:e==null?void 0:e.category})]})]}),a.jsx("div",{className:"flex place-items-center",children:a.jsx("div",{className:"font-bold rounded-sm border px-3 py-[2px]",children:"View"})})]}),a.jsx("div",{className:"mt-[8px] text-[14px] md:text-[13px] text-gray-500 leading-[1.3em] line-clamp-3",children:e==null?void 0:e.short_description})]})}),a.jsx("div",{children:a.jsx("a",{href:`/${m}`,children:a.jsxs("div",{className:" h-auto flex place-content-between ",children:[a.jsxs("div",{className:"flex place-items-start w-[60%] flex-col  pl-4  pt-2 pb-4 space-y-[2px]",children:[a.jsxs("div",{className:"flex place-items-center gap-x-1",children:[a.jsx(F,{}),a.jsxs("span",{className:"mt-[1px] text-gray-500 space-x-2",children:[a.jsx("span",{className:"font-bold",children:"Founded:"}),a.jsx("span",{children:e==null?void 0:e.established})]})]}),a.jsxs("div",{className:"flex place-items-center  w-full gap-x-2 ",children:[a.jsx("div",{className:"text-[19px] flex",children:a.jsx(M,{rating:e==null?void 0:e.average_rating})}),a.jsx("div",{className:"text-[13px] pt-[0px] ",children:e&&a.jsx(T,{listing:e})})]})]}),a.jsxs("div",{className:"flex place-items-end flex-col w-[40%] text-end pr-4 pt-2 pb-4",children:[a.jsx("div",{className:"font-[600]",children:e==null?void 0:e.phone}),a.jsx("div",{className:"text-[12px] leading-[1.2em] mt-1",children:a.jsx(_,{listing:e})})]})]})})}),a.jsx("div",{className:"border-t",children:a.jsxs("div",{className:"flex place-content-between mx-4 my-4",children:[a.jsxs("div",{className:"flex place-items-center gap-4",children:[a.jsx("a",{href:`mailto:${e==null?void 0:e.email_address}`,children:a.jsx(B,{size:20})},34),a.jsx("a",{href:`tel:${e==null?void 0:e.phone}`,children:a.jsx(I,{size:20})},30),n!==null&&(n==null?void 0:n.map((d,l)=>a.jsx("a",{href:`${d==null?void 0:d.baseUrl}${d==null?void 0:d.mediaHandle}`,children:A(d==null?void 0:d.mediaName)},l)))]}),a.jsx("div",{className:"border px-1.5 py-0.5 bg-blue-700 text-white rounded hover:shadow-lg",children:a.jsx("a",{href:`${v}`,children:"Website"})})]})})]})},W=()=>{const[e,s]=c.useState(!1);return c.useEffect(()=>{},[]),e?a.jsxs("div",{className:`max-w-full overflow-hidden min-h-[90px] bg-blue-50
                    mx-auto w-full mt-4 flex place-items-center 
                    place-content-center font-light text-[14px]
                    `,children:["Ads by google",$.adslot!==P.adslot]}):null},O=({data:e,itemsPerPage:s=10,resetPageKey:r})=>{const[x,h]=y(),m=Number(x.get("page"))||1,[t,n]=c.useState(m),j=Math.ceil(e.length/s),v=t*s,u=v-s,d=e.slice(u,v),l=o=>{n(o);const p=new URLSearchParams(x);p.set("page",String(o)),h(p)},b=()=>{t>1&&l(t-1)},f=()=>{t<j&&l(t+1)};return c.useEffect(()=>{r!==void 0&&l(1)},[r]),a.jsxs("div",{children:[a.jsx("div",{className:"space-y-6",children:d==null?void 0:d.map((o,p)=>a.jsx("div",{children:(p+1)%6?a.jsx("div",{children:a.jsx(U,{listing:o,index:p})}):a.jsx(W,{})},p))}),j>1&&a.jsxs("div",{className:"flex justify-center gap-[5px] mt-[60px]",children:[a.jsx("button",{onClick:b,disabled:t===1,className:"px-[12px] py-[8px] bg-white cursor-pointer border rounded-[4px]",children:"Previous"}),Array.from({length:j},(o,p)=>p+1).map(o=>a.jsx("button",{onClick:()=>l(o),className:`px-[12px] py-[8px] cursor-pointer border rounded-[4px] ${t===o?"bg-blue-500 text-white border-blue-500":"bg-white"}`,children:o},o)),a.jsx("button",{onClick:f,disabled:t===j,className:"px-[12px] py-[8px] bg-white cursor-pointer border rounded-[4px]",children:"Next"})]})]})},D=({feature:e})=>a.jsxs("div",{id:e.gid,className:"pb-4 pt-3",children:[a.jsx(N,{to:`/${e!=null&&e.username?e==null?void 0:e.username:e==null?void 0:e.gid}`,children:a.jsx("div",{className:`text-[15px] tracking-normal 
                text-blue-700 font-normal`,children:e.title})}),a.jsx("div",{className:`text-md font-semibold 
                tracking-tight mt-[2px]`,children:e.phone}),a.jsx("div",{className:`font-normal  
                tracking-normal mt-[2px] leading-[1.3em]
                text-black`,children:e.short_description.substring(0,80)}),a.jsx("div",{className:`text-[12px] font-normal 
                tracking-tight mt-[5px] leading-[1.4em]
                text-brown-700`,children:a.jsx(_,{listing:e})}),a.jsx("div",{className:` font-semibold  
                tracking-tight mt-[8px] text-blue-800`,children:a.jsx(N,{to:e.website?e.website:`#${e.gid}`,children:"Website"})})]}),G=()=>{const[e,s]=c.useState([]),[r,x]=c.useState(0);return c.useEffect(()=>{(async()=>{const m=await z();console.log(m),s(m)})()},[]),a.jsxs("div",{className:`border-[1px] px-4 pt-4 pb-4
        rounded-xl border-gray-200`,children:[a.jsx("div",{className:"font-bold text-lg",children:"Featured"}),a.jsx("div",{className:"divide-y divide-gray-200",children:(e==null?void 0:e.length)>0?e==null?void 0:e.map((h,m)=>m>2?null:a.jsx(D,{feature:h},m)):a.jsx("div",{className:"text-[15px] mt-4",children:"Loading..."})})]})},re=()=>{const e=S();y();const s=e.data,r=e.query,[x,h]=c.useState(null);return c.useEffect(()=>{r&&h(r)},[r]),a.jsxs("div",{className:" ",children:[a.jsx(L,{}),a.jsxs("div",{className:"h-screen flex flex-col relative",children:[a.jsx("div",{className:"mt-[120px] md:mt-[60px]"}),a.jsxs("div",{className:"grid grid-cols-12 h-full overflow-hidden  gap-5 ",children:[a.jsx("aside",{className:"col-span-3 h-full overflow-y-auto scrollbar-hidden pt-2 hidden lg:block",children:a.jsxs("div",{className:"",children:[a.jsx("div",{className:"mt-3 text-[17px] mb-4 font-bold ml-6",children:"Categories"}),a.jsx(R,{})]})}),a.jsx("div",{className:"col-span-12 lg:col-span-9  overflow-y-auto w-full md:px-[15px]",children:a.jsxs("div",{className:"grid grid-cols-12 gap-8",children:[a.jsx("div",{className:"col-span-12 md:col-span-7  pt-3",children:a.jsxs("div",{className:"space-y-8",children:[(s==null?void 0:s.length)>0?a.jsx(O,{data:s,itemsPerPage:20,resetPageKey:r}):a.jsx("div",{className:`flex place-items-center rounded
                            place-content-center p-5 border capitalize`,children:a.jsx("span",{children:"no record"})}),a.jsx(q,{})]})}),a.jsx("div",{className:"hidden md:block md:col-span-5 pt-3   ",children:a.jsx("div",{className:"w-full lg:w-[90%] sticky top-3 ml-auto",children:a.jsx(G,{})})})]})})]})]})]})};export{re as default};
