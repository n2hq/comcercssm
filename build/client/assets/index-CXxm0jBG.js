import{j as e}from"./jsx-runtime-0DLF9kdB.js";import{r as c,L as W,c as ne}from"./components-DN9bEK-g.js";import{I as oe,B as de,a as xe}from"./index-DUeO_qfm.js";import{u as J}from"./SliderContext-D1gPhJd0.js";import{u as P}from"./AuthContext-CsfpySAH.js";import{u as me,s as ie,z as U}from"./index-CORT_df8.js";import{u as ee}from"./NotificationContext-RkUjI2uZ.js";import{v as he,f as R,C as ue,D as F,z as pe}from"./lib-CFMbd4VS.js";import{h as ve,i as je,j as fe,k as we}from"./index-lOhVX8VG.js";import{L as Ne,F as ge}from"./LatestStarRating-Bagx1vF1.js";import{G as be}from"./GenericNav-BAE64LHI.js";import{H as ye}from"./HomeNav-C_5uWeAE.js";import{T as _e}from"./TopAd-Bhct2RxL.js";import"./WhiteLogo-CXXJLfGu.js";import"./index-Ddvhq7sq.js";import"./MobileNav-DagcYmHy.js";const te=c.createContext(null);function le(){return c.useContext(te)}const Se=({children:t})=>{const[s,l]=c.useState(!1),[a,m]=c.useState(null),u=J(),[o,f]=c.useState(null),y="https://pics.gasimg.com",h=()=>l(!1);let v={setShow:l,setGallery:m,setListing:f};const _=x=>{u.setDialog(!0),u.setSelectedSlide(x+1),u.setGallery(a)};return c.useEffect(()=>{const x=N=>{N.key==="Escape"&&h()};return s&&document.addEventListener("keydown",x),()=>{document.removeEventListener("keydown",x)}},[s]),e.jsxs(te.Provider,{value:v,children:[s&&e.jsxs("div",{onMouseDown:x=>l(!1),className:`flex w-screen h-screen bg-black/40 
                        z-[3000] fixed top-0 left-0 right-0 bottom-0
                        place-items-center place-content-center px-[15px]`,children:[e.jsx("div",{onMouseDown:x=>x.stopPropagation(),className:`min-w-[95%] w-[95%] sm:w-[95%] md:w-[80%] h-[80%] max-h-[80%] 
                            mx-auto bg-white rounded-lg shadow-lg shadow-black/50 
                            space-y-6 z-[3100] overflow-hidden`,children:e.jsxs("div",{className:"w-full h-full",children:[e.jsx("div",{className:"border-b py-3 px-3",children:e.jsxs("div",{className:`font-bold text-gray-700
                                    text-xl w-[80%]  truncate`,children:["Gallery for ",o&&(o==null?void 0:o.title)]})}),e.jsx("div",{className:` 
                                h-full overflow-y-auto pt-2 px-2 pb-2
                                bg-white `,children:e.jsx("div",{className:"grid grid-cols-4 md:grid-cols-6 gap-2",children:a&&(a==null?void 0:a.map((x,N)=>e.jsx("div",{onClick:()=>_(N),className:`relative hover:cursor-pointer
                                                 bg-red-200 h-[80px] md:h-[100px] lg:h-[120px] rounded-md
                                                 overflow-hidden`,children:e.jsx("img",{className:"object-cover w-full h-full",src:y+x.image_url,alt:""})})))})})]})}),e.jsx("div",{onMouseDown:()=>h(),className:`w-[50px] h-[50px] z-[300] bg-white
                                flex place-content-center place-items-center
                                rounded-full absolute left-2 top-2 cursor-pointer
                                hover:bg-white/40 transition duration-1000 ease-in-out`,children:e.jsx(oe,{className:"text-[30px]"})})]}),t]})},$=100,se=c.createContext(null);function ke(){return c.useContext(se)}const Re=U.object({fullname:U.any(),rating:U.any(),comment:U.any()});function Ee({children:t}){var q,Q,Y;const[s,l]=c.useState(!1),[a,m]=c.useState(!1),[u,o]=c.useState(null),[f,y]=c.useState(void 0),[h,v]=c.useState(""),_=ee(),[x,N]=c.useState(5),n=P();if(!n)return null;let{user:g}=n;const[b,C]=c.useState(null),[G,S]=c.useState(!1),d=r=>r.trim()===""?0:r.trim().split(/\s+/).length,j=r=>{let i=r.target.value,L=r.target.name;C(D=>({...D,[L]:i}))},{register:w,handleSubmit:E,getValues:K,setValue:M,watch:B,reset:A,setError:V,formState:{errors:k,isSubmitting:X}}=me({resolver:ie(Re)}),z=r=>{const i=r.target.value,L=i.trim().split(/\s+/);if(L.length<=$)M("text",i),S(!1);else{S(!0);const D=L.slice(0,$).join(" ");M("text",D)}},T=async r=>{_.notify("Working..."),await new Promise(I=>setTimeout(I,1e3));const i=g.guid,L=u.gid;r.user_guid=i,r.business_guid=L;const re="https://garssete.com"+"/api/rating";try{const I=await fetch(re,{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify(r)}),ae=await I.json();I.ok?_.alert("Success","Rating submitted successfully!"):_.alert("Error",ae.error)}catch(I){_.alert("",I.message)}};let H={show:s,setShow:l,setListing:o,reset:A,setRatingData:y,validateData:async(r,i)=>{if((r==null?void 0:r.length)===0){let L=(i==null?void 0:i.first_name)||"",D=(i==null?void 0:i.last_name)||"",Z=L+" "+D;M("fullname",Z)}}};const O=B("text")||"",ce=r=>{O.trim().split(/\s+/).length>=$&&r.key!=="Backspace"&&r.key!=="Delete"&&!r.ctrlKey?(r.preventDefault(),S(!0)):S(!1)};return c.useEffect(()=>{const r=i=>{i.key==="Escape"&&l(!1)};return s&&document.addEventListener("keydown",r),()=>{document.removeEventListener("keydown",r)}},[s]),e.jsxs(se.Provider,{value:H,children:[s&&e.jsx("div",{className:`flex w-screen h-screen bg-black/40 z-[3000] 
                fixed top-0 left-0 right-0 bottom-0 place-items-center place-content-center`,children:e.jsxs("div",{className:"w-[450px] h-fit mx-auto p-6 bg-white rounded-xl shadow-md space-y-6",children:[e.jsx("h2",{className:"text-xl font-bold",children:"Create/Edit Rating"}),e.jsxs("form",{onSubmit:E(T),className:"space-y-4",children:[e.jsxs("div",{children:[e.jsx("label",{className:"block mb-1 text-sm font-semibold",children:"Full Name"}),e.jsx("input",{...w("fullname",{onChange:j}),type:"text",className:`w-full px-3 py-2 border rounded-md
                                        text-sm`,placeholder:"Enter Business GUID"}),((q=k.fullname)==null?void 0:q.message)&&e.jsx("div",{className:"text-red-500 mt-1 text-sm",children:k.fullname.message.toString()})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block mb-1 text-sm font-semibold",children:"Stars"}),e.jsx("select",{...w("rating",{onChange:r=>{N(Number(r.target.value)),j(r)}}),className:`w-full px-3 py-2 border rounded-md
                                        text-sm`,children:[5,4,3,2,1].map(r=>e.jsxs("option",{value:r,children:[r," Star",r>1?"s":""]},r))}),((Q=k.rating)==null?void 0:Q.message)&&e.jsx("div",{className:"text-red-500 mt-1 text-sm",children:k.rating.message.toString()})]}),e.jsxs("div",{children:[e.jsxs("div",{className:"flex place-content-between",children:[e.jsx("label",{className:"block mb-1 text-sm font-semibold",children:"Comment"}),e.jsxs("label",{className:" text-gray-600 text-sm",children:["Word Count: ",e.jsx("strong",{children:d(h)})]})]}),e.jsx("textarea",{...w("comment",{onChange:r=>{d(h)<=$?(v(r.target.value),z(r),j(r)):r.preventDefault()}}),onKeyDown:ce,className:`w-full px-3 py-2 border rounded-md 
                                        text-sm`,placeholder:"Write your review...",rows:4}),G&&e.jsx("div",{className:"text-red-500 mt-0 text-sm",children:"Maximum maximumWords words allowed."}),((Y=k.comment)==null?void 0:Y.message)&&e.jsx("div",{className:"text-red-500 mt-0 text-sm",children:k.comment.message.toString()})]}),e.jsxs("div",{className:"w-full grid grid-cols-2 gap-2",children:[e.jsx("button",{onClick:()=>l(!1),className:`w-full bg-red-200 rounded-md
                                        hover:bg-red-100 text-sm`,children:"Close"}),e.jsx("button",{type:"submit",disabled:a,className:`w-full bg-blue-600 text-white py-2 
                                        rounded-md hover:bg-blue-700 text-sm`,children:a?"Submitting...":"Submit Rating"})]})]})]})}),t]})}const Le=({listing:t})=>e.jsxs(e.Fragment,{children:[e.jsx("div",{className:`text-[19px] md:text-[24px]
                font-bold mt-[5px] leading-[1.2em] border-b pb-1`,children:t==null?void 0:t.title}),e.jsxs("div",{className:"text-[13px] mt-1.5 leading-[1.2em]",children:[t!=null&&t.address_one?`${t==null?void 0:t.address_one}, `:"",t!=null&&t.address_two?`${t==null?void 0:t.address_two}, `:"",t!=null&&t.city_name?`${t==null?void 0:t.city_name}, `:"",t!=null&&t.state_name?`${t==null?void 0:t.state_name}, `:"",t==null?void 0:t.country_name]})]}),Ce=({listing:t})=>{const[s,l]=c.useState("");return c.useEffect(()=>{t.gid&&he(t.gid).then(m=>{l(R.IMG_BASE_URL+m.image_url)})},[t]),e.jsxs("div",{className:"mt-12",children:[e.jsx("div",{className:"font-bold text-lg border-b",children:"About this business"}),e.jsxs("div",{className:`flex place-items-start place-content-start
                gap-2 mt-4 mb-3`,children:[e.jsx("div",{className:`rounded-full bg-black w-[30px] h-[30px]
                    overflow-hidden relative`,children:e.jsx("img",{className:"object-cover w-full h-full",src:s,alt:""})}),e.jsxs("div",{className:"flex flex-col",children:[e.jsx("div",{className:"text-md font-bold tracking-tight leading-[1.2em]",children:t.title}),e.jsx("div",{className:"text-[12px] capitalize",children:t.category})]})]}),e.jsx("div",{className:"flex flex-col gap-y-5 text-[14px] mt-4 whitespace-pre-wrap",children:t==null?void 0:t.long_description})]})},Ge=({listing:t})=>{const s=ke(),{user:l}=P(),a=ee();c.useEffect(()=>{t!=null&&t.gid&&(l!=null&&l.guid)&&(s.setListing(t),ue(l.guid,t.gid).then(o=>{(o==null?void 0:o.length)!==0?(s.reset(o),s.setRatingData(o)):s.validateData(o,l)}))},[t,l]);const m=o=>{o?(a.cancel(),window.location.href="/signin"):a.cancel()},u=()=>{(l==null?void 0:l.guid)===null||(l==null?void 0:l.guid)===void 0?a.confirm("Login to continue",m):s.setShow(!0)};return e.jsx("div",{className:"w-full mt-0 ",children:e.jsx("div",{className:"",children:e.jsx("button",{onClick:()=>u(),className:`bg-blue-500 text-white flex flex-col
                items-center pt-[2px] pb-[3px] w-full `,children:"Write Review"})})})},Me=({businessProfile:t})=>e.jsx("div",{className:"w-full",children:e.jsxs("div",{className:`  md:bg-white
            md:rounded overflow-hidden pt-[30px]
            pb-[15px] bg-[blue]/0 text-black md:black
            md:text-black  border-[1px] border-gray-300/70`,children:[e.jsx("div",{className:`font-bold text-[15px] pb-2 
                   px-[20px]`,children:"Property Address"}),e.jsx("div",{className:"h-[25px]"}),e.jsxs("div",{className:`grid grid-cols-1 md:grid-cols-3 lg:grid-cols-1 
                text-[14px]  tracking-tight
                md:space-x-4 lg:space-x-0 md:text-black/80 font-sans
                `,children:[e.jsxs("div",{className:"px-[20px] space-y-4 lg:space-y-4",children:[e.jsx("div",{className:" w-full",children:e.jsxs("div",{className:"grid grid-cols-12",children:[e.jsx("div",{className:"col-span-1 ",children:e.jsx(ve,{className:"text-[20px]"})}),e.jsxs("div",{className:`col-span-11 leading-[1.2em] ml-2
                            text-[12px]`,children:[(t==null?void 0:t.address_one)+", ",(t==null?void 0:t.address_two)!==null?(t==null?void 0:t.address_two)+", ":"",(t==null?void 0:t.city_name)!==null?(t==null?void 0:t.city_name)+", ":"",(t==null?void 0:t.state_name)!==null?(t==null?void 0:t.state_name)+", ":"",(t==null?void 0:t.zipcode)!==null?(t==null?void 0:t.zipcode)+", ":"",t==null?void 0:t.country_name]})]})}),e.jsx("div",{className:"  w-full",children:e.jsx(W,{to:`tel:${t==null?void 0:t.phone}`,children:e.jsxs("div",{className:"grid grid-cols-12",children:[e.jsx("div",{className:"col-span-1",children:e.jsx(je,{className:"text-[20px]"})}),e.jsx("div",{className:`col-span-11 leading-[1.2em] ml-2
                                    text-[12px]`,children:t==null?void 0:t.phone})]})})}),e.jsx("div",{className:"  w-full",children:e.jsx(W,{to:`${t==null?void 0:t.website}`,children:e.jsxs("div",{className:"grid grid-cols-12",children:[e.jsx("div",{className:`col-span-1 relative top-0
                            `,children:e.jsx(fe,{className:"text-[22px]"})}),e.jsx("div",{className:`col-span-11 leading-[1.2em] ml-2 top-0
                            flex place-items-center text-[12px]`,children:"Website"})]})})}),e.jsx("div",{className:"  w-full",children:e.jsx(W,{to:`mailto:${t==null?void 0:t.email_address}`,children:e.jsxs("div",{className:"grid grid-cols-12",children:[e.jsx("div",{className:`col-span-1 relative top-0
                            `,children:e.jsx(we,{className:"text-[20px]"})}),e.jsx("div",{className:`col-span-11 leading-[1.2em] ml-2 top-0
                            flex place-items-center text-[12px]`,children:"Email Address"})]})})})]}),e.jsx("div",{children:e.jsx("div",{className:`bg-blue-500 mt-[40px] mx-[15px]
                        text-white text-center py-2 rounded`,children:t&&e.jsx(Ge,{listing:t})})})]})]})}),De=({listing:t})=>e.jsxs("div",{className:"mt-4",children:[e.jsx("div",{className:"text-lg font-bold",children:"Intro"}),e.jsx("div",{className:" text-[14px] flex flex-col gap-y-4 whitespace-pre-wrap",children:t.short_description})]}),Ie=({images:t,listing:s})=>{var x,N,n,g,b,C,G,S,d,j,w,E,K,M,B,A,V,k,X,z,T;const[l,a]=c.useState([]),m=J(),u=le(),[o,f]=c.useState("images/abstract_placeholder.jpg"),[y,h]=c.useState([]);c.useEffect(()=>{let p=[...l];t&&(t.map((H,O)=>{O+1<12&&p.push(H)}),h(p))},[t]);const v=p=>{p<t.length&&(m.setDialog(!0),m.setSelectedSlide(p+1),m.setGallery(t),m.setListing(s))},_=p=>{u.setShow(!0),u.setGallery(t),u.setListing(s)};return e.jsxs("div",{className:"w-full h-auto mb-[32px] flex flex-col gap-2",children:[e.jsxs("div",{className:`h-[350px]
                grid grid-cols-12 gap-[3px]`,children:[e.jsx("div",{className:`col-span-7 bg-black
                    row-span-2 rounded overflow-hidden
                    relative cursor-pointer`,onMouseDown:p=>v(0),children:e.jsx("img",{src:((x=t[0])==null?void 0:x.image_url)!==void 0&&((N=t[0])==null?void 0:N.image_url)!==null?R.IMG_BASE_URL+((n=t[0])==null?void 0:n.image_url):o,alt:"",className:"object-cover h-full w-full"})}),e.jsx("div",{className:`col-span-5 bg-black
                    rounded overflow-hidden h-full
                    relative cursor-pointer`,onMouseDown:p=>v(1),children:e.jsx("img",{src:((g=t[1])==null?void 0:g.image_url)!==void 0&&((b=t[1])==null?void 0:b.image_url)!==null?R.IMG_BASE_URL+((C=t[1])==null?void 0:C.image_url):o,alt:"",className:"object-cover h-full w-full"})}),e.jsx("div",{className:`col-span-5 bg-black
                    rounded overflow-hidden h-full
                    relative cursor-pointer`,onMouseDown:p=>v(2),children:e.jsx("img",{src:((G=t[2])==null?void 0:G.image_url)!==void 0&&((S=t[2])==null?void 0:S.image_url)!==null?R.IMG_BASE_URL+((d=t[2])==null?void 0:d.image_url):o,alt:"",className:"object-cover h-full w-full"})})]}),e.jsxs("div",{className:"grid grid-cols-5 gap-[5px] mt-[-3px]",children:[e.jsx("div",{className:`rounded overflow-hidden
                    relative cursor-pointer h-[100px] bg-black`,onMouseDown:p=>v(3),children:e.jsx("img",{src:((j=t[3])==null?void 0:j.image_url)!==void 0&&((w=t[3])==null?void 0:w.image_url)!==null?R.IMG_BASE_URL+((E=t[3])==null?void 0:E.image_url):o,alt:"",className:"object-cover h-full w-full"})}),e.jsx("div",{className:`rounded overflow-hidden
                    relative cursor-pointer h-[100px] bg-black`,onMouseDown:p=>v(4),children:e.jsx("img",{src:((K=t[4])==null?void 0:K.image_url)!==void 0&&((M=t[4])==null?void 0:M.image_url)!==null?R.IMG_BASE_URL+((B=t[4])==null?void 0:B.image_url):o,alt:"",className:"object-cover h-full w-full"})}),e.jsx("div",{className:`rounded overflow-hidden
                    relative bg-black cursor-pointer h-[100px]`,onMouseDown:p=>v(5),children:e.jsx("img",{src:((A=t[5])==null?void 0:A.image_url)!==void 0&&((V=t[5])==null?void 0:V.image_url)!==null?R.IMG_BASE_URL+((k=t[5])==null?void 0:k.image_url):o,alt:"",className:"object-cover h-full w-full"})}),e.jsx("div",{className:`rounded overflow-hidden
                    relative bg-black cursor-pointer h-[100px]`,onMouseDown:p=>v(6),children:e.jsx("img",{src:((X=t[6])==null?void 0:X.image_url)!==void 0&&((z=t[6])==null?void 0:z.image_url)!==null?R.IMG_BASE_URL+((T=t[6])==null?void 0:T.image_url):o,alt:"",className:"object-cover h-full w-full"})}),e.jsx("div",{className:`rounded overflow-hidden
                    relative bg-black text-white cursor-pointer
                    flex place-content-center place-items-center h-[100px]`,onMouseDown:p=>_(),children:(t==null?void 0:t.length)>7?`+${t.length-7}`:"View all"})]})]})},Be=({images:t,listing:s})=>{const[l,a]=c.useState(0),m=c.useRef(0);c.useRef(0);const u=d=>{m.current=d.touches[0].clientX},o=d=>{const j=d.changedTouches[0].clientX,w=m.current-j;w>50?a(E=>(E+1)%t.length):w<-50&&a(E=>(E-1+t.length)%t.length)},[f,y]=c.useState(null);let h=c.useRef(null);const[v,_]=c.useState([]),x=J();le();const[N,n]=c.useState([]);c.useEffect(()=>{let d=[...v];t&&(t.map((j,w)=>{w+1<12&&d.push(j)}),n(d))},[t]);const g=d=>{d<t.length&&(x.setDialog(!0),x.setSelectedSlide(d+1),x.setGallery(t),x.setListing(s))};c.useEffect(()=>{t&&y(t)},[t]);const b=()=>{a(d=>d===0?f.length-1:d-1)},C=()=>{a(d=>d===f.length-1?0:d+1)},G=async()=>{h.current&&clearTimeout(h.current),C(),h.current=setTimeout(()=>{},15e3)},S=async()=>{h.current&&clearTimeout(h.current),b(),h.current=setTimeout(()=>{},15e3)};return c.useEffect(()=>{},[f]),e.jsx(e.Fragment,{children:e.jsxs("div",{className:"relative",children:[e.jsx("div",{className:` w-full h-[300px] md:h-[500px] flex 
          overflow-hidden z-0
          `,children:f==null?void 0:f.map((d,j)=>e.jsx("img",{onTouchStart:u,onTouchEnd:o,onMouseDown:w=>g(j),src:R.IMG_BASE_URL+d.image_url,alt:"",style:{transform:`translateX(-${l*100}%)`},className:`object-cover w-full h-full 
                      block flex-shrink-0 flex-grow-0 transition-transform
                      ease-in-out duration-1000 cursor-pointer`},j))}),e.jsxs("div",{className:"z-[300]",children:[e.jsx("button",{onMouseDown:S,className:`block absolute top-0 bottom-0 
                                                  z-[300] p-[1rem] cursor-pointer left-0 group h-full 
                                                        transition duration-1000 ease-in-out`,children:e.jsx("div",{className:`w-[50px] h-[50px] bg-white/60 rounded-full 
            place-content-center place-items-center group-hover:bg-white/30
            z-[300] transition duration-500 ease-in-out`,children:e.jsx(de,{className:" stroke-white fill-black w-[2rem] h-[2rem]"})})}),e.jsx("button",{onMouseDown:G,className:`block absolute top-0 bottom-0 
                                                        z-[300]    p-[1rem] cursor-pointer right-0 group 
                                                             transition duration-1000 ease-in-out`,children:e.jsx("div",{className:`w-[50px] h-[50px] bg-white/60 rounded-full 
            flex place-content-center place-items-center group-hover:bg-white/30
            z-[300]   transition duration-500 ease-in-out
            `,children:e.jsx(xe,{className:" stroke-white fill-black w-[2rem] h-[2rem]"})})})]})]})})},Ae=({data:t})=>e.jsx("div",{className:`
             md:border py-[12px] px-[12px] md:mb-3  rounded`,children:e.jsxs("div",{className:`flex place-content-between gap-1
                                        `,children:[e.jsxs("div",{className:"flex flex-col",children:[e.jsx("div",{className:`font-sans text-[16px]
                                                font-bold text-blue-700`,children:"Category"}),e.jsx("div",{className:` -mt-[4px]
                                                font-normal text-black capitalize
                                                text-[12px] tracking-normal`,children:t==null?void 0:t.category})]}),e.jsxs("div",{className:`w-full flex flex-col place-items-end
                                        place-content-center`,children:[e.jsx("div",{className:`font-bold tracking-tighter
                                            text-[15px] font-sans text-black
                                            `,children:"Very Good"}),e.jsxs("div",{className:"text-[11px] mt-[-2px]",children:[F(Number(t==null?void 0:t.ratingCount))," reviews"]})]}),e.jsx("div",{className:`min-w-10 w-10 h-10 mt-[-1px]
                                        bg-blue-800 text-white flex
                                        place-content-center place-items-center
                                         rounded px-[3px]
                                        `,children:F(Number(t==null?void 0:t.rating))})]})});function ze({rating:t}){return e.jsx("div",{className:"flex gap-[3px]",children:Array.from({length:5}).map((s,l)=>{const a=Math.max(0,Math.min(1,t-l))*100;return e.jsx("div",{className:`relative w-[17px] h-[17px] bg-white rounded-full 
                            overflow-hidden flex place-items-center border-[1px]
                            place-content-center border-gray-500`,children:e.jsx("div",{className:"absolute inset-0 bg-green-600 z-[0]",style:{width:`${a}%`}})},l)})})}const Te=({listing:t,images:s,ratingsData:l})=>{const[a,m]=c.useState();return c.useEffect(()=>{t&&l&&m({totalReviews:0,category:t==null?void 0:t.category,rating:l.rating_average,ratingCount:l.rating_count}),console.log(JSON.stringify(t.category))},[t,l]),e.jsxs("div",{className:"",children:[e.jsx("div",{className:"px-[15px] w-full",children:e.jsxs("div",{className:"max-w-[1100px] w-full mx-auto bg-white",children:[l&&e.jsxs("div",{className:"mt-4 flex gap-2 place-items-center",children:[e.jsx(ze,{rating:l==null?void 0:l.rating_average}),e.jsxs("div",{className:`flex place-items-center place-content-center
                                    gap-1 text-black/60 text-[14px]`,children:[e.jsx("div",{children:F(Number(l==null?void 0:l.rating_average))}),e.jsxs("div",{children:["(",e.jsxs("span",{className:"underline",children:[F(l==null?void 0:l.rating_count)," reviews"]}),")"]})]})]}),t&&e.jsx(Le,{listing:t})]})}),(s==null?void 0:s.length)>0&&t&&e.jsx("div",{className:`bg-black h-fit md:hidden
                mt-4`,children:e.jsx(Be,{images:s,listing:t})}),e.jsx("div",{className:" md:pt-4 md:px-[12px]",children:e.jsx("div",{className:"max-w-[1100px] w-full mx-auto bg-white",children:e.jsxs("div",{className:`grid grid-cols-12 gap-0 md:gap-4 relative
                    `,children:[e.jsxs("div",{className:" col-span-12 lg:col-span-8",children:[e.jsx("div",{className:"hidden md:block mt-0",children:(s==null?void 0:s.length)>0&&t&&e.jsx(Ie,{images:s,listing:t})}),e.jsxs("div",{className:"",children:[e.jsxs("div",{className:`md:hidden ${(s==null?void 0:s.length)<=0&&"mt-5"}  md:mt-0 mb-5`,children:[a&&e.jsx(Ae,{data:a}),t&&e.jsx(Me,{businessProfile:t})]}),e.jsxs("div",{className:"px-[15px] md:px-[0px]",children:[e.jsx(De,{listing:t}),e.jsx(Ce,{listing:t})]})]})]}),e.jsx("div",{className:"col-span-12 lg:col-span-4 hidden lg:block",children:e.jsx("div",{className:" sticky top-[100px]"})})]})})})]})},Ue=({title:t,subtitle:s,category:l,limit:a})=>{const[m,u]=c.useState(""),[o,f]=c.useState(""),[y,h]=c.useState([]),[v,_]=c.useState(""),x="https://pics.gasimg.com";c.useEffect(()=>{t&&s&&(u(t),f(s))},[t,s]);let N=async(n,g)=>{if(g&&n){let b=await pe(n,g);h(b)}};return c.useEffect(()=>{a&&l&&N(l,a)},[a,l]),e.jsx("div",{className:"px-[15px]",children:e.jsx("div",{className:"max-w-[1100px] mx-auto w-full",children:e.jsxs("div",{className:"mt-10 border-t pt-5",children:[e.jsxs("div",{className:" mb-[20px] ",children:[e.jsx("div",{className:"font-semibold text-xl",children:m}),e.jsx("div",{className:"text-sm -mt-[2px]",children:o})]}),e.jsx("div",{className:"grid grid-cols-2 md:grid-cols-3 lg:grid-cols-4 gap-x-3 gap-y-4",children:y==null?void 0:y.map((n,g)=>{let b="";return n!=null&&n.username?b=n==null?void 0:n.username:b=n==null?void 0:n.gid,e.jsxs("div",{children:[e.jsx("div",{children:e.jsx(W,{to:`/${b}`,children:e.jsx("div",{className:`relative h-[120px]
                                                    md:h-[180px]`,children:e.jsx("img",{className:`object-cover w-full h-full
                                                    text-sm`,src:n!=null&&n.image_url?x+(n==null?void 0:n.image_url):"images/placeholder.gif",alt:n.title})})})}),e.jsx("div",{className:`mt-1 text-[15px] tracking-tight 
                                     truncate`,children:n.title}),e.jsx("div",{className:"mt-1",children:e.jsx(Ne,{rating:n.avg_rating})}),e.jsx("div",{className:`text-[11px] mt-[5px] tracking-tight
                                    leading-[1.2em]`,children:n.short_description.substring(0,100)})]},g)})})]})})})},lt=()=>{const t=ne(),s=t.listing,l=t.gallery,a=t.ratingsData;return e.jsx(Ee,{children:e.jsxs(Se,{children:[e.jsx("div",{className:"hidden md:block",children:e.jsx(be,{})}),e.jsx("div",{className:"md:hidden",children:e.jsx(ye,{})}),e.jsx(_e,{}),s.gid!==null&&s.gid!==void 0&&e.jsx(Te,{listing:s,images:l,ratingsData:a}),s&&e.jsx(Ue,{category:s==null?void 0:s.category,limit:6,title:`Related: ${s==null?void 0:s.category}`,subtitle:"Related based on the same category."}),e.jsx(ge,{})]})})};export{lt as default};
