import{j as e}from"./jsx-runtime-0DLF9kdB.js";import{r as n,L as f}from"./components-DN9bEK-g.js";import{c as j,L as b}from"./UserMenu-DHXwxQ2k.js";import{H as N}from"./HomeNav-ROu8abxH.js";import{u as y}from"./AuthContext-D9yVmLQE.js";import{G as k,a as u,n as L}from"./lib-D-Fd9dst.js";import{S as A}from"./SrchNavbar-207lPkAR.js";function S(t){return k({attr:{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},child:[{tag:"path",attr:{d:"M10.29 3.86L1.82 18a2 2 0 0 0 1.71 3h16.94a2 2 0 0 0 1.71-3L13.71 3.86a2 2 0 0 0-3.42 0z"},child:[]},{tag:"line",attr:{x1:"12",y1:"9",x2:"12",y2:"13"},child:[]},{tag:"line",attr:{x1:"12",y1:"17",x2:"12.01",y2:"17"},child:[]}]})(t)}const z=({children:t})=>{const[o,l]=n.useState(!0),[i,d]=n.useState(null),[x,m]=n.useState(!0),[p,h]=n.useState(null),s=y();if(!s)return null;n.useEffect(()=>{s.user===null&&(window.location.href="/web/signin")},[s]);const[g,v]=n.useState(!0),w=()=>{l(o===!1)};return n.useEffect(()=>{var r,a,c;((r=s==null?void 0:s.user)==null?void 0:r.guid)!==null&&((a=s==null?void 0:s.user)==null?void 0:a.guid)!==void 0&&((c=s==null?void 0:s.user)==null?void 0:c.guid)!==""?v(!1):window.location.href="/web/signin"},[s==null?void 0:s.user]),n.useEffect(()=>{const r=async a=>{const c=await L(a||"");d(c)};s!=null&&s.user&&r(s==null?void 0:s.user.guid)},[s==null?void 0:s.user]),n.useEffect(()=>{const r=localStorage.getItem("authTokens");(r==null||r==="")&&(window.location.href="/web/signin")},[]),n.useEffect(()=>{i&&m(!!(i!=null&&i.active))},[i]),n.useEffect(()=>{x===!1&&h(e.jsxs("div",{className:`mb-4 flex place-items-center gap-2 text-red-600
                            w-full border pb-2 leading-[1.2em] rounded p-2 bg-white `,children:[e.jsx(S,{className:"min-h-[32px] min-w-[32px]"}),e.jsx("div",{children:"You are currently deactivated. Some operations like creating new business cannot be performed. Activate your profile to continue."})]}))},[x]),g?e.jsx("div",{className:"flex justify-center items-center h-screen",children:e.jsx("div",{className:"text-lg",children:"Loading..."})}):e.jsxs("div",{className:"h-screen flex flex-col relative",children:[e.jsx("div",{className:`h-[${u.NAVBAR_HEIGHT}px] md:h-[0px]`}),e.jsx(A,{}),e.jsx("div",{className:"md:hidden",children:e.jsx(N,{})}),e.jsx("button",{onClick:w,className:`text-xl text-white bg-blue-700 p-2 
                rounded-full hover:bg-gray-700 shadow-lg top-[72px]
                ${o?"left-[295px]":"left-[15px]"}
                focus:outline-none fixed z-50 top-[60px] 
                transition-all duration-1000 ease-in-out
                hidden md:block`,children:e.jsx(j,{className:`${o?"rotate-0 transition-all duration-1000 ease-in-out":"rotate-90 transition-all duration-1000 ease-in-out"}`})}),e.jsxs("div",{className:`flex flex-1 md:mt-[${u.NAVBAR_HEIGHT}px] h-full
                overflow-hidden`,children:[e.jsxs("aside",{className:`bg-gray-50 text-gray-900 
                        h-full overflow-y-auto transition-all z-30
                        duration-1000 ease-in-out border-r shadow-md
                        hidden md:block
                        ${o?"w-[350px] min-w-[350px]":"w-0 min-w-0 overflow-hidden"}`,children:[e.jsx("div",{className:"mt-[20px]"}),e.jsx(b,{userProfile:i}),e.jsx("div",{className:"h-[20px]"})]}),e.jsx("div",{className:"flex-1 overflow-y-auto bg-gray-100 py-6 px-[15px]",children:e.jsxs("div",{className:`max-w-[100%] md:max-w-[80%] mx-auto w-full  
                        `,children:[p,t]})})]})]})},E=t=>e.jsx("div",{className:`font-[500] text-[16px] md:text-[19px]
        font-poppins tracking-tight`,children:e.jsx(f,{to:`${t.baseUrl}${t.guid}`,children:t.children})}),$=({businessGuid:t,data:o,businessProfile:l})=>{var i;return e.jsx("div",{children:e.jsxs("div",{className:`bg-blue-100 w-full px-3 
                            flex place-content-between rounded-lg
                            place-items-center h-auto py-2 gap-[5px]
                            leading-[1.5em]`,children:[e.jsx("div",{className:"h-full",children:e.jsx(E,{baseUrl:"/web/account/portfolio/",guid:t,children:(i=o==null?void 0:o.businessProfile)==null?void 0:i.title})}),e.jsx(f,{to:`/${l==null?void 0:l.gid}`,children:e.jsx("button",{className:`px-3 border border-black
                                    py-2 rounded-full hover:bg-white`,children:"Preview"})})]})})},R=({children:t,businessGuid:o,data:l,businessProfile:i,title:d})=>e.jsxs("div",{children:[e.jsx("div",{className:"font-semibold text-lg",children:d}),e.jsxs("div",{className:`mt-4 bg-white px-[15px] pt-4 
                rounded-lg shadow-md pb-8 `,children:[e.jsx($,{businessGuid:o,data:l,businessProfile:i}),t]})]});export{z as A,R as C,E as a};
