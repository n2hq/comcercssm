import{j as a}from"./jsx-runtime-0DLF9kdB.js";import{L as p,r as x,c as S,B as L}from"./components-kAvIA9Ge.js";import{T as $,U as z,p as N,V as i,W as E}from"./index-Bk8KN62v.js";import{d as w}from"./MobileNav-3AC4s-2C.js";import{a as _}from"./index-CAWBM3Le.js";import{L as B,F as I}from"./LatestStarRating-BQw4FIBj.js";import{G as P}from"./GenericNav-CLcBsosX.js";import{H as R}from"./HomeNav-D8OQztua.js";import"./Hamburger-De3YMqj-.js";const F=({feature:e})=>a.jsxs("div",{id:e.gid,className:"pb-4 pt-3",children:[a.jsx(p,{to:`/${e.gid}`,children:a.jsx("div",{className:`text-[15px] tracking-normal 
                text-blue-700 font-normal`,children:e.title})}),a.jsx("div",{className:`text-md font-semibold 
                tracking-tight mt-[2px]`,children:e.phone}),a.jsx("div",{className:`font-normal text-[13px] 
                tracking-normal mt-[2px] leading-[1.3em]
                text-black`,children:e.short_description.substring(0,80)}),a.jsx("div",{className:`text-[12px] font-normal 
                tracking-tight mt-[5px] leading-[1.4em]
                text-brown-700`,children:e.address_one}),a.jsx("div",{className:`text-[13px] font-normal 
                tracking-tight mt-[8px] text-blue-800`,children:a.jsx(p,{to:e.website?e.website:`#${e.gid}`,children:"Website"})})]}),q=()=>{const[e,r]=x.useState([]);return x.useEffect(()=>{(async()=>{const c=await $();console.log(c),r(c)})()},[]),a.jsxs("div",{className:`border-[1px] px-4 pt-4 pb-4
        rounded border-gray-200`,children:[a.jsx("div",{className:"font-bold text-lg",children:"Featured"}),a.jsx("div",{className:"divide-y divide-gray-200",children:(e==null?void 0:e.length)>0?e==null?void 0:e.map((s,c)=>a.jsx(F,{feature:s},c)):a.jsx("div",{className:"text-[15px] mt-4",children:"Loading..."})})]})},C=({children:e})=>a.jsx("div",{className:"w-full h-auto px-[15px] mt-5 z-0",children:a.jsxs("div",{className:`max-w-[1100px] mx-auto w-full
                    grid grid-cols-12 gap-8`,children:[a.jsx("div",{className:"col-span-12 lg:col-span-8 ",children:e}),a.jsx("div",{className:"col-span-12 lg:col-span-4 lg:block ",children:a.jsx("div",{className:"sticky top-[80px]",children:a.jsx(q,{})})})]})});function y({rating:e}){return a.jsx("div",{className:"flex gap-[3px]",children:Array.from({length:5}).map((r,s)=>{const c=Math.max(0,Math.min(1,e-s))*100;return a.jsxs("div",{className:`relative w-6 h-6 bg-gray-300 rounded 
                            overflow-hidden flex place-items-center
                            place-content-center`,children:[a.jsx("div",{className:"absolute inset-0 bg-red-500 z-[0]",style:{width:`${c}%`}}),a.jsx(z,{className:"relative z-[0] w-4 h-4 text-white",fill:"currentColor"})]},s)})})}const M=({listing:e})=>{var c,t;const[r,s]=x.useState("");return x.useEffect(()=>{(e==null?void 0:e.image_url)===""||(e==null?void 0:e.image_url)===null?s("https://accuvice.ng/wp-content/uploads/2016/06/placeholder.gif"):s(N.IMG_BASE_URL+e.image_url)},[e]),a.jsxs("div",{className:" cursor-pointer mt-4 z-0 pb-4",onClick:o=>{window.location.href=`/${e.gid}`},children:[a.jsxs("div",{className:"flex rounded-sm gap-4 z-0",children:[a.jsx("div",{className:`relative min-w-[100px] w-[100px] h-[100px] border
                    bg-white z-0`,children:a.jsx("img",{src:r,alt:e.title,className:`object-cover w-full h-full text-sm
                            rounded z-0`})}),a.jsx("div",{className:" w-full",children:a.jsxs("div",{className:`md:flex md:place-content-between 
                w-full md:gap-x-[4px]`,children:[a.jsxs("div",{className:"w-full md:w-[60%]",children:[a.jsx(p,{to:`/${e.gid}`,onClick:o=>o.stopPropagation(),children:a.jsx("div",{className:`font-bold text-[17px] text-brown-800
                    leading-[1.1em] hover:underline text-[#001e5a]`,children:e.title})}),a.jsxs("div",{className:`mt-2 flex gap-1
                                                     place-items-center`,children:[a.jsx(y,{rating:e==null?void 0:e.average_rating}),a.jsxs("div",{className:`flex place-items-center
                                gap-1 text-black/60 text-[13px]`,children:[a.jsx("div",{children:i(Number(e==null?void 0:e.average_rating))}),a.jsxs("div",{children:["(",i(e==null?void 0:e.total_reviews),")"]})]})]}),a.jsx("div",{className:`font-normal text-[13px] leading-[1.2em] mt-[5px]
                    `,children:e!=null&&e.business_phrases?`${(c=e==null?void 0:e.business_phrases)==null?void 0:c.substring(0,150)}...`:""}),a.jsx("div",{className:`font-normal text-[13px] 
                                    flex place-items-center gap-1 mt-[3px]`,children:a.jsx("div",{className:`capitalize flex place-items-center gap-1
                                    text-black underline`,children:e.category})}),(e==null?void 0:e.established)&&a.jsxs("div",{className:"flex gap-2 mt-[5px] place-items-center",children:[a.jsx("div",{children:a.jsx(w,{})}),a.jsxs("div",{className:"flex flex-col gap-y-0 leading-3",children:[a.jsxs("div",{className:"text-[12px] font-bold",children:["Since ",e==null?void 0:e.established]}),a.jsx("div",{className:"text-[12px]",children:"In Business"})]})]})]}),a.jsxs("div",{className:`w-full lg:w-[40%] hidden 
                                sm:block`,children:[a.jsx("div",{className:`flex flex-col 
                    place-items-end place-content-end
                        font-semibold text-[15px] tracking-tighter`,children:e.phone}),a.jsxs("div",{className:`flex flex-col text-end text-[12px]
                                leading-[1.2em]`,children:[e==null?void 0:e.address_one,e!=null&&e.address_two?`, ${e==null?void 0:e.address_two}`:"",e!=null&&e.city_name?`, ${e==null?void 0:e.city_name}`:"",e!=null&&e.state_name?`, ${e==null?void 0:e.state_name}`:"",e!=null&&e.country_name?`, ${e==null?void 0:e.country_name}`:""]})]})]})})]}),a.jsxs("div",{className:`mt-2 md:mt-3 mb-0 text-[13px] leading-[1.2em]
                    flex place-content-start`,children:[a.jsx("div",{className:"relative top-[-3px] z-0 flex",children:a.jsx(_,{className:"tracking-tighter text-[20px]"})}),a.jsx("div",{children:e!=null&&e.short_description?`${(t=e==null?void 0:e.short_description)==null?void 0:t.substring(0,150)}...`:""})]})]})},A=({listing:e,index:r})=>{var t;const[s,c]=x.useState("");return x.useEffect(()=>{(e==null?void 0:e.image_url)===""||(e==null?void 0:e.image_url)===null?c("https://accuvice.ng/wp-content/uploads/2016/06/placeholder.gif"):c(N.IMG_BASE_URL+e.image_url)},[e]),a.jsx(p,{to:`/${e.gid}`,className:"cursor-pointer",children:a.jsxs("div",{className:"w-full h-fit my-4",children:[a.jsxs("div",{className:"flex gap-3",children:[a.jsxs("div",{className:`w-[100px] min-w-[100px]
                    bg-black z-0 h-[110px]
                    rounded-md overflow-hidden
                    relative`,children:[a.jsx("img",{src:s,alt:e==null?void 0:e.title,className:`object-cover w-full h-full 
                                text-sm rounded z-[0]`}),a.jsx("div",{className:`w-full h-[40%]
                            absolute z-[10] bottom-0 
                            bg-gradient-to-t from-black/80
                            to-transparent
                            `})]}),a.jsxs("div",{className:"flex-1 min-w-0 ",children:[a.jsxs("div",{className:`text-[19px] 
                    font-bold leading-[1.2em]
                    truncate overflow-hidden
                    `,children:[r+1,". ",e==null?void 0:e.title]}),a.jsxs("div",{className:`mt-2 flex gap-1
                         place-items-center`,children:[a.jsx(y,{rating:e==null?void 0:e.average_rating}),a.jsxs("div",{className:`flex place-items-center
                                gap-1 text-black/60 text-[13px]`,children:[a.jsx("div",{children:e==null?void 0:e.average_rating}),a.jsxs("div",{children:["(",i(e==null?void 0:e.total_reviews),")"]})]})]}),a.jsx("div",{className:`capitalize mt-1
                            text-[14px] underline`,children:e==null?void 0:e.category}),(e==null?void 0:e.established)&&a.jsxs("div",{className:"flex gap-2 mt-[5px] place-items-center",children:[a.jsx("div",{children:a.jsx(w,{})}),a.jsxs("div",{className:"flex flex-col gap-y-0 leading-3",children:[a.jsxs("div",{className:"text-[12px] font-bold",children:["Since ",e==null?void 0:e.established]}),a.jsx("div",{className:"text-[12px]",children:"In Business"})]})]})]})]}),a.jsxs("div",{className:`mt-2 md:mt-3 mb-0 text-[14px] leading-[1.2em]
                                flex place-content-start`,children:[a.jsx("div",{className:"relative top-[-3px] z-0 flex",children:a.jsx(_,{className:"tracking-tighter text-[20px]"})}),a.jsx("div",{children:e!=null&&e.short_description?`${(t=e==null?void 0:e.short_description)==null?void 0:t.substring(0,150)}...`:""})]})]})})},b=({data:e,itemsPerPage:r=10})=>{const[s,c]=x.useState(1),t=Math.ceil(e.length/r),o=s*r,n=o-r,h=e.slice(n,o),m=l=>c(l),j=()=>{s>1&&c(s-1)},v=()=>{s<t&&c(s+1)};return a.jsxs("div",{children:[a.jsx("div",{className:" divide-y z-0 divide-gray-500",children:h.map((l,d)=>a.jsxs("div",{children:[a.jsx("div",{className:"md:hidden",children:a.jsx(A,{listing:l,index:d})}),a.jsx("div",{className:"hidden md:block",children:a.jsx(M,{listing:l})})]},d))}),t>1&&a.jsxs("div",{className:`flex justify-center gap-[5px] 
                mt-[60px]`,children:[a.jsx("button",{onClick:j,disabled:s===1,className:`px-[12px] py-[8px] bg-white cursor-pointer border
                                rounded-[4px]`,children:"Previous"}),Array.from({length:t},(l,d)=>d+1).map(l=>a.jsx("button",{onClick:()=>m(l),className:`px-[12px] py-[8px]  cursor-pointer border
                                rounded-[4px] ${s===l?"bg-blue-500 text-white border-blue-500":"bg-white"}`,children:l},l)),a.jsx("button",{onClick:v,disabled:s===t,className:`px-[12px] py-[8px] bg-white cursor-pointer border
                                rounded-[4px]`,children:"Next"})]})]})},f=({title:e,subtitle:r,category:s,limit:c})=>{const[t,o]=x.useState(""),[n,h]=x.useState(""),[m,j]=x.useState([]),v="https://oxbyt.com";x.useEffect(()=>{e&&r&&(o(e),h(r))},[e,r]);let l=async(d,u)=>{if(u&&d){let k=await E(d,u);j(k)}};return x.useEffect(()=>{c&&s&&l(s,c)},[c,s]),a.jsxs("div",{className:"mt-10 border-t pt-5",children:[a.jsxs("div",{className:" mb-[20px] ",children:[a.jsx("div",{className:"font-semibold text-xl",children:t}),a.jsx("div",{className:"text-sm -mt-[2px]",children:n})]}),a.jsx("div",{className:"grid grid-cols-2 md:grid-cols-3 gap-x-3 gap-y-4",children:(m==null?void 0:m.length)>0&&(m==null?void 0:m.map((d,u)=>a.jsxs("div",{children:[a.jsx("div",{children:a.jsx(p,{to:`/${d.gid}`,children:a.jsx("div",{className:"relative h-[180px]",children:a.jsx("img",{className:`object-cover w-full h-full
                                                    text-sm`,src:d!=null&&d.image_url?v+(d==null?void 0:d.image_url):"https://accuvice.ng/wp-content/uploads/2016/06/placeholder.gif",alt:d.title})})})}),a.jsx("div",{className:`mt-1 text-[15px] tracking-tight 
                                     truncate`,children:d.title}),a.jsx("div",{className:"mt-1",children:a.jsx(B,{rating:d.avg_rating})}),a.jsx("div",{className:`text-[11px] mt-[5px] tracking-tight
                                    leading-[1.2em]`,children:d.short_description.substring(0,100)})]},u)))})]})},G=[{id:1,url:"/",label:"Home"},{id:2,url:"/web/search",label:"Search"},{id:3,url:"/web/search?q=hotels",label:"Hotels"},{id:4,url:"/web/search?q=travel",label:"Travel"},{id:5,url:"/web/search?q=real estate",label:"Real Estate"},{id:6,url:"/web/search?q=services",label:"Services"}],K=()=>{var o;const e=S();L();const r=e.data,s=e.query,[c,t]=x.useState(null);return x.useEffect(()=>{s&&t(s)},[s]),a.jsxs("div",{children:[a.jsx("div",{className:"hidden md:block",children:a.jsx(P,{})}),a.jsx("div",{className:"md:hidden",children:a.jsx(R,{})}),a.jsx("div",{className:"px-[15px] border-b",children:a.jsx("div",{className:"max-w-[1100px] mx-auto w-full",children:a.jsxs("div",{className:" grid grid-cols-12 gap-x-2",children:[a.jsx("div",{className:`flex place-items-center col-span-12 md:col-span-4 truncate
                             pt-3 pb-0 md:pb-3 `,children:a.jsx("span",{className:"text-[18px] font-bold",children:((o=e.query)==null?void 0:o.length)>0?`Search for '${e.query}'`:"Browse Updates"})}),a.jsx("div",{className:`space-x-6 flex place-items-center place-content-start
                            col-span-12 md:col-span-8 truncate md:place-content-end
                             pt-0 pb-2 md:pt-3 md:pb-3 `,children:G.map((n,h)=>a.jsx(p,{to:`${n.url}`,className:"text-[14px]",children:n.label},h))})]})})}),a.jsx("div",{className:"md:hidden px-[12px] mt-8",children:r.length>0?a.jsx(b,{data:r,itemsPerPage:20}):a.jsx("div",{children:"hm"})}),a.jsx("div",{className:"hidden md:block",children:a.jsxs(C,{children:[r.length>0?a.jsx(b,{data:r,itemsPerPage:20}):a.jsx("div",{className:`flex place-items-center rounded
                            place-content-center p-5 border capitalize`,children:a.jsx("span",{children:"no record"})}),a.jsx(f,{category:"entertainment",limit:5,title:"Entertainment",subtitle:"Entertainment based businesses added in the last 7 days"}),a.jsx(f,{category:"services",limit:5,title:"Services",subtitle:"Services based businesses added in the last 7 days"})]})}),a.jsx(I,{})]})};export{K as default};
