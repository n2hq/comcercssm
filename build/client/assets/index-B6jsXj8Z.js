import{j as e}from"./jsx-runtime-0DLF9kdB.js";import{r as a,L as M,R as te,c as je}from"./components-DN9bEK-g.js";import{I as fe,e as ve,B as Ne,a as we}from"./index-k0w-tOyX.js";import{u as Q}from"./SliderContext-ChVvYAqX.js";import{u as oe}from"./AuthContext-B_f5udnt.js";import{u as ye,s as be,z}from"./index-CORT_df8.js";import{u as ne}from"./NotificationContext-BiUXV5a3.js";import{w as K,f as _,D as _e,E as Se,H as se,I as ke,J as ge,K as Re,L as Ee,M as Le,N as Ge,O as Be,P as O,m as Ce,r as Ie,A as $e}from"./lib-Rog-1pWQ.js";import{i as Ae,j as Me,k as De,l as de}from"./index-ChsahLd0.js";import{f as Te,g as Ue,h as Fe,i as ze,j as We,k as Oe}from"./index-BP8VMdN-.js";import{b as Ke}from"./UserMenu-BuiM7b1h.js";import{L as Xe}from"./LatestStarRating-DRAyHe7-.js";import{H as qe}from"./HomeNav-DP_MNFQn.js";import{T as Ve}from"./TopAd-Bhct2RxL.js";import{L as Je,V as Ye}from"./VerticalHeight-DaumVFXR.js";import{C as Qe,F as Ze}from"./FooterSection-MkNoZKTC.js";import"./WhiteLogo-BeVChO_d.js";import"./SearchNavbar-BZC2BXmt.js";const xe=a.createContext(null);function me(){return a.useContext(xe)}const He=({children:t})=>{const[s,c]=a.useState(!1),[l,m]=a.useState(null),n=Q(),[d,r]=a.useState(null),i="https://pics.gasimg.com",v=()=>c(!1);let u={setShow:c,setGallery:m,setListing:r};const y=j=>{n.setDialog(!0),n.setSelectedSlide(j+1),n.setGallery(l)};return a.useEffect(()=>{const j=N=>{N.key==="Escape"&&v()};return s&&document.addEventListener("keydown",j),()=>{document.removeEventListener("keydown",j)}},[s]),e.jsxs(xe.Provider,{value:u,children:[s&&e.jsxs("div",{onMouseDown:j=>c(!1),className:`flex w-screen h-screen bg-black/40 
                        z-[20000] fixed top-0 left-0 right-0 bottom-0
                        place-items-center place-content-center px-[15px]`,children:[e.jsx("div",{onMouseDown:j=>j.stopPropagation(),className:`min-w-[95%] w-[95%] sm:w-[95%] md:w-[80%] h-[80%] max-h-[80%] 
                            mx-auto bg-white rounded-lg shadow-lg shadow-black/50 
                            space-y-6 z-[3100] overflow-hidden`,children:e.jsxs("div",{className:"w-full h-full",children:[e.jsx("div",{className:"border-b py-3 px-3",children:e.jsxs("div",{className:`font-bold text-gray-700
                                    text-xl w-[80%]  truncate`,children:["Gallery for ",d&&(d==null?void 0:d.title)]})}),e.jsx("div",{className:` 
                                h-full overflow-y-auto pt-2 px-2 pb-2
                                bg-white `,children:e.jsx("div",{className:"grid grid-cols-4 md:grid-cols-6 gap-2",children:l&&(l==null?void 0:l.map((j,N)=>e.jsx("div",{onClick:()=>y(N),className:`relative hover:cursor-pointer
                                                 bg-red-200 h-[80px] md:h-[100px] lg:h-[120px] rounded-md
                                                 overflow-hidden`,children:e.jsx("img",{className:"object-cover w-full h-full",src:i+j.image_url,alt:""})})))})})]})}),e.jsx("div",{onMouseDown:()=>v(),className:`w-[50px] h-[50px] z-[300] bg-white
                                flex place-content-center place-items-center
                                rounded-full absolute left-2 top-2 cursor-pointer
                                hover:bg-white/40 transition duration-1000 ease-in-out`,children:e.jsx(fe,{className:"text-[30px]"})})]}),t]})},W=100,he=a.createContext(null);function Pe(){return a.useContext(he)}const et=z.object({fullname:z.any(),rating:z.any(),comment:z.any()});function tt({children:t}){var Z,H,P;const[s,c]=a.useState(!1),[l,m]=a.useState(!1),[n,d]=a.useState(null),[r,i]=a.useState(void 0),[v,u]=a.useState(""),y=ne(),[j,N]=a.useState(5),p=oe();if(!p)return null;let{user:S}=p;const[k,G]=a.useState(null),[B,g]=a.useState(!1),x=h=>h.trim()===""?0:h.trim().split(/\s+/).length,o=h=>{let w=h.target.value,C=h.target.name;G($=>({...$,[C]:w}))},{register:f,handleSubmit:R,getValues:X,setValue:I,watch:D,reset:T,setError:q,formState:{errors:E,isSubmitting:V}}=ye({resolver:be(et)}),U=h=>{const w=h.target.value,C=w.trim().split(/\s+/);if(C.length<=W)I("text",w),g(!1);else{g(!0);const $=C.slice(0,W).join(" ");I("text",$)}},F=async h=>{y.notify("Working..."),await new Promise(A=>setTimeout(A,1e3));const w=S.guid,C=n.gid;h.user_guid=w,h.business_guid=C;const pe="https://edition.garssete.com"+"/api/rating";try{const A=await fetch(pe,{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify(h)}),ie=await A.json();A.ok?y.alert("Success","Rating submitted successfully!"):y.alert("Error",ie.error)}catch(A){y.alert("",A.message)}};let J={show:s,setShow:c,setListing:d,reset:T,setRatingData:i,validateData:async(h,w)=>{if((h==null?void 0:h.length)===0){let C=(w==null?void 0:w.first_name)||"",$=(w==null?void 0:w.last_name)||"",ee=C+" "+$;I("fullname",ee)}}};const Y=D("text")||"",ue=h=>{Y.trim().split(/\s+/).length>=W&&h.key!=="Backspace"&&h.key!=="Delete"&&!h.ctrlKey?(h.preventDefault(),g(!0)):g(!1)};return a.useEffect(()=>{const h=w=>{w.key==="Escape"&&c(!1)};return s&&document.addEventListener("keydown",h),()=>{document.removeEventListener("keydown",h)}},[s]),e.jsxs(he.Provider,{value:J,children:[s&&e.jsx("div",{className:`flex w-screen h-screen bg-black/40 z-[3000] 
                fixed top-0 left-0 right-0 bottom-0 place-items-center place-content-center`,children:e.jsxs("div",{className:"w-[450px] h-fit mx-auto p-6 bg-white rounded-xl shadow-md space-y-6",children:[e.jsx("h2",{className:"text-xl font-bold",children:"Create/Edit Rating"}),e.jsxs("form",{onSubmit:R(F),className:"space-y-4",children:[e.jsxs("div",{children:[e.jsx("label",{className:"block mb-1 text-sm font-semibold",children:"Full Name"}),e.jsx("input",{...f("fullname",{onChange:o}),type:"text",className:`w-full px-3 py-2 border rounded-md
                                        text-sm`,placeholder:"Enter Business GUID"}),((Z=E.fullname)==null?void 0:Z.message)&&e.jsx("div",{className:"text-red-500 mt-1 text-sm",children:E.fullname.message.toString()})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block mb-1 text-sm font-semibold",children:"Stars"}),e.jsx("select",{...f("rating",{onChange:h=>{N(Number(h.target.value)),o(h)}}),className:`w-full px-3 py-2 border rounded-md
                                        text-sm`,children:[5,4,3,2,1].map(h=>e.jsxs("option",{value:h,children:[h," Star",h>1?"s":""]},h))}),((H=E.rating)==null?void 0:H.message)&&e.jsx("div",{className:"text-red-500 mt-1 text-sm",children:E.rating.message.toString()})]}),e.jsxs("div",{children:[e.jsxs("div",{className:"flex place-content-between",children:[e.jsx("label",{className:"block mb-1 text-sm font-semibold",children:"Comment"}),e.jsxs("label",{className:" text-gray-600 text-sm",children:["Word Count: ",e.jsx("strong",{children:x(v)})]})]}),e.jsx("textarea",{...f("comment",{onChange:h=>{x(v)<=W?(u(h.target.value),U(h),o(h)):h.preventDefault()}}),onKeyDown:ue,className:`w-full px-3 py-2 border rounded-md 
                                        text-sm`,placeholder:"Write your review...",rows:4}),B&&e.jsx("div",{className:"text-red-500 mt-0 text-sm",children:"Maximum maximumWords words allowed."}),((P=E.comment)==null?void 0:P.message)&&e.jsx("div",{className:"text-red-500 mt-0 text-sm",children:E.comment.message.toString()})]}),e.jsxs("div",{className:"w-full grid grid-cols-2 gap-2",children:[e.jsx("button",{onClick:()=>c(!1),className:`w-full bg-red-200 rounded-md
                                        hover:bg-red-100 text-sm`,children:"Close"}),e.jsx("button",{type:"submit",disabled:l,className:`w-full bg-blue-600 text-white py-2 
                                        rounded-md hover:bg-blue-700 text-sm`,children:l?"Submitting...":"Submit Rating"})]})]})]})}),t]})}const st=({listing:t})=>e.jsxs(e.Fragment,{children:[e.jsx("div",{className:`text-[19px] md:text-[24px]
                font-bold mt-[5px] leading-[1.2em] border-b pb-1`,children:t==null?void 0:t.title}),e.jsxs("div",{className:"mt-1.5 leading-[1.2em]",children:[t!=null&&t.address_one?`${t==null?void 0:t.address_one}, `:"",t!=null&&t.address_two?`${t==null?void 0:t.address_two}, `:"",t!=null&&t.city_name?`${t==null?void 0:t.city_name}, `:"",t!=null&&t.state_name?`${t==null?void 0:t.state_name}, `:"",t==null?void 0:t.country_name]})]}),L=({title:t})=>e.jsx("div",{className:`text-[19px] font-bold
                border-b mb-6`,children:t}),ct=({listing:t})=>{const[s,c]=a.useState("");return a.useEffect(()=>{t.gid&&K(t.gid).then(m=>{c(_.IMG_BASE_URL+m.image_url)})},[t]),e.jsxs("div",{className:"mt-12",children:[e.jsx(L,{title:"About this business"}),e.jsxs("div",{className:`flex place-items-start place-content-start
                gap-2 mt-4 mb-3`,children:[e.jsx("div",{className:`rounded-full bg-black w-[30px] h-[30px]
                    overflow-hidden relative`,children:e.jsx("img",{className:"object-cover w-full h-full",src:s,alt:""})}),e.jsxs("div",{className:"flex flex-col",children:[e.jsx("div",{className:"text-md font-bold tracking-tight leading-[1.2em]",children:t.title}),e.jsx("div",{className:"text-[12px] capitalize",children:t.category})]})]}),e.jsx("div",{className:"flex flex-col gap-y-5 text-[14px] mt-4 whitespace-pre-wrap",children:t==null?void 0:t.long_description})]})},at=({listing:t})=>{const s=Pe(),{user:c}=oe(),l=ne();a.useEffect(()=>{t!=null&&t.gid&&(c!=null&&c.guid)&&(s.setListing(t),_e(c.guid,t.gid).then(d=>{(d==null?void 0:d.length)!==0?(s.reset(d),s.setRatingData(d)):s.validateData(d,c)}))},[t,c]);const m=d=>{d?(l.cancel(),window.location.href="/signin"):l.cancel()},n=()=>{(c==null?void 0:c.guid)===null||(c==null?void 0:c.guid)===void 0?l.confirm("Login to continue",m):s.setShow(!0)};return e.jsx("div",{className:"w-full mt-0 ",children:e.jsx("div",{className:"",children:e.jsx("button",{onClick:()=>n(),className:`bg-blue-500 text-white flex flex-col
                items-center pt-[2px] pb-[3px] w-full `,children:"Write Review"})})})},ce=({businessProfile:t})=>e.jsx("div",{className:"w-full",children:e.jsxs("div",{className:`  md:bg-white
            md:rounded overflow-hidden pt-[30px]
            pb-[15px] bg-[blue]/0 text-black md:black
            md:text-black  border-[1px] border-gray-300/70`,children:[e.jsx("div",{className:`font-bold text-[15px] pb-2 
                   px-[20px]`,children:"Property Address"}),e.jsx("div",{className:"h-[25px]"}),e.jsxs("div",{className:`grid grid-cols-1 md:grid-cols-3 lg:grid-cols-1 
                text-[14px]  tracking-tight
                md:space-x-4 lg:space-x-0 md:text-black/80 font-sans
                `,children:[e.jsxs("div",{className:"px-[20px] space-y-4 lg:space-y-4",children:[e.jsx("div",{className:" w-full",children:e.jsxs("div",{className:"grid grid-cols-12",children:[e.jsx("div",{className:"col-span-1 ",children:e.jsx(Ae,{className:"text-[20px]"})}),e.jsxs("div",{className:`col-span-11 leading-[1.2em] ml-2
                            text-[12px]`,children:[(t==null?void 0:t.address_one)+", ",(t==null?void 0:t.address_two)!==null?(t==null?void 0:t.address_two)+", ":"",(t==null?void 0:t.city_name)!==null?(t==null?void 0:t.city_name)+", ":"",(t==null?void 0:t.state_name)!==null?(t==null?void 0:t.state_name)+", ":"",(t==null?void 0:t.zipcode)!==null?(t==null?void 0:t.zipcode)+", ":"",t==null?void 0:t.country_name]})]})}),e.jsx("div",{className:"  w-full",children:e.jsx(M,{to:`tel:${t==null?void 0:t.phone}`,children:e.jsxs("div",{className:"grid grid-cols-12",children:[e.jsx("div",{className:"col-span-1",children:e.jsx(Me,{className:"text-[20px]"})}),e.jsx("div",{className:`col-span-11 leading-[1.2em] ml-2
                                    text-[12px]`,children:t==null?void 0:t.phone})]})})}),e.jsx("div",{className:"  w-full",children:e.jsx(M,{to:`${t==null?void 0:t.website}`,children:e.jsxs("div",{className:"grid grid-cols-12",children:[e.jsx("div",{className:`col-span-1 relative top-0
                            `,children:e.jsx(De,{className:"text-[22px]"})}),e.jsx("div",{className:`col-span-11 leading-[1.2em] ml-2 top-0
                            flex place-items-center text-[12px]`,children:"Website"})]})})}),e.jsx("div",{className:"  w-full",children:e.jsx(M,{to:`mailto:${t==null?void 0:t.email_address}`,children:e.jsxs("div",{className:"grid grid-cols-12",children:[e.jsx("div",{className:`col-span-1 relative top-0
                            `,children:e.jsx(de,{className:"text-[20px]"})}),e.jsx("div",{className:`col-span-11 leading-[1.2em] ml-2 top-0
                            flex place-items-center text-[12px]`,children:"Email Address"})]})})})]}),e.jsx("div",{children:e.jsx("div",{className:`bg-blue-500 mt-[40px] mx-[15px]
                        text-white text-center py-2 rounded`,children:t&&e.jsx(at,{listing:t})})})]})]})}),rt=({listing:t})=>{const[s,c]=a.useState(void 0);return a.useEffect(()=>{Se(t.gid).then(l=>{c(l)})},[t.business_guid]),e.jsxs("div",{className:" mt-12",children:[e.jsx(L,{title:"Features"}),e.jsx("div",{className:"grid grid-cols-2 gap-4 mt-3",children:s==null?void 0:s.map((l,m)=>e.jsxs("div",{className:"flex flex-col",children:[e.jsx("div",{className:"font-bold",children:l.name}),e.jsx("div",{className:" mt-[-2px] text-black tracking-normal leading-snug",children:l.user_description||l.description})]},m))})]})},lt=({listing:t})=>e.jsxs("div",{className:"mt-4",children:[e.jsx(L,{title:"Intro"}),e.jsx("div",{className:" text-[14px] flex flex-col gap-y-4 whitespace-pre-wrap ",children:t.short_description})]}),ae=({rating:t=3.5,maxStars:s=5})=>{const c=[];for(let l=1;l<=s;l++)l<=t?c.push(e.jsx("span",{className:"text-yellow-500 text-lg",children:e.jsx(Te,{})},l)):c.push(e.jsx("span",{className:"text-yellow-500 text-lg",children:e.jsx(Ue,{})},l));return e.jsxs("div",{className:" flex w-full place-items-center gap-2 mt-0",children:[e.jsx("div",{className:"flex  gap-x-[3px] -mt-[2px]",children:c}),e.jsx("div",{className:"text-gray-400",children:e.jsx(ve,{className:"text-[15px] text-yellow-400"})}),e.jsxs("div",{className:" text-sm",children:["Rating: ",Number(t).toFixed(0)]})]})},ot=({listing:t})=>{const[s,c]=a.useState([]),[l,m]=a.useState({});return a.useEffect(()=>{const n=async r=>{r&&await ke(r).then(i=>{c(i)})},d=async r=>{r&&await ge(r).then(i=>{m(i)})};t.gid&&(n(t.gid),d(t.gid))},[t]),e.jsxs("div",{className:"mt-12",children:[e.jsx(L,{title:"Reviews"}),e.jsxs("div",{className:"-mt-1 text-[14px] flex flex-col -gap-y-1 font-light",children:[e.jsx("div",{className:"font-bold",children:"Overall Rating:"}),l&&e.jsx(ae,{rating:l==null?void 0:l.rating_average})]}),e.jsx("hr",{className:"mt-3"}),e.jsx("div",{className:"flex flex-col gap-y-4 divide-y-[1px]",children:s!==null&&(s==null?void 0:s.map((n,d)=>e.jsxs("div",{className:"pt-7 pb-4",children:[e.jsxs("div",{className:"flex place-items-start gap-2",children:[e.jsx("div",{className:`w-[30px] h-[30px] rounded-full
                                        bg-black overflow-hidden`,children:e.jsx("img",{src:_.IMG_BASE_URL+(n==null?void 0:n.image_url),alt:""})}),e.jsxs("div",{className:"flex flex-col -space-y-1.5",children:[e.jsx("div",{className:"text-lg font-bold",children:n.fullname}),(n==null?void 0:n.city_name)!==null&&(n==null?void 0:n.state_name)&&e.jsx("div",{className:"text-[11px]",children:`${n==null?void 0:n.city_name}, ${n==null?void 0:n.state_name}`}),(n==null?void 0:n.country_name)!==null&&e.jsx("div",{className:"text-[11px]",children:`${n==null?void 0:n.country_name}`})]})]}),e.jsxs("div",{className:"mt-2",children:[e.jsx("div",{children:e.jsx(ae,{rating:n.rating})}),e.jsxs("div",{className:"text-[12px] flex gap-1 place-items-center",children:[e.jsx("b",{children:"Created at:"}),e.jsx("span",{className:"text-[12px]",children:se(n.created_at)})]}),e.jsxs("div",{className:"text-[12px] flex gap-1 place-items-center",children:[e.jsx("b",{children:"Last Edited:"}),e.jsx("span",{className:"text-[12px]",children:se(n.updated_at)})]}),e.jsx("div",{className:"text-[14px] mt-2",children:n.comment})]})]},d)))})]})},nt=({images:t,listing:s})=>{var j,N,p,S,k,G,B,g,x,o,f,R,X,I,D,T,q,E,V,U,F;const[c,l]=a.useState([]),m=Q(),n=me(),[d,r]=a.useState("images/abstract_placeholder.jpg"),[i,v]=a.useState([]);a.useEffect(()=>{let b=[...c];t&&(t.map((J,Y)=>{Y+1<12&&b.push(J)}),v(b))},[t]);const u=b=>{b<t.length&&(m.setDialog(!0),m.setSelectedSlide(b+1),m.setGallery(t),m.setListing(s))},y=b=>{n.setShow(!0),n.setGallery(t),n.setListing(s)};return e.jsxs("div",{className:"w-full h-auto mb-[32px] flex flex-col gap-2",children:[e.jsxs("div",{className:`h-[350px]
                grid grid-cols-12 gap-[7px]`,children:[e.jsx("div",{className:`col-span-7 bg-black
                    row-span-2 rounded-xl overflow-hidden
                    relative cursor-pointer`,onMouseDown:b=>u(0),children:e.jsx("img",{src:((j=t[0])==null?void 0:j.image_url)!==void 0&&((N=t[0])==null?void 0:N.image_url)!==null?_.IMG_BASE_URL+((p=t[0])==null?void 0:p.image_url):d,alt:"",className:"object-cover h-full w-full"})}),e.jsx("div",{className:`col-span-5 bg-black
                    rounded-xl overflow-hidden h-full
                    relative cursor-pointer`,onMouseDown:b=>u(1),children:e.jsx("img",{src:((S=t[1])==null?void 0:S.image_url)!==void 0&&((k=t[1])==null?void 0:k.image_url)!==null?_.IMG_BASE_URL+((G=t[1])==null?void 0:G.image_url):d,alt:"",className:"object-cover h-full w-full"})}),e.jsx("div",{className:`col-span-5 bg-black
                    rounded-xl overflow-hidden h-full
                    relative cursor-pointer`,onMouseDown:b=>u(2),children:e.jsx("img",{src:((B=t[2])==null?void 0:B.image_url)!==void 0&&((g=t[2])==null?void 0:g.image_url)!==null?_.IMG_BASE_URL+((x=t[2])==null?void 0:x.image_url):d,alt:"",className:"object-cover h-full w-full"})})]}),e.jsxs("div",{className:"grid grid-cols-5 gap-[7px] mt-[2px]",children:[e.jsx("div",{className:`rounded-xl overflow-hidden
                    relative cursor-pointer h-[100px] bg-black`,onMouseDown:b=>u(3),children:e.jsx("img",{src:((o=t[3])==null?void 0:o.image_url)!==void 0&&((f=t[3])==null?void 0:f.image_url)!==null?_.IMG_BASE_URL+((R=t[3])==null?void 0:R.image_url):d,alt:"",className:"object-cover h-full w-full"})}),e.jsx("div",{className:`rounded-xl overflow-hidden
                    relative cursor-pointer h-[100px] bg-black`,onMouseDown:b=>u(4),children:e.jsx("img",{src:((X=t[4])==null?void 0:X.image_url)!==void 0&&((I=t[4])==null?void 0:I.image_url)!==null?_.IMG_BASE_URL+((D=t[4])==null?void 0:D.image_url):d,alt:"",className:"object-cover h-full w-full"})}),e.jsx("div",{className:`rounded-xl overflow-hidden
                    relative bg-black cursor-pointer h-[100px]`,onMouseDown:b=>u(5),children:e.jsx("img",{src:((T=t[5])==null?void 0:T.image_url)!==void 0&&((q=t[5])==null?void 0:q.image_url)!==null?_.IMG_BASE_URL+((E=t[5])==null?void 0:E.image_url):d,alt:"",className:"object-cover h-full w-full"})}),e.jsx("div",{className:`rounded-xl overflow-hidden
                    relative bg-black cursor-pointer h-[100px]`,onMouseDown:b=>u(6),children:e.jsx("img",{src:((V=t[6])==null?void 0:V.image_url)!==void 0&&((U=t[6])==null?void 0:U.image_url)!==null?_.IMG_BASE_URL+((F=t[6])==null?void 0:F.image_url):d,alt:"",className:"object-cover h-full w-full"})}),e.jsx("div",{className:`rounded-xl overflow-hidden
                    relative bg-black text-white cursor-pointer
                    flex place-content-center place-items-center h-[100px]`,onMouseDown:b=>y(),children:(t==null?void 0:t.length)>7?`+${t.length-7}`:"View all"})]})]})},dt=({images:t,listing:s})=>{const[c,l]=a.useState(0),m=a.useRef(0);a.useRef(0);const n=x=>{m.current=x.touches[0].clientX},d=x=>{const o=x.changedTouches[0].clientX,f=m.current-o;f>50?l(R=>(R+1)%t.length):f<-50&&l(R=>(R-1+t.length)%t.length)},[r,i]=a.useState(null);let v=a.useRef(null);const[u,y]=a.useState([]),j=Q();me();const[N,p]=a.useState([]);a.useEffect(()=>{let x=[...u];t&&(t.map((o,f)=>{f+1<12&&x.push(o)}),p(x))},[t]);const S=x=>{x<t.length&&(j.setDialog(!0),j.setSelectedSlide(x+1),j.setGallery(t),j.setListing(s))};a.useEffect(()=>{t&&i(t)},[t]);const k=()=>{l(x=>x===0?r.length-1:x-1)},G=()=>{l(x=>x===r.length-1?0:x+1)},B=async()=>{v.current&&clearTimeout(v.current),G(),v.current=setTimeout(()=>{},15e3)},g=async()=>{v.current&&clearTimeout(v.current),k(),v.current=setTimeout(()=>{},15e3)};return a.useEffect(()=>{},[r]),e.jsx(e.Fragment,{children:e.jsxs("div",{className:"relative",children:[e.jsx("div",{className:` w-full h-[300px] md:h-[500px] flex 
          overflow-hidden z-0
          `,children:r==null?void 0:r.map((x,o)=>e.jsx("img",{onTouchStart:n,onTouchEnd:d,onMouseDown:f=>S(o),src:_.IMG_BASE_URL+x.image_url,alt:"",style:{transform:`translateX(-${c*100}%)`},className:`object-cover w-full h-full 
                      block flex-shrink-0 flex-grow-0 transition-transform
                      ease-in-out duration-1000 cursor-pointer`},o))}),e.jsxs("div",{className:"z-[300]",children:[e.jsx("button",{onMouseDown:g,className:`block absolute top-0 bottom-0 
                                                  z-[300] p-[1rem] cursor-pointer left-0 group h-full 
                                                        transition duration-1000 ease-in-out`,children:e.jsx("div",{className:`w-[50px] h-[50px] bg-white/60 rounded-full 
            place-content-center place-items-center group-hover:bg-white/30
            z-[300] transition duration-500 ease-in-out`,children:e.jsx(Ne,{className:" stroke-white fill-black w-[2rem] h-[2rem]"})})}),e.jsx("button",{onMouseDown:B,className:`block absolute top-0 bottom-0 
                                                        z-[300]    p-[1rem] cursor-pointer right-0 group 
                                                             transition duration-1000 ease-in-out`,children:e.jsx("div",{className:`w-[50px] h-[50px] bg-white/60 rounded-full 
            flex place-content-center place-items-center group-hover:bg-white/30
            z-[300]   transition duration-500 ease-in-out
            `,children:e.jsx(we,{className:" stroke-white fill-black w-[2rem] h-[2rem]"})})})]})]})})},xt=({listing:t})=>{const[s,c]=a.useState("");return a.useEffect(()=>{t.gid&&K(t.gid).then(m=>{c(_.IMG_BASE_URL+m.image_url)})},[t]),e.jsxs("div",{className:"mt-12",children:[e.jsx(L,{title:"Business Phrases"}),e.jsx("div",{className:"flex flex-col gap-y-5 text-[14px] mt-4 whitespace-pre-wrap",children:t==null?void 0:t.business_phrases})]})},mt=({listing:t})=>{const[s,c]=a.useState("");return a.useEffect(()=>{t.gid&&K(t.gid).then(m=>{c(_.IMG_BASE_URL+m.image_url)})},[t]),e.jsxs("div",{className:"mt-12",children:[e.jsx(L,{title:"Products"}),e.jsx("div",{className:"flex flex-col gap-y-5 text-[14px] mt-4 whitespace-pre-wrap",children:t==null?void 0:t.products})]})},ht=({listing:t})=>{const[s,c]=a.useState("");return a.useEffect(()=>{t.gid&&K(t.gid).then(m=>{c(_.IMG_BASE_URL+m.image_url)})},[t]),e.jsxs("div",{className:"mt-12",children:[e.jsx(L,{title:"Services"}),e.jsx("div",{className:"flex flex-col gap-y-5 text-[14px] mt-4 whitespace-pre-wrap",children:t==null?void 0:t.services})]})},ut=({listing:t})=>{const[s,c]=a.useState(""),[l,m]=a.useState(null);function n(d){let r=null;switch(d==null?void 0:d.media_id){case"facebook":r=e.jsx(Be,{});break;case"twitterx":r=e.jsx(Oe,{});break;case"linkedin":r=e.jsx(We,{});break;case"instagram":r=e.jsx(ze,{});break;case"pinterest":r=e.jsx(Ge,{});break;case"youtube":r=e.jsx(Le,{});break;case"vimeo":r=e.jsx(Ee,{});break}return r}return a.useEffect(()=>{t!==null&&(async r=>{const i=[];(await Re(r.gid)).map((u,y)=>{i.push({media:u==null?void 0:u.name,icon:n(u),name:u==null?void 0:u.name,link:`${u==null?void 0:u.base_url}${u==null?void 0:u.user_description}`})}),r!=null&&r.website&&i.push({media:r==null?void 0:r.website,icon:e.jsx(Ke,{}),name:"Website",link:`${r==null?void 0:r.website}`}),r!=null&&r.email_address&&i.push({media:r==null?void 0:r.email_address,icon:e.jsx(de,{}),name:"Email Address",link:`mailto:${r==null?void 0:r.email_address}`}),r!=null&&r.phone&&i.push({media:r==null?void 0:r.phone,icon:e.jsx(Fe,{}),name:"Phone",link:`tel:${r==null?void 0:r.phone}`}),m(i)})(t)},[t]),e.jsxs("div",{className:"mt-12",children:[e.jsx(L,{title:"Social Media"}),e.jsx("div",{className:"flex flex-col gap-y-5 text-[14px] mt-4 whitespace-pre-wrap",children:e.jsx("div",{className:"flex gap-3 flex-wrap",children:l!==null&&(l==null?void 0:l.map((d,r)=>e.jsx(M,{to:d==null?void 0:d.link,children:e.jsxs("div",{className:`border px-[8px] py-[2px] 
                                    cursor-pointer flex place-items-center rounded-full
                                    gap-1 border-gray-400 bg-white hover:bg-black
                                    text-black hover:text-white
                                    hover:shadow-md`,children:[e.jsx("span",{className:"text-[12px]",children:d==null?void 0:d.icon}),d==null?void 0:d.name]},r)},r)))})})]})},re=({data:t})=>{const[s,c]=a.useState("");return a.useEffect(()=>{const l=m=>{m>4?c("Superb"):m>3&&m<4||m>2&&m<3?c("Very Good"):m>1&&m<2?c("Good"):c("Poor")};(t==null?void 0:t.rating)!==null?l(Number(t==null?void 0:t.rating)):l(0)},[t]),e.jsx("div",{className:`
             md:border py-[12px] px-[12px] md:mb-3  rounded`,children:e.jsxs("div",{className:`flex place-content-between gap-1
                `,children:[e.jsxs("div",{className:`flex flex-col place-items-center -space-y-1.5
                    place-content-start w-full `,children:[e.jsx("div",{className:"font-sans text-[13px] font-semibold text-blue-900 flex place-items-start  w-full -ml-[1.5px]",children:"Category"}),e.jsx("div",{className:" font-normal text-black capitalize text-[11px] tracking-normal  w-full",children:t==null?void 0:t.category})]}),e.jsxs("div",{className:"w-full flex flex-col place-items-end place-content-center -space-y-2 ",children:[e.jsx("div",{className:"font-bold tracking-tighter text-[12px] font-sans text-black ",children:s}),e.jsxs("div",{className:"text-[11px] ",children:[O(Number(t==null?void 0:t.ratingCount))," reviews"]})]}),e.jsx("div",{className:"flex place-items-center px-[3px]",children:e.jsx("div",{className:"min-w-10 w-10 h-10 mt-[-1px] bg-blue-800 flex place-content-center text-white place-items-center rounded",children:O(Number(t==null?void 0:t.rating))})})]})})};function pt({rating:t}){return e.jsx("div",{className:"flex gap-[3px]",children:Array.from({length:5}).map((s,c)=>{const l=Math.max(0,Math.min(1,t-c))*100;return e.jsx("div",{className:`relative w-[17px] h-[17px] bg-white rounded-full 
                            overflow-hidden flex place-items-center border-[1px]
                            place-content-center border-gray-500`,children:e.jsx("div",{className:"absolute inset-0 bg-green-600 z-[0]",style:{width:`${l}%`}})},c)})})}const le=({listing:t})=>{const[s,c]=a.useState("user");return a.useEffect(()=>{const l=async m=>{await Ce(m).then(n=>{let d=n;c(d.role),console.log(d.role)})};t!=null&&t.owner&&l(t==null?void 0:t.owner)},[t]),e.jsx(e.Fragment,{children:s==="admin"&&e.jsx("div",{className:" mt-8 ",children:e.jsx(M,{to:"/web/contact",children:e.jsx("div",{className:`px-3 text-[14px] text-center border py-[15px] rounded underline underline-offset-2 hover:text-blue-500 bg-blue-50 mx-[15px] md:mx-[0px]
                            mb-[40px] md:mb-[40px]`,children:"Is this your business? Claim it for free!"})})})})},it=({listing:t})=>{const[s,c]=te.useState(!0),[l,m]=te.useState(!1),[n,d]=a.useState(""),[r,i]=a.useState(""),[v,u]=a.useState(void 0),[y,j]=a.useState(null),[N,p]=a.useState(""),[S,k]=a.useState(""),[G,B]=a.useState("");a.useEffect(()=>{t&&(d(t==null?void 0:t.gid),i(t==null?void 0:t.owner))},[t]);const g=x=>{const o=[];p(x==null?void 0:x.open_status),o.push({day:"Mon",hours:`${x.monday_from} - ${x.monday_to}`}),o.push({day:"Tue",hours:`${x.tuesday_from} - ${x.tuesday_to}`}),o.push({day:"Wed",hours:`${x.wednesday_from} - ${x.wednesday_to}`}),o.push({day:"Thu",hours:`${x.thursday_from} - ${x.thursday_to}`}),o.push({day:"Fri",hours:`${x.friday_from} - ${x.friday_to}`}),o.push({day:"Sat",hours:`${x.saturday_from} - ${x.saturday_to}`}),o.push({day:"Sun",hours:`${x.sunday_from} - ${x.sunday_to}`}),j(o)};return a.useEffect(()=>{n&&r&&(async(o,f)=>await Ie(o,f))(n,r).then(o=>{console.log(o),g(o)})},[n,r]),a.useEffect(()=>{t!==null&&(async o=>{let f=o!=null&&o.address_one?o==null?void 0:o.address_one:"";f+=o!=null&&o.address_two?", "+(o==null?void 0:o.address_two):"",f+=o!=null&&o.city_name?", "+(o==null?void 0:o.city_name):"",f+=o!=null&&o.state_name?", "+(o==null?void 0:o.state_name):"",f+=o!=null&&o.zipcode?" "+(o==null?void 0:o.zipcode):"",f+=o!=null&&o.country_code?" "+(o==null?void 0:o.country_code):"";let R=`https://www.google.com/maps?q=${encodeURI(f)}`;k(f),B(R)})(t)},[t]),e.jsxs("div",{className:"mt-12",children:[e.jsx(L,{title:"Location and Hours"}),e.jsx("div",{className:" ",children:e.jsxs("div",{className:`grid grid-cols-1 md:grid-cols-12 gap-5
                    `,children:[e.jsxs("div",{className:"col-span-6",children:[e.jsx("div",{className:" relative w-full h-[150px] border-[1px] border-gray-300",children:e.jsx("img",{className:" object-cover w-full h-full",src:"/images/mapicon.jpeg",alt:""})}),e.jsxs("div",{className:" grid grid-cols-2 gap-6 mt-3",children:[e.jsx("div",{children:S}),e.jsx("div",{children:e.jsx("a",{href:`${G}`,target:"_blank",children:e.jsx("button",{className:"w-[100%] bg-gray-100 border-[1px] border-gray-300",children:e.jsx("div",{className:"text-[14px]  font-sans font-bold text-black  py-1 ",children:"Get Directions"})})})})]})]}),e.jsx("div",{className:"col-span-6",children:e.jsxs("div",{className:"",children:[N==="no_hours"||N===null&&e.jsx("div",{children:"No hours selected."}),N==="always_open"&&e.jsx("div",{children:"Business is always open"}),N==="permanently_closed"&&e.jsx("div",{children:"Permanently Closed"}),N==="temporarily_closed"&&e.jsx("div",{children:"Temporarily Closed"}),y!==null&&N==="selected_hours"&&e.jsx("ul",{className:"w-full divide-y-[1px] md:divide-none",children:y==null?void 0:y.map((x,o)=>e.jsx("li",{className:"w-full",children:e.jsxs("div",{className:"grid grid-cols-12 py-2 ",children:[e.jsx("div",{className:` col-span-2 flex flex-col
                                                        place-items-start`,children:x==null?void 0:x.day}),e.jsxs("div",{className:`flex flex-row col-span-10
                                                    place-items-end place-content-end md:place-content-start gap-3`,children:[e.jsx("span",{children:x==null?void 0:x.hours}),e.jsx("span",{})]})]})},o))})]})})]})})]})},jt=({listing:t,images:s,ratingsData:c})=>{const[l,m]=a.useState();return a.useEffect(()=>{t&&c&&m({totalReviews:0,category:t==null?void 0:t.category,rating:c.rating_average,ratingCount:c.rating_count})},[t,c]),e.jsxs("div",{className:"",children:[e.jsx("div",{className:"px-[15px] w-full",children:e.jsxs("div",{className:"max-w-[1100px] w-full mx-auto bg-white",children:[c&&e.jsxs("div",{className:"mt-4 flex gap-2 place-items-center",children:[e.jsx(pt,{rating:c==null?void 0:c.rating_average}),e.jsxs("div",{className:`flex place-items-center place-content-center
                                    gap-1 text-black/60 text-[14px]`,children:[e.jsx("div",{children:O(Number(c==null?void 0:c.rating_average))}),e.jsxs("div",{children:["(",e.jsxs("span",{className:"underline",children:[O(c==null?void 0:c.rating_count)," reviews"]}),")"]})]})]}),t&&e.jsx(st,{listing:t})]})}),(s==null?void 0:s.length)>0&&t&&e.jsx("div",{className:`bg-black h-fit md:hidden
                mt-4`,children:e.jsx(dt,{images:s,listing:t})}),e.jsx("div",{className:" md:pt-4 md:px-[12px]",children:e.jsx("div",{className:"max-w-[1100px] w-full mx-auto bg-white",children:e.jsxs("div",{className:`grid grid-cols-12 gap-0 md:gap-4 relative
                    `,children:[e.jsxs("div",{className:" col-span-12 lg:col-span-8",children:[e.jsx("div",{className:"hidden md:block mt-0",children:(s==null?void 0:s.length)>0&&t&&e.jsx(nt,{images:s,listing:t})}),e.jsxs("div",{className:"",children:[e.jsxs("div",{className:`md:hidden ${(s==null?void 0:s.length)<=0&&"mt-5"}  md:mt-0 mb-5`,children:[l&&e.jsx(re,{data:l}),t&&e.jsx(ce,{businessProfile:t}),t&&e.jsx(le,{listing:t})]}),e.jsxs("div",{className:"px-[15px] md:px-[0px]",children:[e.jsx(lt,{listing:t}),t&&e.jsx(it,{listing:t}),e.jsx(ct,{listing:t}),t&&e.jsx(ut,{listing:t}),t&&e.jsx(rt,{listing:t}),t&&e.jsx(xt,{listing:t}),t&&e.jsx(mt,{listing:t}),t&&e.jsx(ht,{listing:t}),t&&e.jsx(ot,{listing:t})]})]})]}),e.jsx("div",{className:"col-span-12 lg:col-span-4 hidden lg:block",children:e.jsxs("div",{className:" sticky top-[100px]",children:[l&&e.jsx(re,{data:l}),t&&e.jsx(ce,{businessProfile:t}),t&&e.jsx(le,{listing:t})]})})]})})})]})},ft=({title:t,subtitle:s})=>e.jsxs("div",{className:"mb-6 border-b pb-4 -space-y-1",children:[e.jsx("div",{className:`text-[19px] font-bold
                `,children:t}),e.jsx("div",{className:"text-sm ",children:s})]}),vt=({title:t,subtitle:s,category:c,limit:l})=>{const[m,n]=a.useState(""),[d,r]=a.useState(""),[i,v]=a.useState([]),[u,y]=a.useState(""),j="https://pics.gasimg.com";a.useEffect(()=>{t&&s&&(n(t),r(s))},[t,s]);let N=async(p,S)=>{if(S&&p){let k=await $e(p,S);v(k)}};return a.useEffect(()=>{l&&c&&N(c,l)},[l,c]),e.jsx("div",{className:"px-[15px]",children:e.jsx("div",{className:"max-w-[1100px] mx-auto w-full",children:e.jsxs("div",{className:"mt-10 border-t pt-5",children:[e.jsx("div",{className:" mb-[20px] ",children:e.jsx(ft,{title:m,subtitle:d})}),e.jsx("div",{className:"grid grid-cols-2 md:grid-cols-3 lg:grid-cols-4 gap-x-3 gap-y-4",children:i==null?void 0:i.map((p,S)=>{let k="";return p!=null&&p.username?k=p==null?void 0:p.username:k=p==null?void 0:p.gid,e.jsxs("div",{children:[e.jsx("div",{children:e.jsx(M,{to:`/${k}`,children:e.jsx("div",{className:`relative h-[120px]
                                                    md:h-[180px]`,children:e.jsx("img",{className:`object-cover w-full h-full
                                                    text-sm`,src:p!=null&&p.image_url?j+(p==null?void 0:p.image_url):"images/placeholder.gif",alt:p.title})})})}),e.jsx("div",{className:`mt-1 text-[15px] tracking-tight 
                                     truncate`,children:p.title}),e.jsx("div",{className:"mt-1",children:e.jsx(Xe,{rating:p.avg_rating})}),e.jsx("div",{className:`text-[11px] mt-[5px] tracking-tight
                                    leading-[1.2em]`,children:p.short_description.substring(0,100)})]},S)})})]})})})},Nt=()=>e.jsx("div",{className:"flex place-content-center place-items-center w-full min-h-[700px] text-[13px] flex-col space-y-4",children:e.jsxs("div",{className:`flex place-content-center place-items-center gap-3
                h-[40px]`,children:[e.jsx("div",{className:`text-2xl font-bold text-red-600 h-full
                    flex place-items-center`,children:"404"}),e.jsx("div",{className:"h-full w-[2px] border-r"}),e.jsxs("div",{className:`text-black text-[14px]
                    h-full flex place-items-center space-x-2`,children:[e.jsx("span",{children:"Resource not found."}),e.jsx("button",{onClick:()=>{window.history.back()},className:"underline",children:"Go back"})]})]})}),Tt=({data:t})=>{const s=t==null?void 0:t.listing,c=t==null?void 0:t.profileImageData,l=_.IMG_BASE_URL+(c==null?void 0:c.image_url),m=c==null?void 0:c.mimetype,d=(r=>r==null||r===""?null:r.replace(/&/g,",").split(",").map(u=>u.trim()).filter(u=>u.length>0))((s==null?void 0:s.business_phrases)||null);return[{title:(s==null?void 0:s.title)||"Garssete Inc."},{name:"description",content:s==null?void 0:s.short_description},{name:"keywords",content:d},{property:"fb:app_id",content:"1325393508603168"},{property:"og:url",content:(s==null?void 0:s.website)||"https://garssete.com"},{property:"og:type",content:"website"},{property:"og:title",content:(s==null?void 0:s.title)||"Garssete.com"},{property:"og:description",content:s==null?void 0:s.short_description},{property:"og:image",content:l},{property:"og:image:secure_url",content:l},{property:"og:image:type",content:m},{property:"og:image:width",content:"200"},{property:"og:image:alt",content:(s==null?void 0:s.title)||"Garssete"},{name:"twitter:creator",content:"garssete"},{name:"twitter:card",content:"summary_large_image"},{name:"twitter:title",content:(s==null?void 0:s.title)||"Garssete Directory Listing"},{name:"twitter:description",content:s==null?void 0:s.short_description}]},Ut=()=>{const t=je(),s=t.listing,c=t.gallery,l=t.ratingsData;return e.jsx(tt,{children:e.jsx(He,{children:e.jsxs(Je,{children:[e.jsx("div",{className:"md:hidden",children:e.jsx(qe,{})}),e.jsx(Ve,{}),s.gid!==null&&s.gid!==void 0&&e.jsx(jt,{listing:s,images:c,ratingsData:l}),(s==null?void 0:s.category)!==void 0?e.jsx(vt,{category:s==null?void 0:s.category,limit:6,title:`Related: ${s==null?void 0:s.category}`,subtitle:"Related based on the same category."}):e.jsx(Nt,{}),e.jsx(Ye,{}),e.jsx(Qe,{}),e.jsx(Ze,{})]})})})};export{Ut as default,Tt as meta};
