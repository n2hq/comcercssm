import{j as e}from"./jsx-runtime-0DLF9kdB.js";import{r as d,c as z,u as R,d as T}from"./components-ByGjlxrc.js";import{S as U}from"./SrchNavbar-DxdFC0Wy.js";import{a6 as D,w as E,a1 as $,a2 as G,a3 as q,a8 as M,a9 as O,a5 as I,a4 as W}from"./lib-BfxD_PrT.js";import{R as F,T as H,A as Q,S as V,C as J,a as K,F as X}from"./Categories-BY7tMnAl.js";import"./UserMenu-DjfYbg23.js";import"./AuthContext-BW5xbZ91.js";import"./WhiteLogo-C2qMaGt0.js";import"./index-CkyiyLWW.js";import"./json-CKHlsUtu.js";const Y=()=>e.jsx("div",{className:"bg-white w-full h-auto md:rounded-t-md shadow-md overflow-hidden border",children:e.jsxs("div",{className:"bg-gray-50/30 py-3 px-4 border-b",children:[e.jsxs("div",{className:"flex place-content-between",children:[e.jsx("div",{className:"flex place-items-center gap-2",children:e.jsxs("div",{className:"-space-y-1",children:[e.jsx("div",{className:"text-black text-lg font-semibold",children:"Garsset.com"}),e.jsx("div",{className:"text-[12px] text-gray-500 italic capitalize",children:"Business Directory Service"})]})}),e.jsx("div",{className:"flex place-items-center"})]}),e.jsx("div",{className:"mt-[8px] text-[12px] text-gray-500 leading-[1.3em]",children:"The only real-time generative AI app for video chatting, live streaming, and video creation on the market."})]})}),P=({averageRating:a})=>{const[x,p]=d.useState(0);return d.useEffect(()=>{a!=null&&p(a)},[a]),e.jsxs("div",{className:"text-blue-700",children:["(",D(Number(x)),")"]})},A=({listing:a})=>{var C;const[x,p]=d.useState("/images/placeholder-icon.webp"),[h,f]=d.useState(""),[N,l]=d.useState(""),[u,j]=d.useState(null),[w,b]=d.useState(""),[r,v]=d.useState(null),[n,k]=d.useState(null),[o,t]=d.useState("");return d.useEffect(()=>{if(a){const s=a;v(s),f(E.IMG_BASE_URL+(s==null?void 0:s.image_url))}},[a]),d.useEffect(()=>{a!=null&&a.website?b(a==null?void 0:a.website):(a==null?void 0:a.username)===""||(a==null?void 0:a.username)===null?b("/"+(a==null?void 0:a.gid)):b("/"+(a==null?void 0:a.username))},[a]),d.useEffect(()=>{a&&((a==null?void 0:a.image_url)!==""&&(a==null?void 0:a.image_url)!==null&&(a==null?void 0:a.image_url)!==void 0&&f(E.IMG_BASE_URL+(a==null?void 0:a.image_url)),(a==null?void 0:a.username)!==""&&(a==null?void 0:a.username)!==null&&(a==null?void 0:a.username)!==void 0?l(a==null?void 0:a.username):l(a==null?void 0:a.gid))},[a]),d.useEffect(()=>{if(a!=null&&a.social_media){let s=[];const c=$(a==null?void 0:a.social_media,",");c!==null&&(c==null||c.map((m,y)=>{const _=$(m,"$"),S={mediaName:_[0],mediaHandle:_[1],baseUrl:_[2]};s.push(S)})),j(s)}},[a]),d.useEffect(()=>{},[u]),d.useEffect(()=>{if(r!=null&&r.facility_features){let s=[];const c=$(r==null?void 0:r.facility_features,"&");c!==null&&(c==null||c.map((y,_)=>{const S=$(y,"$"),B={featureId:S[0],userDescription:S[1]};s.push(B)}));const m=G(s);k(m)}},[r]),d.useEffect(()=>{a!==null&&(async c=>{let m=c==null?void 0:c.title;m+=c!=null&&c.address_one?", "+(c==null?void 0:c.address_one):"",m+=c!=null&&c.address_two?", "+(c==null?void 0:c.address_two):"",m+=c!=null&&c.city_name?", "+(c==null?void 0:c.city_name):"",m+=c!=null&&c.state_name?", "+(c==null?void 0:c.state_name):"",m+=c!=null&&c.zipcode?" "+(c==null?void 0:c.zipcode):"",m+=c!=null&&c.country_code?" "+(c==null?void 0:c.country_code):"";let y=`https://www.google.com/maps?q=${encodeURI(m)}&t=&z=15&ie=UTF8&iwloc=B&output=`;t(y)})(a)},[a]),e.jsxs("div",{className:"bg-white w-full h-auto  overflow-hidden border   hover:shadow-md hover:shadow-gray-200",children:[e.jsx("div",{className:"bg-gray-50/30 py-3 px-4 border-b-0",children:e.jsxs("a",{href:`/${N}`,children:[e.jsxs("div",{className:"flex place-content-between gap-2",children:[e.jsxs("div",{className:"flex place-items-start gap-2 w-full",children:[e.jsx("div",{className:"w-[90px] h-[90px] min-w-[90px]   bg-black bg-cover bg-center overflow-hidden relative border",style:{backgroundImage:`url(${x})`},children:h!==""&&e.jsx("img",{src:h,alt:"",className:`object-cover w-full h-full text-sm
                             z-0 bg-white`})}),e.jsxs("div",{className:" w-full",children:[e.jsx("div",{className:"text-[18px] font-normal text-blue-700 line-clamp-1 w-full",children:a==null?void 0:a.title}),(a==null?void 0:a.category)&&e.jsx("div",{className:"text-[12px] text-gray-500  capitalize mt-[0px]",children:(C=q(a==null?void 0:a.category))==null?void 0:C.name}),e.jsxs("div",{className:"flex place-items-center gap-x-1 mt-[5px] ",children:[e.jsx("div",{children:(r==null?void 0:r.average_rating)!==null&&(r==null?void 0:r.average_rating)!==""&&(r==null?void 0:r.average_rating)!==void 0?e.jsxs("div",{className:" flex gap-2 place-items-center",children:[e.jsx(F,{rating:Number(r==null?void 0:r.average_rating)}),e.jsx(P,{averageRating:r==null?void 0:r.average_rating})]}):e.jsxs("div",{className:" flex gap-2 place-items-center",children:[e.jsx(F,{rating:1}),e.jsx(P,{averageRating:0})]})}),e.jsx("div",{className:" ",children:Number(r==null?void 0:r.total_reviews)>0?r==null?void 0:r.total_reviews:0})]})]})]}),e.jsx("div",{className:"flex place-items-start",children:e.jsx("div",{className:"font-bold rounded-sm border px-3 py-[2px]",children:"View"})})]}),e.jsx("div",{className:"mt-[8px] text-[14px] md:text-[13px] text-gray-800 leading-[1.3em] line-clamp-3",children:a==null?void 0:a.short_description})]})}),e.jsx("div",{children:e.jsxs("div",{className:" h-auto flex place-content-between gap-2 ",children:[e.jsxs("div",{className:"flex place-items-start w-[60%] flex-col  pl-4  pt-2 pb-4 ",children:[e.jsxs("div",{className:"flex place-items-center gap-x-1",children:[e.jsx(M,{}),e.jsxs("span",{className:"mt-[1px] text-gray-500 space-x-2",children:[e.jsx("span",{className:"font-bold",children:"Founded:"}),e.jsx("span",{children:a==null?void 0:a.established})]})]}),n!==null&&e.jsxs("div",{className:"mt-2 flex place-items-start gap-2 w-full relative",children:[e.jsx("span",{className:"text-[13px]",children:"Facilities: "}),e.jsx("div",{className:"flex place-items-baseline gap-3 flex-wrap leading-[0.9em] ",children:n==null?void 0:n.map((s,c)=>e.jsx(H,{tooltip:`${s==null?void 0:s.name}: ${(s==null?void 0:s.userDescription)||""}`,children:e.jsx("div",{className:"text-[15px]",children:s==null?void 0:s.icon})},c))})]})]}),e.jsxs("div",{className:"flex place-items-end flex-col w-[40%] text-end pr-4 pt-2 pb-4",children:[e.jsx("div",{className:"font-[600]",children:a==null?void 0:a.phone}),e.jsx("div",{className:"text-[12px] leading-[1.2em] mt-1",children:e.jsx(Q,{listing:a})})]})]})}),e.jsx("div",{className:"border-none",children:e.jsxs("div",{className:"flex place-content-between mx-4 my-1",children:[e.jsxs("div",{className:"flex place-items-center gap-4",children:[e.jsx("a",{href:`mailto:${a==null?void 0:a.email_address}`,children:e.jsx(O,{size:20})},34),e.jsx("a",{href:`tel:${a==null?void 0:a.phone}`,children:e.jsx(I,{size:20})},30),u!==null&&(u==null?void 0:u.map((s,c)=>e.jsx("a",{href:`${s==null?void 0:s.baseUrl}${s==null?void 0:s.mediaHandle}`,children:W(s==null?void 0:s.mediaName)},c)))]}),e.jsx("div",{className:"px-1.5 py-0.5 bg-red-500 rounded hover:shadow-lg text-white",children:e.jsx("a",{href:`${w}`,children:"Website"})})]})}),e.jsx("div",{className:"px-4 mb-4 mt-8",children:e.jsxs("div",{className:" grid grid-cols-2 gap-2 w-full md:w-[50%]",children:[e.jsx("a",{target:"_blank",href:`${o}`,className:"border border-blue-400 py-[5px] rounded px-2 font-semibold w-full text-center",children:"Go to map"}),e.jsx("div",{children:(r==null?void 0:r.phone)&&e.jsx("a",{href:`tel:${r==null?void 0:r.phone}`,children:e.jsxs("button",{className:"bg-blue-700 rounded w-full text-white flex place-items-center place-content-center text-[15px] gap-2 py-[5px]",children:[e.jsx(I,{size:20,className:"mt-[2px]"}),e.jsx("span",{children:"Call"})]})})})]})})]})},Z=({data:a,itemsPerPage:x=10,resetPageKey:p})=>{const[h]=z(),f=R(),N=Number(h.get("page"))||1,[l,u]=d.useState(N),j=Math.ceil(a.length/x),w=l*x,b=w-x,r=a.slice(b,w),v=o=>{u(o),o===1?f("/web/browse",{replace:!1}):f(`/web/browse?page=${o}`,{replace:!1}),window.scrollTo({top:0,behavior:"smooth"})},n=()=>{l>1&&v(l-1)},k=()=>{l<j&&v(l+1)};return d.useEffect(()=>{p!==void 0&&v(1)},[p]),e.jsxs("div",{children:[e.jsx("div",{className:"space-y-6",children:r==null?void 0:r.map((o,t)=>e.jsx("div",{children:(t+1)%2?e.jsx(A,{listing:o,index:t}):e.jsxs(e.Fragment,{children:[e.jsx(A,{listing:o,index:t}),e.jsx(V,{})]})},t))}),j>1&&e.jsxs("div",{className:"flex justify-center gap-[5px] mt-[60px]",children:[e.jsx("button",{onClick:n,disabled:l===1,className:"px-[12px] py-[8px] bg-white cursor-pointer border rounded-[4px]",children:"Previous"}),Array.from({length:j},(o,t)=>t+1).map(o=>e.jsx("button",{onClick:()=>v(o),className:`px-[12px] py-[8px] cursor-pointer border rounded-[4px] ${l===o?"bg-blue-500 text-white border-blue-500":"bg-white"}`,children:o},o)),e.jsx("button",{onClick:k,disabled:l===j,className:"px-[12px] py-[8px] bg-white cursor-pointer border rounded-[4px]",children:"Next"})]})]})},xe=()=>{const a=T();z();const x=a.data,p=a.query,h=a.countries,[f,N]=d.useState(null);return d.useEffect(()=>{p&&N(p)},[p]),e.jsxs("div",{className:" ",children:[e.jsx(U,{}),e.jsxs("div",{className:"h-screen flex flex-col relative ",children:[e.jsx("div",{className:"mt-[120px] md:mt-[60px]"}),e.jsxs("div",{className:"grid grid-cols-12 h-full overflow-hidden  gap-5 ",children:[e.jsxs("aside",{className:"col-span-3 h-full overflow-y-auto scrollbar-hidden pt-2 hidden xl:block",children:[e.jsxs("div",{className:"",children:[e.jsx("div",{className:"mt-3 text-[17px] mb-4 font-bold ml-6",children:"Categories"}),e.jsx(J,{})]}),e.jsxs("div",{className:"mt-5",children:[e.jsx("div",{className:"mt-3 text-[17px] mb-4 font-bold ml-6",children:"Countries"}),h&&e.jsx(K,{countries:h})]}),e.jsx("div",{className:" py-4 px-4 border-t",children:"Garssete - Business Directory Listing"})]}),e.jsx("div",{className:"col-span-12 xl:col-span-9  overflow-y-auto w-full md:px-[15px]",children:e.jsxs("div",{className:"grid grid-cols-12 gap-5",children:[e.jsx("div",{className:"col-span-12 md:col-span-8  pt-3",children:e.jsxs("div",{className:"space-y-8",children:[(x==null?void 0:x.length)>0?e.jsx(Z,{data:x,itemsPerPage:20,resetPageKey:p}):e.jsx("div",{className:`flex place-items-center rounded
                            place-content-center p-5 border capitalize`,children:e.jsx("span",{children:"no record"})}),e.jsx(Y,{})]})}),e.jsx("div",{className:"hidden md:block md:col-span-4 pt-3    ",children:e.jsx("div",{className:"w-full xl:w-[90%] sticky top-3 ml-auto",children:e.jsx(X,{})})})]})})]})]})]})};export{xe as default};
