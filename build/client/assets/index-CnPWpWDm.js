import{j as a}from"./jsx-runtime-0DLF9kdB.js";import{r as o,d as E,c as R}from"./components-qdL6XBti.js";import{a5 as z,x as P,a6 as w,a7 as M,a8 as U,a9 as V,aa as D,ab as S,ac as G}from"./lib-CKo0e-zY.js";import{R as $,T as q,A as T,C as W,a as H,F as O}from"./Categories-nUgttjq1.js";import{S as Q}from"./SrchNavbar-OQjsaBkt.js";import"./UserMenu-Dri-Kbgg.js";import"./AuthContext-CktgDK0a.js";import"./WhiteLogo-D4oyf0oZ.js";import"./index-CynhEdo9.js";import"./json-ErAMQZRb.js";const I=({averageRating:e})=>{const[j,m]=o.useState(0);return o.useEffect(()=>{e!=null&&m(e)},[e]),a.jsxs("div",{className:"text-blue-700",children:["(",z(Number(j)),")"]})},J=({listing:e})=>{var _;const[j,m]=o.useState("/images/placeholder-icon.webp"),[l,u]=o.useState(""),[f,v]=o.useState(""),[d,p]=o.useState(null),[t,h]=o.useState(""),[c,k]=o.useState(null),[N,C]=o.useState(null),[A,B]=o.useState("");return o.useEffect(()=>{if(e){const s=e;k(s),u(P.IMG_BASE_URL+(s==null?void 0:s.image_url))}},[e]),o.useEffect(()=>{e!=null&&e.website?h(e==null?void 0:e.website):(e==null?void 0:e.username)===""||(e==null?void 0:e.username)===null?h("/"+(e==null?void 0:e.gid)):h("/"+(e==null?void 0:e.username))},[e]),o.useEffect(()=>{e&&((e==null?void 0:e.image_url)!==""&&(e==null?void 0:e.image_url)!==null&&(e==null?void 0:e.image_url)!==void 0&&u(P.IMG_BASE_URL+(e==null?void 0:e.image_url)),(e==null?void 0:e.username)!==""&&(e==null?void 0:e.username)!==null&&(e==null?void 0:e.username)!==void 0?v(e==null?void 0:e.username):v(e==null?void 0:e.gid))},[e]),o.useEffect(()=>{if(e!=null&&e.social_media){let s=[];const r=w(e==null?void 0:e.social_media,",");r!==null&&(r==null||r.map((x,n)=>{const b=w(x,"$"),y={mediaName:b[0],mediaHandle:b[1],baseUrl:b[2]};s.push(y)})),p(s)}},[e]),o.useEffect(()=>{},[d]),o.useEffect(()=>{if(c!=null&&c.facility_features){let s=[];const r=w(c==null?void 0:c.facility_features,"&");r!==null&&(r==null||r.map((n,b)=>{const y=w(n,"$"),F={featureId:y[0],userDescription:y[1]};s.push(F)}));const x=M(s);C(x)}},[c]),o.useEffect(()=>{e!==null&&(async r=>{let x=r==null?void 0:r.title;x+=r!=null&&r.address_one?", "+(r==null?void 0:r.address_one):"",x+=r!=null&&r.address_two?", "+(r==null?void 0:r.address_two):"",x+=r!=null&&r.city_name?", "+(r==null?void 0:r.city_name):"",x+=r!=null&&r.state_name?", "+(r==null?void 0:r.state_name):"",x+=r!=null&&r.zipcode?", "+(r==null?void 0:r.zipcode):"",x+=r!=null&&r.country_name?", "+(r==null?void 0:r.country_name):"";let n=`https://www.google.com/maps/search/?api=1&query=${x}`;B(n)})(e)},[e]),a.jsxs("div",{className:"bg-white w-full h-auto  overflow-hidden border   hover:shadow-md hover:shadow-gray-200",children:[a.jsx("div",{className:"bg-gray-50/30 py-3 px-4 border-b-0",children:a.jsxs("a",{href:`/${f}`,children:[a.jsxs("div",{className:"flex place-content-between gap-2",children:[a.jsxs("div",{className:"flex place-items-start gap-2 w-full",children:[a.jsx("div",{className:"w-[90px] h-[90px] min-w-[90px]   bg-black bg-cover bg-center overflow-hidden relative border",style:{backgroundImage:`url(${j})`},children:l!==""&&a.jsx("img",{src:l,alt:"",className:`object-cover w-full h-full text-sm
                             z-0 bg-white`})}),a.jsxs("div",{className:" w-full",children:[a.jsx("div",{className:"text-[18px] font-normal text-blue-700 line-clamp-1 w-full",children:e==null?void 0:e.title}),(e==null?void 0:e.category)&&a.jsx("div",{className:"text-[12px] text-gray-500  capitalize mt-[0px]",children:(_=U(e==null?void 0:e.category))==null?void 0:_.name}),a.jsxs("div",{className:"flex place-items-center gap-x-1 mt-[5px] ",children:[a.jsx("div",{children:(c==null?void 0:c.average_rating)!==null&&(c==null?void 0:c.average_rating)!==""&&(c==null?void 0:c.average_rating)!==void 0?a.jsxs("div",{className:" flex gap-2 place-items-center",children:[a.jsx($,{rating:Number(c==null?void 0:c.average_rating)}),a.jsx(I,{averageRating:c==null?void 0:c.average_rating})]}):a.jsxs("div",{className:" flex gap-2 place-items-center",children:[a.jsx($,{rating:1}),a.jsx(I,{averageRating:0})]})}),a.jsx("div",{className:" ",children:Number(c==null?void 0:c.total_reviews)>0?c==null?void 0:c.total_reviews:0})]})]})]}),a.jsx("div",{className:"flex place-items-start",children:a.jsx("div",{className:"font-bold rounded-sm border px-3 py-[2px]",children:"View"})})]}),a.jsx("div",{className:"mt-[8px] text-[14px] md:text-[13px] text-gray-800 leading-[1.3em] line-clamp-3",children:e==null?void 0:e.short_description})]})}),a.jsx("div",{children:a.jsxs("div",{className:" h-auto flex place-content-between gap-2 ",children:[a.jsxs("div",{className:"flex place-items-start w-[60%] flex-col  pl-4  pt-2 pb-4 ",children:[a.jsxs("div",{className:"flex place-items-center gap-x-1",children:[a.jsx(V,{}),a.jsxs("span",{className:"mt-[1px] text-gray-500 space-x-2",children:[a.jsx("span",{className:"font-bold",children:"Founded:"}),a.jsx("span",{children:e==null?void 0:e.established})]})]}),N!==null&&a.jsxs("div",{className:"mt-2 flex place-items-start gap-2 w-full relative",children:[a.jsx("span",{className:"text-[13px]",children:"Facilities: "}),a.jsx("div",{className:"flex place-items-baseline gap-3 flex-wrap leading-[0.9em] ",children:N==null?void 0:N.map((s,r)=>a.jsx(q,{tooltip:`${s==null?void 0:s.name}: ${(s==null?void 0:s.userDescription)||""}`,children:a.jsx("div",{className:"text-[15px]",children:s==null?void 0:s.icon})},r))})]})]}),a.jsxs("div",{className:"flex place-items-end flex-col w-[40%] text-end pr-4 pt-2 pb-4",children:[a.jsx("div",{className:"font-[600]",children:e==null?void 0:e.phone}),a.jsx("div",{className:"text-[12px] leading-[1.2em] mt-1",children:a.jsx(T,{listing:e})})]})]})}),a.jsx("div",{className:"border-none",children:a.jsxs("div",{className:"flex place-content-between mx-4 my-1",children:[a.jsxs("div",{className:"flex place-items-center gap-4",children:[a.jsx("a",{href:`mailto:${e==null?void 0:e.email_address}`,children:a.jsx(D,{size:20})},34),(e==null?void 0:e.phone)&&a.jsx("a",{href:`tel:${e==null?void 0:e.phone}`,children:a.jsx(S,{size:20})},30),d!==null&&(d==null?void 0:d.map((s,r)=>a.jsx("a",{href:`${s==null?void 0:s.baseUrl}${s==null?void 0:s.mediaHandle}`,children:G(s==null?void 0:s.mediaName)},r)))]}),a.jsx("div",{className:"px-1.5 py-0.5 bg-red-500 rounded hover:shadow-lg text-white",children:a.jsx("a",{href:`${t}`,children:"Website"})})]})}),a.jsx("div",{className:"px-4 mb-4 mt-8",children:a.jsxs("div",{className:" grid grid-cols-2 gap-2 w-full md:w-[50%]",children:[a.jsx("a",{target:"_blank",href:`${A}`,className:"border border-blue-400 py-[5px] rounded px-2 font-semibold w-full text-center",children:"Go to map"}),a.jsx("div",{children:(c==null?void 0:c.phone)&&a.jsx("a",{href:`tel:${c==null?void 0:c.phone}`,children:a.jsxs("button",{className:"bg-blue-700 rounded w-full text-white flex place-items-center place-content-center text-[15px] gap-2 py-[5px]",children:[a.jsx(S,{size:20,className:"mt-[2px]"}),a.jsx("span",{children:"Call"})]})})})]})})]})},K=()=>a.jsx("div",{className:"bg-white w-full h-auto md:rounded-t-md shadow-md overflow-hidden border",children:a.jsxs("div",{className:"bg-gray-50/30 py-3 px-4 border-b",children:[a.jsxs("div",{className:"flex place-content-between",children:[a.jsx("div",{className:"flex place-items-center gap-2",children:a.jsxs("div",{className:"-space-y-1",children:[a.jsx("div",{className:"text-black text-lg font-semibold",children:"Garsset.com"}),a.jsx("div",{className:"text-[12px] text-gray-500 italic capitalize",children:"Business Directory Service"})]})}),a.jsx("div",{className:"flex place-items-center"})]}),a.jsx("div",{className:"mt-[8px] text-[12px] text-gray-500 leading-[1.3em]",children:"The only real-time generative AI app for video chatting, live streaming, and video creation on the market."})]})});function X({pagination:e}){var v;const[j]=E(),m=e.currentPage,l=e.totalPages,u=()=>{const d=[];let t=Math.max(1,m-Math.floor(2.5)),h=Math.min(l,t+5-1);h-t+1<5&&(t=Math.max(1,h-5+1)),t>1&&(d.push(1),t>2&&d.push("..."));for(let c=t;c<=h;c++)d.push(c);return h<l&&(h<l-1&&d.push("..."),d.push(l)),d},f=d=>{const p=new URLSearchParams(j);return p.set("page",d.toString()),`?${p.toString()}`};return a.jsxs("div",{className:"flex flex-col sm:flex-row items-center justify-between gap-4",children:[a.jsxs("div",{className:"text-sm text-gray-600",children:["Showing ",(m-1)*e.itemsPerPage+1," to"," ",Math.min(m*e.itemsPerPage,e.totalItems)," of"," ",e.totalItems," items"]}),a.jsxs("nav",{className:"flex items-center space-x-1",children:[a.jsx("a",{href:f(m-1),className:`px-3 py-2 border rounded-md text-sm font-medium ${e.hasPrev?"text-gray-700 hover:bg-gray-100":"opacity-50 cursor-not-allowed text-gray-400"}`,"aria-disabled":!e.hasPrev,children:"Previous"}),(v=u())==null?void 0:v.map((d,p)=>typeof d=="number"?a.jsx("a",{href:f(d),className:`px-3 py-2 border rounded-md text-sm font-medium ${d===m?"bg-blue-500 text-white border-blue-500":"text-gray-700 hover:bg-gray-100"}`,children:d},d):a.jsx("span",{className:"px-3 py-2 text-gray-500",children:d},`ellipsis-${p}`)),a.jsx("a",{href:f(m+1),className:`px-3 py-2 border rounded-md text-sm font-medium ${e.hasNext?"text-gray-700 hover:bg-gray-100":"opacity-50 cursor-not-allowed text-gray-400"}`,"aria-disabled":!e.hasNext,children:"Next"})]})]})}const de=()=>{const e=R(),[j]=E(),m=e.data.items,l=e.data.pagination,u=e.query,f=e.countries,[v,d]=o.useState(null);return parseInt(j.get("page")||"1"),o.useEffect(()=>{u&&d(u)},[u]),a.jsxs("div",{className:" ",children:[a.jsx(Q,{}),a.jsxs("div",{className:"h-screen flex flex-col relative ",children:[a.jsx("div",{className:"mt-[120px] md:mt-[60px]"}),a.jsxs("div",{className:"grid grid-cols-12 h-full overflow-hidden  gap-5 ",children:[a.jsxs("aside",{className:"col-span-3 h-full overflow-y-auto scrollbar-hidden pt-2 hidden xl:block",children:[a.jsxs("div",{className:"",children:[a.jsx("div",{className:"mt-3 text-[17px] mb-4 font-bold ml-6",children:"Categories"}),a.jsx(W,{})]}),a.jsxs("div",{className:"mt-5",children:[a.jsx("div",{className:"mt-3 text-[17px] mb-4 font-bold ml-6",children:"Countries"}),f&&a.jsx(H,{countries:f})]}),a.jsx("div",{className:" py-4 px-4 border-t",children:"Garssete - Business Directory Listing"})]}),a.jsx("div",{className:"col-span-12 xl:col-span-9  overflow-y-auto w-full md:px-[15px]",children:a.jsxs("div",{className:"grid grid-cols-12 gap-5",children:[a.jsx("div",{className:"col-span-12 md:col-span-8  pt-3",children:a.jsxs("div",{className:"space-y-8",children:[m==null?void 0:m.map((p,t)=>a.jsx(J,{listing:p},t)),a.jsx(X,{pagination:l}),a.jsx(K,{})]})}),a.jsx("div",{className:"hidden md:block md:col-span-4 pt-3    ",children:a.jsx("div",{className:"w-full xl:w-[90%] sticky top-3 ml-auto",children:a.jsx(O,{})})})]})})]})]})]})};export{de as default};
