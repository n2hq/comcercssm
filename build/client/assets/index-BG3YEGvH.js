import{j as e}from"./jsx-runtime-0DLF9kdB.js";import{u as y,s as P}from"./zod-PtQGc9r6.js";import{r as p,a as k,L as u}from"./components-CCwaTRgT.js";import{u as E}from"./AuthContext-C7k3lHjW.js";import{u as F}from"./NotificationContext-BVMvs2cM.js";import{z as l}from"./index-C4bLmoCR.js";import{w as O,W}from"./WhiteLogo-hx6VZQD6.js";import{x as C}from"./lib-d5lyMBXU.js";import{u as L,O as T}from"./OperationContext-BhT9SWU1.js";const A=/^(?=.*[A-Z])(?=.*[a-z])(?=.*\d)(?=.*[\W_]).{8,}$/,I=l.object({username:l.string({message:"Please enter an email"}).min(7,{message:"Email must be greater than 7 characters"}).email({message:"Please enter a valid email"}),password:l.string({message:"Please enter a password"}).min(8,"Password must be at least 8 characters").regex(A,"Please enter a valid password")}),_=()=>{const o=E();if(!o)return null;const{signin:g}=o,{showOperation:h,showSuccess:w,showError:f,showWarning:D,showInfo:V,completeOperation:b}=L(),[$,j]=p.useState({}),[B,i]=p.useState(!1);F();const v=k(),c=t=>{let a=t.target.value,n=t.target.name;j(x=>({...x,[n]:a}))},N=async t=>{try{i(!0),h("processing","Sign in is peing processed."),await new Promise(r=>setTimeout(r,1e3));const a=t.username,n=t.password,d=await g({email:a,password:n});d===!0?(w("login","Signin is successful."),await new Promise(r=>setTimeout(r,1e3)),b(),v("/")):f("error",`Complete your signup: ${d.message}`),await new Promise(r=>setTimeout(r,1e3)),i(!1)}catch(a){console.log(a)}},{register:m,handleSubmit:S,getValues:H,watch:M,setError:R,formState:{errors:s,isSubmitting:Z}}=y({defaultValues:{},resolver:P(I)});return e.jsxs("div",{className:`w-[80%] h-fit grid grid-cols-1 lg:grid-cols-2
        mt-[80px] mb-[20px] `,children:[e.jsx("div",{className:"hidden lg:block "}),e.jsx("div",{className:"place-content-center flex lg:place-content-end col-span-12 md:col-span-1",children:e.jsx("form",{onSubmit:S(N),children:e.jsxs("div",{className:`w-[350px] bg-white h-full rounded-2xl
                    flex flex-col place-items-center pt-[40px] pb-[40px]
                    px-[10px] `,children:[e.jsx("div",{className:O,children:e.jsx(W,{})}),e.jsx("div",{className:`text-[22px] text-center
                        mt-[30px] font-bold text-black`,children:"Sign in to your account"}),e.jsxs("div",{className:`text-[15px] text-center
                        mt-[0px] font-light text-black`,children:["using your ",e.jsx("b",{className:"font-bold text-black",children:C.SITENAME})," ID."]}),e.jsxs("div",{className:`w-full flex flex-col 
                        place-items-center mt-[30px]`,children:[e.jsx("input",{...m("username",{onChange:c}),placeholder:"Email address",type:"text",className:`border-b w-[85%]
                                px-[0px] py-1 text-[15px]
                                outline-none`}),e.jsx("div",{className:"w-[85%]",children:(s==null?void 0:s.username)&&e.jsx("div",{className:"ml-1 text-red-600 text-[13px]",children:s.username.message})})]}),e.jsxs("div",{className:`w-full flex flex-col 
                        place-items-center mt-[15px] `,children:[e.jsx("input",{...m("password",{onChange:c}),placeholder:"Password",type:"password",className:`border-b w-[85%]
                                px-[0px] py-1 text-[15px]
                                outline-none`}),e.jsx("div",{className:"w-[85%]",children:(s==null?void 0:s.password)&&e.jsx("div",{className:"ml-1 text-red-600 text-[13px]",children:s.password.message})})]}),e.jsx("div",{className:`w-full flex flex-col 
                        place-items-center mt-[25px]`,children:e.jsx("button",{className:`w-[85%] bg-blue-600
                            py-[12px] text-[15px] rounded-full
                            text-white hover:bg-blue-700`,children:"Sign in"})}),e.jsx("div",{className:`w-full flex flex-col 
                                            place-items-center mt-[20px] `,children:e.jsx(u,{className:"w-[85%]",to:"/web/reset_password",children:e.jsx("div",{className:`border-b w-full
                                                    px-[0px] py-1 text-[14px]
                                                    outline-none hover:underline`,children:"Forgot Password?"})})}),e.jsx("div",{className:`w-full flex flex-col 
                                            place-items-center mt-[20px]`,children:e.jsx(u,{to:"/web/signup",className:"w-[85%]",children:e.jsx("button",{className:`w-full 
                                                py-[2px] text-[14px] rounded-full text-center
                                                text-blue-700 hover:bg-gray-100`,children:"Don't have account yet? Sign up!"})})})]})})})]})},z=()=>e.jsx("div",{className:`bg-white w-full 
        md:bg-[url('/images/oiltanker.jpg')]
        bg-cover bg-center min-h-screen flex place-content-center`,children:e.jsx(_,{})}),se=()=>e.jsx("div",{children:e.jsx(T,{children:e.jsx(z,{})})});export{se as default};
