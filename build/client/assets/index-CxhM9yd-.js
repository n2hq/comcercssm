import{j as e}from"./jsx-runtime-0DLF9kdB.js";import{r as d,c as F,d as R}from"./components-ByGjlxrc.js";import{S as U}from"./SrchNavbar-DxdFC0Wy.js";import{a6 as D,w as $,a1 as y,a2 as G,a3 as T,a8 as q,a9 as M,a5 as E,a4 as O}from"./lib-BfxD_PrT.js";import{R as I,T as W,A as H,S as Q,C as V,a as J,F as K}from"./Categories-BY7tMnAl.js";import"./UserMenu-DjfYbg23.js";import"./AuthContext-BW5xbZ91.js";import"./WhiteLogo-C2qMaGt0.js";import"./index-CkyiyLWW.js";import"./json-CKHlsUtu.js";const X=()=>e.jsx("div",{className:"bg-white w-full h-auto md:rounded-t-md shadow-md overflow-hidden border",children:e.jsxs("div",{className:"bg-gray-50/30 py-3 px-4 border-b",children:[e.jsxs("div",{className:"flex place-content-between",children:[e.jsx("div",{className:"flex place-items-center gap-2",children:e.jsxs("div",{className:"-space-y-1",children:[e.jsx("div",{className:"text-black text-lg font-semibold",children:"Garsset.com"}),e.jsx("div",{className:"text-[12px] text-gray-500 italic capitalize",children:"Business Directory Service"})]})}),e.jsx("div",{className:"flex place-items-center"})]}),e.jsx("div",{className:"mt-[8px] text-[12px] text-gray-500 leading-[1.3em]",children:"The only real-time generative AI app for video chatting, live streaming, and video creation on the market."})]})}),k=({averageRating:a})=>{const[o,l]=d.useState(0);return d.useEffect(()=>{a!=null&&l(a)},[a]),e.jsxs("div",{className:"text-blue-700",children:["(",D(Number(o)),")"]})},C=({listing:a})=>{var S;const[o,l]=d.useState("/images/placeholder-icon.webp"),[h,j]=d.useState(""),[x,f]=d.useState(""),[p,v]=d.useState(null),[_,u]=d.useState(""),[c,t]=d.useState(null),[n,A]=d.useState(null),[P,z]=d.useState("");return d.useEffect(()=>{if(a){const s=a;t(s),j($.IMG_BASE_URL+(s==null?void 0:s.image_url))}},[a]),d.useEffect(()=>{a!=null&&a.website?u(a==null?void 0:a.website):(a==null?void 0:a.username)===""||(a==null?void 0:a.username)===null?u("/"+(a==null?void 0:a.gid)):u("/"+(a==null?void 0:a.username))},[a]),d.useEffect(()=>{a&&((a==null?void 0:a.image_url)!==""&&(a==null?void 0:a.image_url)!==null&&(a==null?void 0:a.image_url)!==void 0&&j($.IMG_BASE_URL+(a==null?void 0:a.image_url)),(a==null?void 0:a.username)!==""&&(a==null?void 0:a.username)!==null&&(a==null?void 0:a.username)!==void 0?f(a==null?void 0:a.username):f(a==null?void 0:a.gid))},[a]),d.useEffect(()=>{if(a!=null&&a.social_media){let s=[];const r=y(a==null?void 0:a.social_media,",");r!==null&&(r==null||r.map((m,N)=>{const b=y(m,"$"),w={mediaName:b[0],mediaHandle:b[1],baseUrl:b[2]};s.push(w)})),v(s)}},[a]),d.useEffect(()=>{},[p]),d.useEffect(()=>{if(c!=null&&c.facility_features){let s=[];const r=y(c==null?void 0:c.facility_features,"&");r!==null&&(r==null||r.map((N,b)=>{const w=y(N,"$"),B={featureId:w[0],userDescription:w[1]};s.push(B)}));const m=G(s);A(m)}},[c]),d.useEffect(()=>{a!==null&&(async r=>{let m=r==null?void 0:r.title;m+=r!=null&&r.address_one?", "+(r==null?void 0:r.address_one):"",m+=r!=null&&r.address_two?", "+(r==null?void 0:r.address_two):"",m+=r!=null&&r.city_name?", "+(r==null?void 0:r.city_name):"",m+=r!=null&&r.state_name?", "+(r==null?void 0:r.state_name):"",m+=r!=null&&r.zipcode?" "+(r==null?void 0:r.zipcode):"",m+=r!=null&&r.country_code?" "+(r==null?void 0:r.country_code):"";let N=`https://www.google.com/maps?q=${encodeURI(m)}&t=&z=15&ie=UTF8&iwloc=B&output=`;z(N)})(a)},[a]),e.jsxs("div",{className:"bg-white w-full h-auto  overflow-hidden border   hover:shadow-md hover:shadow-gray-200",children:[e.jsx("div",{className:"bg-gray-50/30 py-3 px-4 border-b-0",children:e.jsxs("a",{href:`/${x}`,children:[e.jsxs("div",{className:"flex place-content-between gap-2",children:[e.jsxs("div",{className:"flex place-items-start gap-2 w-full",children:[e.jsx("div",{className:"w-[90px] h-[90px] min-w-[90px]   bg-black bg-cover bg-center overflow-hidden relative border",style:{backgroundImage:`url(${o})`},children:h!==""&&e.jsx("img",{src:h,alt:"",className:`object-cover w-full h-full text-sm
                             z-0 bg-white`})}),e.jsxs("div",{className:" w-full",children:[e.jsx("div",{className:"text-[18px] font-normal text-blue-700 line-clamp-1 w-full",children:a==null?void 0:a.title}),(a==null?void 0:a.category)&&e.jsx("div",{className:"text-[12px] text-gray-500  capitalize mt-[0px]",children:(S=T(a==null?void 0:a.category))==null?void 0:S.name}),e.jsxs("div",{className:"flex place-items-center gap-x-1 mt-[5px] ",children:[e.jsx("div",{children:(c==null?void 0:c.average_rating)!==null&&(c==null?void 0:c.average_rating)!==""&&(c==null?void 0:c.average_rating)!==void 0?e.jsxs("div",{className:" flex gap-2 place-items-center",children:[e.jsx(I,{rating:Number(c==null?void 0:c.average_rating)}),e.jsx(k,{averageRating:c==null?void 0:c.average_rating})]}):e.jsxs("div",{className:" flex gap-2 place-items-center",children:[e.jsx(I,{rating:1}),e.jsx(k,{averageRating:0})]})}),e.jsx("div",{className:" ",children:Number(c==null?void 0:c.total_reviews)>0?c==null?void 0:c.total_reviews:0})]})]})]}),e.jsx("div",{className:"flex place-items-start",children:e.jsx("div",{className:"font-bold rounded-sm border px-3 py-[2px]",children:"View"})})]}),e.jsx("div",{className:"mt-[8px] text-[14px] md:text-[13px] text-gray-800 leading-[1.3em] line-clamp-3",children:a==null?void 0:a.short_description})]})}),e.jsx("div",{children:e.jsxs("div",{className:" h-auto flex place-content-between gap-2 ",children:[e.jsxs("div",{className:"flex place-items-start w-[60%] flex-col  pl-4  pt-2 pb-4 ",children:[e.jsxs("div",{className:"flex place-items-center gap-x-1",children:[e.jsx(q,{}),e.jsxs("span",{className:"mt-[1px] text-gray-500 space-x-2",children:[e.jsx("span",{className:"font-bold",children:"Founded:"}),e.jsx("span",{children:a==null?void 0:a.established})]})]}),n!==null&&e.jsxs("div",{className:"mt-2 flex place-items-start gap-2 w-full relative",children:[e.jsx("span",{className:"text-[13px]",children:"Facilities: "}),e.jsx("div",{className:"flex place-items-baseline gap-3 flex-wrap leading-[0.9em] ",children:n==null?void 0:n.map((s,r)=>e.jsx(W,{tooltip:`${s==null?void 0:s.name}: ${(s==null?void 0:s.userDescription)||""}`,children:e.jsx("div",{className:"text-[15px]",children:s==null?void 0:s.icon})},r))})]})]}),e.jsxs("div",{className:"flex place-items-end flex-col w-[40%] text-end pr-4 pt-2 pb-4",children:[e.jsx("div",{className:"font-[600]",children:a==null?void 0:a.phone}),e.jsx("div",{className:"text-[12px] leading-[1.2em] mt-1",children:e.jsx(H,{listing:a})})]})]})}),e.jsx("div",{className:"border-none",children:e.jsxs("div",{className:"flex place-content-between mx-4 my-1",children:[e.jsxs("div",{className:"flex place-items-center gap-4",children:[e.jsx("a",{href:`mailto:${a==null?void 0:a.email_address}`,children:e.jsx(M,{size:20})},34),e.jsx("a",{href:`tel:${a==null?void 0:a.phone}`,children:e.jsx(E,{size:20})},30),p!==null&&(p==null?void 0:p.map((s,r)=>e.jsx("a",{href:`${s==null?void 0:s.baseUrl}${s==null?void 0:s.mediaHandle}`,children:O(s==null?void 0:s.mediaName)},r)))]}),e.jsx("div",{className:"px-1.5 py-0.5 bg-red-500 rounded hover:shadow-lg text-white",children:e.jsx("a",{href:`${_}`,children:"Website"})})]})}),e.jsx("div",{className:"px-4 mb-4 mt-8",children:e.jsxs("div",{className:" grid grid-cols-2 gap-2 w-full md:w-[50%]",children:[e.jsx("a",{target:"_blank",href:`${P}`,className:"border border-blue-400 py-[5px] rounded px-2 font-semibold w-full text-center",children:"Go to map"}),e.jsx("div",{children:(c==null?void 0:c.phone)&&e.jsx("a",{href:`tel:${c==null?void 0:c.phone}`,children:e.jsxs("button",{className:"bg-blue-700 rounded w-full text-white flex place-items-center place-content-center text-[15px] gap-2 py-[5px]",children:[e.jsx(E,{size:20,className:"mt-[2px]"}),e.jsx("span",{children:"Call"})]})})})]})})]})},Y=({data:a,itemsPerPage:o=10,resetPageKey:l})=>{const[h]=F(),j=Number(h.get("page"))||1,[x,f]=d.useState(j),p=Math.ceil(a.length/o),v=x*o,_=v-o,u=a.slice(_,v);return d.useEffect(()=>{l!==void 0&&f(1)},[l]),e.jsxs("div",{children:[e.jsx("div",{className:"space-y-6",children:u==null?void 0:u.map((c,t)=>e.jsx("div",{children:(t+1)%2?e.jsx(C,{listing:c,index:t}):e.jsxs(e.Fragment,{children:[e.jsx(C,{listing:c,index:t}),e.jsx(Q,{})]})},t))}),p>1&&e.jsxs("div",{className:"flex justify-center gap-[5px] mt-[60px]",children:[x>1?e.jsx("a",{href:x-1===1?"/web/browse":`/web/browse?page=${x-1}`,className:"px-[12px] py-[8px] bg-white border rounded-[4px]",children:"Previous"}):e.jsx("span",{className:"px-[12px] py-[8px] bg-gray-200 border rounded-[4px] text-gray-400 cursor-not-allowed",children:"Previous"}),Array.from({length:p},(c,t)=>t+1).map(c=>e.jsx("a",{href:c===1?"/web/browse":`/web/browse?page=${c}`,className:`px-[12px] py-[8px] border rounded-[4px] ${x===c?"bg-blue-500 text-white border-blue-500":"bg-white"}`,children:c},c)),x<p?e.jsx("a",{href:`/web/browse?page=${x+1}`,className:"px-[12px] py-[8px] bg-white border rounded-[4px]",children:"Next"}):e.jsx("span",{className:"px-[12px] py-[8px] bg-gray-200 border rounded-[4px] text-gray-400 cursor-not-allowed",children:"Next"})]})]})},oe=()=>{const a=R();F();const o=a.data,l=a.query,h=a.countries,[j,x]=d.useState(null);return d.useEffect(()=>{l&&x(l)},[l]),e.jsxs("div",{className:" ",children:[e.jsx(U,{}),e.jsxs("div",{className:"h-screen flex flex-col relative ",children:[e.jsx("div",{className:"mt-[120px] md:mt-[60px]"}),e.jsxs("div",{className:"grid grid-cols-12 h-full overflow-hidden  gap-5 ",children:[e.jsxs("aside",{className:"col-span-3 h-full overflow-y-auto scrollbar-hidden pt-2 hidden xl:block",children:[e.jsxs("div",{className:"",children:[e.jsx("div",{className:"mt-3 text-[17px] mb-4 font-bold ml-6",children:"Categories"}),e.jsx(V,{})]}),e.jsxs("div",{className:"mt-5",children:[e.jsx("div",{className:"mt-3 text-[17px] mb-4 font-bold ml-6",children:"Countries"}),h&&e.jsx(J,{countries:h})]}),e.jsx("div",{className:" py-4 px-4 border-t",children:"Garssete - Business Directory Listing"})]}),e.jsx("div",{className:"col-span-12 xl:col-span-9  overflow-y-auto w-full md:px-[15px]",children:e.jsxs("div",{className:"grid grid-cols-12 gap-5",children:[e.jsx("div",{className:"col-span-12 md:col-span-8  pt-3",children:e.jsxs("div",{className:"space-y-8",children:[(o==null?void 0:o.length)>0?e.jsx(Y,{data:o,itemsPerPage:20,resetPageKey:l}):e.jsx("div",{className:`flex place-items-center rounded
                            place-content-center p-5 border capitalize`,children:e.jsx("span",{children:"no record"})}),e.jsx(X,{})]})}),e.jsx("div",{className:"hidden md:block md:col-span-4 pt-3    ",children:e.jsx("div",{className:"w-full xl:w-[90%] sticky top-3 ml-auto",children:e.jsx(K,{})})})]})})]})]})]})};export{oe as default};
