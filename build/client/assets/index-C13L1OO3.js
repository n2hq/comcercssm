import{j as e}from"./jsx-runtime-0DLF9kdB.js";import{r,N as de,c as ie}from"./components-qdL6XBti.js";import{I as Q}from"./index-BVYEorBa.js";import{u as J}from"./SliderContext-vUc-K7uJ.js";import{u as P}from"./AuthContext-Ch6dj1gf.js";import{u as xe,s as me}from"./zod-g2XesUsp.js";import{z as D}from"./index-C4bLmoCR.js";import{u as ee}from"./NotificationContext-CxTwFoFq.js";import{w as C,aE as ue,aF as he,aG as pe,aH as fe,a9 as ve,B as we,a as be,a7 as je,a4 as W,S as Ne,aA as ge,aI as ye,aJ as Se,aK as _e,aL as ke,aM as Ee,aC as Ce,E as Re}from"./lib-B3OtsqmP.js";import{u as te}from"./VideoSliderContext-SuIIMdHb.js";import{T as Le}from"./TopAd-BvjSp-3c.js";import{S as Ae}from"./SearchLayout-JsHds_Ws.js";import{C as Me,F as Ge}from"./FooterSection-CrMnDdWR.js";import{V as Te}from"./VerticalHeight-CjKseacd.js";import"./json-C8nTir9t.js";import"./SrchNavbar-DMNJITAS.js";import"./UserMenu-CSdn-6IN.js";import"./WhiteLogo-BDclMDWR.js";const se=r.createContext(null);function le(){return r.useContext(se)}const Be=({children:t})=>{const[s,l]=r.useState(!1),[n,o]=r.useState(null),a=J(),[c,d]=r.useState(null),i="https://pics.gasimg.com",f=()=>l(!1);let u={setShow:l,setGallery:o,setListing:d};const w=p=>{a.setDialog(!0),a.setSelectedSlide(p+1),a.setGallery(n)};return r.useEffect(()=>{const p=v=>{v.key==="Escape"&&f()};return s&&document.addEventListener("keydown",p),()=>{document.removeEventListener("keydown",p)}},[s]),e.jsxs(se.Provider,{value:u,children:[s&&e.jsxs("div",{onMouseDown:p=>l(!1),className:`flex w-screen h-screen bg-black/40 
                        z-[20000] fixed top-0 left-0 right-0 bottom-0
                        place-items-center place-content-center px-[15px]`,children:[e.jsx("div",{onMouseDown:p=>p.stopPropagation(),className:`min-w-[95%] w-[95%] sm:w-[95%] md:w-[80%] h-[80%] max-h-[80%] 
                            mx-auto bg-white rounded-lg shadow-lg shadow-black/50 
                            space-y-6 z-[3100] overflow-hidden`,children:e.jsxs("div",{className:"w-full h-full",children:[e.jsx("div",{className:"border-b py-3 px-3",children:e.jsxs("div",{className:`font-bold text-gray-700
                                    text-xl w-[80%]  truncate`,children:["Gallery for ",c&&(c==null?void 0:c.title)]})}),e.jsx("div",{className:` 
                                h-full overflow-y-auto pt-2 px-2 pb-2
                                bg-white `,children:e.jsx("div",{className:"grid grid-cols-4 md:grid-cols-6 gap-2",children:n&&(n==null?void 0:n.map((p,v)=>e.jsx("div",{onClick:()=>w(v),className:`relative hover:cursor-pointer
                                                 bg-red-200 h-[80px] md:h-[100px] lg:h-[120px] rounded-md
                                                 overflow-hidden`,children:e.jsx("img",{className:"object-cover w-full h-full",src:i+p.image_url,alt:""})})))})})]})}),e.jsx("div",{onMouseDown:()=>f(),className:`w-[50px] h-[50px] z-[300] bg-white
                                flex place-content-center place-items-center
                                rounded-full absolute left-2 top-2 cursor-pointer
                                hover:bg-white/40 transition duration-1000 ease-in-out`,children:e.jsx(Q,{className:"text-[30px]"})})]}),t]})},U=100,re=r.createContext(null);function Ie(){return r.useContext(re)}const ze=D.object({fullname:D.any(),rating:D.any(),comment:D.any()});function $e({children:t}){var V,Y,q;const[s,l]=r.useState(!1),[n,o]=r.useState(!1),[a,c]=r.useState(null),[d,i]=r.useState(void 0),[f,u]=r.useState(""),w=ee(),[p,v]=r.useState(5),x=P();if(!x)return null;let{user:g}=x;const[j,R]=r.useState(null),[E,b]=r.useState(!1),h=m=>m.trim()===""?0:m.trim().split(/\s+/).length,y=m=>{let S=m.target.value,A=m.target.name;R(G=>({...G,[A]:S}))},{register:N,handleSubmit:k,getValues:F,setValue:M,watch:B,reset:I,setError:O,formState:{errors:L,isSubmitting:H}}=xe({resolver:me(ze)}),z=m=>{const S=m.target.value,A=S.trim().split(/\s+/);if(A.length<=U)M("text",S),b(!1);else{b(!0);const G=A.slice(0,U).join(" ");M("text",G)}},$=async m=>{w.notify("Working..."),await new Promise(T=>setTimeout(T,1e3));const S=g.guid,A=a.gid;m.user_guid=S,m.business_guid=A;const oe="https://edition.garssete.com"+"/api/rating";try{const T=await fetch(oe,{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify(m)}),ae=await T.json();T.ok?w.alert("Success","Rating submitted successfully!"):w.alert("Error",ae.error)}catch(T){w.alert("",T.message)}};let K={show:s,setShow:l,setListing:c,reset:I,setRatingData:i,validateData:async(m,S)=>{if((m==null?void 0:m.length)===0){let A=(S==null?void 0:S.first_name)||"",G=(S==null?void 0:S.last_name)||"",Z=A+" "+G;M("fullname",Z)}}};const X=B("text")||"",ne=m=>{X.trim().split(/\s+/).length>=U&&m.key!=="Backspace"&&m.key!=="Delete"&&!m.ctrlKey?(m.preventDefault(),b(!0)):b(!1)};return r.useEffect(()=>{const m=S=>{S.key==="Escape"&&l(!1)};return s&&document.addEventListener("keydown",m),()=>{document.removeEventListener("keydown",m)}},[s]),e.jsxs(re.Provider,{value:K,children:[s&&e.jsx("div",{className:`flex w-screen h-screen bg-black/40 z-[3000] 
                fixed top-0 left-0 right-0 bottom-0 place-items-center place-content-center`,children:e.jsxs("div",{className:"w-[450px] h-fit mx-auto p-6 bg-white rounded-xl shadow-md space-y-6",children:[e.jsx("h2",{className:"text-xl font-bold",children:"Create/Edit Rating"}),e.jsxs("form",{onSubmit:k($),className:"space-y-4",children:[e.jsxs("div",{children:[e.jsx("label",{className:"block mb-1 text-sm font-semibold",children:"Full Name"}),e.jsx("input",{...N("fullname",{onChange:y}),type:"text",className:`w-full px-3 py-2 border rounded-md
                                        text-sm`,placeholder:"Enter Business GUID"}),((V=L.fullname)==null?void 0:V.message)&&e.jsx("div",{className:"text-red-500 mt-1 text-sm",children:L.fullname.message.toString()})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block mb-1 text-sm font-semibold",children:"Stars"}),e.jsx("select",{...N("rating",{onChange:m=>{v(Number(m.target.value)),y(m)}}),className:`w-full px-3 py-2 border rounded-md
                                        text-sm`,children:[5,4,3,2,1].map(m=>e.jsxs("option",{value:m,children:[m," Star",m>1?"s":""]},m))}),((Y=L.rating)==null?void 0:Y.message)&&e.jsx("div",{className:"text-red-500 mt-1 text-sm",children:L.rating.message.toString()})]}),e.jsxs("div",{children:[e.jsxs("div",{className:"flex place-content-between",children:[e.jsx("label",{className:"block mb-1 text-sm font-semibold",children:"Comment"}),e.jsxs("label",{className:" text-gray-600 text-sm",children:["Word Count: ",e.jsx("strong",{children:h(f)})]})]}),e.jsx("textarea",{...N("comment",{onChange:m=>{h(f)<=U?(u(m.target.value),z(m),y(m)):m.preventDefault()}}),onKeyDown:ne,className:`w-full px-3 py-2 border rounded-md 
                                        text-sm`,placeholder:"Write your review...",rows:4}),E&&e.jsx("div",{className:"text-red-500 mt-0 text-sm",children:"Maximum maximumWords words allowed."}),((q=L.comment)==null?void 0:q.message)&&e.jsx("div",{className:"text-red-500 mt-0 text-sm",children:L.comment.message.toString()})]}),e.jsxs("div",{className:"w-full grid grid-cols-2 gap-2",children:[e.jsx("button",{onClick:()=>l(!1),className:`w-full bg-red-200 rounded-md
                                        hover:bg-red-100 text-sm`,children:"Close"}),e.jsx("button",{type:"submit",disabled:n,className:`w-full bg-blue-600 text-white py-2 
                                        rounded-md hover:bg-blue-700 text-sm`,children:n?"Submitting...":"Submit Rating"})]})]})]})}),t]})}const De=({listing:t})=>e.jsxs("div",{children:[t!=null&&t.address_one?(t==null?void 0:t.address_one)+", ":"",t!=null&&t.state_code?(t==null?void 0:t.state_name)+", ":"",t!=null&&t.country_code?t==null?void 0:t.country_code:""]}),Ue=({listing:t,profileImageData:s,operatingHoursStatus:l,ratingsData:n})=>{const[o,a]=r.useState("");return r.useEffect(()=>{s&&a(C.IMG_BASE_URL+(s==null?void 0:s.image_url))},[s]),e.jsxs("div",{className:"flex gap-2 mt-2 w-full",children:[e.jsx("div",{className:"bg-white w-[95px] min-w-[95px] h-[95px] rounded-none relative overflow-hidden hidden md:block border border-gray-200  shadow-sm",children:e.jsx("img",{src:o,alt:"",className:" object-cover w-full h-full border-[1px]  border-gray-200"})}),e.jsxs("div",{className:"w-full",children:[e.jsx("div",{className:`text-[19px] md:text-[24px]
                font-bold  leading-[1.2em] tracking-tight font-poppins`,children:t==null?void 0:t.title}),e.jsx("div",{children:e.jsx(De,{listing:t})}),e.jsx("div",{className:" leading-[1.3em] space-x-1 mt-1",children:l!==void 0&&e.jsxs("div",{className:" leading-[1.2em]",children:[l.openStatus==="selected_hours"?e.jsx("div",{children:l.todayHoursFormatted}):e.jsxs("div",{children:[l.openStatus==="always_open"&&e.jsx("div",{className:"bg-green-700 px-1 rounded-sm w-fit text-white pt-[2px] pb-[4px]",children:"Always Open"},"1"),l.openStatus==="permanently_closed"&&e.jsx("div",{className:"bg-red-700 px-1 rounded-sm w-fit text-white pt-[2px] pb-[4px]",children:"Permantently Closed"},"2"),l.openStatus==="temporarily_closed"&&e.jsx("div",{className:"bg-orange-400 px-1 rounded-sm w-fit text-white pt-[2px] pb-[4px]",children:"Temporarily Closed"},"3")]}),e.jsx("div",{className:" w-full mx-auto mt-1.5",children:l==null?void 0:l.localTimeText})]})})]})]})},We=({listing:t})=>{const s=Ie(),{user:l}=P(),n=ee();r.useEffect(()=>{t!=null&&t.gid&&(l!=null&&l.guid)&&(s.setListing(t),ue(l.guid,t.gid).then(c=>{(c==null?void 0:c.length)!==0?(s.reset(c),s.setRatingData(c)):s.validateData(c,l)}))},[t,l]);const o=c=>{c?(n.cancel(),window.location.href="/signin"):n.cancel()},a=()=>{(l==null?void 0:l.guid)===null||(l==null?void 0:l.guid)===void 0?n.confirm("Login to continue",o):s.setShow(!0)};return e.jsx("div",{className:"w-full mt-0 ",children:e.jsx("div",{className:"",children:e.jsx("button",{onClick:()=>a(),className:`bg-blue-500 text-white flex flex-col
                items-center pt-[2px] pb-[3px] w-full `,children:"Write Review"})})})},Fe=({businessProfile:t})=>{const[s,l]=r.useState(null),[n,o]=r.useState("");return r.useEffect(()=>{t&&l(t)},[t]),r.useEffect(()=>{if(s){let a=s!=null&&s.address_one?s==null?void 0:s.address_one:"";a+=s!=null&&s.address_two?", "+(s==null?void 0:s.address_two):"",a+=s!=null&&s.city_name?", "+(s==null?void 0:s.city_name):"",a+=s!=null&&s.state_name?", "+(s==null?void 0:s.state_name):"",a+=s!=null&&s.zipcode?", "+(s==null?void 0:s.zipcode):"",a+=s!=null&&s.country_name?", "+(s==null?void 0:s.country_name):"",o(a)}},[s]),e.jsx("div",{className:"w-full",children:e.jsxs("div",{className:`md:bg-white
            rounded-none overflow-hidden pt-[0px]
            pb-[15px] bg-[blue]/0 text-black md:black
            md:text-black  border-[1px] border-gray-300/70 border-t-0 border-b-0`,children:[e.jsx("div",{className:`font-normal text-[19px] 
                   px-[10px] tracking-tight w-fit rounded-md
                   ml-[20px] mt-[25px] bg-blue-900 text-white
                   shadow-md shadow-gray-100`,children:"Business Contact"}),e.jsx("div",{className:"mt-[20px]"}),e.jsxs("div",{className:`grid grid-cols-1 md:grid-cols-3 lg:grid-cols-1 
                text-[14px]  tracking-tight md:space-x-4 lg:space-x-0 md:text-black/80 font-sans`,children:[e.jsxs("div",{className:"mx-[0px] divide-y-[1px] ",children:[e.jsxs("div",{className:"flex w-full gap-3 py-3 px-3",children:[e.jsx("div",{className:"bg-blue-200/80 h-[30px] min-w-[30px] w-[30px] flex place-content-center place-items-center rounded-md border-[1px]",children:e.jsx(he,{className:"text-[20px]"})}),n&&e.jsx("div",{className:"text-[15px] md:text-[13px] leading-[1.3em]",children:n})]}),(t==null?void 0:t.phone)&&e.jsxs("div",{className:"flex w-full gap-3 py-2.5 px-3",children:[e.jsx("div",{className:"bg-blue-200/80 h-[30px] min-w-[30px] w-[30px] flex place-content-center place-items-center rounded-md",children:e.jsx(pe,{className:"text-[20px] h-fit"})}),e.jsx("div",{className:` text-[15px] md:text-[13px] leading-[1.3em]
                                flex place-items-center font-semibold`,children:t==null?void 0:t.phone})]}),(t==null?void 0:t.website)&&e.jsxs("div",{className:"flex w-full gap-3 py-2.5 px-3",children:[e.jsx("div",{className:"bg-blue-200/80 h-[30px] min-w-[30px] w-[30px] flex place-content-center place-items-center rounded-md",children:e.jsx(fe,{className:"text-[20px] h-fit"})}),e.jsx("div",{className:` text-[15px] md:text-[13px] leading-[1.3em]
                                flex place-items-center font-semibold
                                line-clamp-1`,children:e.jsx("a",{href:t==null?void 0:t.website,children:(t==null?void 0:t.website)||"No website"})})]}),e.jsxs("div",{className:"flex w-full gap-3 py-2.5 px-3",children:[e.jsx("div",{className:"bg-blue-200/80 h-[30px] min-w-[30px] w-[30px] flex place-content-center place-items-center rounded-md",children:e.jsx(ve,{className:"text-[20px]"})}),e.jsx("div",{className:` text-[15px] md:text-[13px] leading-[1.3em]
                                flex place-items-center font-semibold
                                line-clamp-1`,children:e.jsx("a",{href:`mailto:${t.email_address}`,children:t.email_address})})]})]}),e.jsx("div",{children:e.jsx("div",{className:`bg-blue-500 mt-[30px] mx-[15px]
                        text-white text-center py-2 rounded`,children:t&&e.jsx(We,{listing:t})})})]})]})})},Oe=({images:t,listing:s})=>{var p,v,x,g,j,R,E,b,h,y,N,k,F,M,B,I,O,L,H,z,$;const[l,n]=r.useState([]),o=J(),a=le(),[c,d]=r.useState("images/abstract_placeholder.jpg"),[i,f]=r.useState([]);r.useEffect(()=>{let _=[...l];t&&(t==null||t.map((K,X)=>{X+1<12&&_.push(K)}),f(_))},[t]);const u=_=>{_<t.length&&(o.setDialog(!0),o.setSelectedSlide(_+1),o.setGallery(t),o.setListing(s))},w=_=>{a.setShow(!0),a.setGallery(t),a.setListing(s)};return e.jsxs("div",{className:"w-full h-auto mb-[32px] flex flex-col gap-2",children:[e.jsxs("div",{className:`h-[350px]
                grid grid-cols-12 gap-[7px]`,children:[e.jsx("div",{className:`col-span-7 bg-black
                    row-span-2 rounded-xl overflow-hidden
                    relative cursor-pointer`,onMouseDown:_=>u(0),children:e.jsx("img",{src:((p=t[0])==null?void 0:p.image_url)!==void 0&&((v=t[0])==null?void 0:v.image_url)!==null?C.IMG_BASE_URL+((x=t[0])==null?void 0:x.image_url):c,alt:"",className:"object-cover h-full w-full"})}),e.jsx("div",{className:`col-span-5 bg-black
                    rounded-xl overflow-hidden h-full
                    relative cursor-pointer`,onMouseDown:_=>u(1),children:e.jsx("img",{src:((g=t[1])==null?void 0:g.image_url)!==void 0&&((j=t[1])==null?void 0:j.image_url)!==null?C.IMG_BASE_URL+((R=t[1])==null?void 0:R.image_url):c,alt:"",className:"object-cover h-full w-full"})}),e.jsx("div",{className:`col-span-5 bg-black
                    rounded-xl overflow-hidden h-full
                    relative cursor-pointer`,onMouseDown:_=>u(2),children:e.jsx("img",{src:((E=t[2])==null?void 0:E.image_url)!==void 0&&((b=t[2])==null?void 0:b.image_url)!==null?C.IMG_BASE_URL+((h=t[2])==null?void 0:h.image_url):c,alt:"",className:"object-cover h-full w-full"})})]}),e.jsxs("div",{className:"grid grid-cols-5 gap-[7px] mt-[2px]",children:[e.jsx("div",{className:`rounded-xl overflow-hidden
                    relative cursor-pointer h-[100px] bg-black`,onMouseDown:_=>u(3),children:e.jsx("img",{src:((y=t[3])==null?void 0:y.image_url)!==void 0&&((N=t[3])==null?void 0:N.image_url)!==null?C.IMG_BASE_URL+((k=t[3])==null?void 0:k.image_url):c,alt:"",className:"object-cover h-full w-full"})}),e.jsx("div",{className:`rounded-xl overflow-hidden
                    relative cursor-pointer h-[100px] bg-black`,onMouseDown:_=>u(4),children:e.jsx("img",{src:((F=t[4])==null?void 0:F.image_url)!==void 0&&((M=t[4])==null?void 0:M.image_url)!==null?C.IMG_BASE_URL+((B=t[4])==null?void 0:B.image_url):c,alt:"",className:"object-cover h-full w-full"})}),e.jsx("div",{className:`rounded-xl overflow-hidden
                    relative bg-black cursor-pointer h-[100px]`,onMouseDown:_=>u(5),children:e.jsx("img",{src:((I=t[5])==null?void 0:I.image_url)!==void 0&&((O=t[5])==null?void 0:O.image_url)!==null?C.IMG_BASE_URL+((L=t[5])==null?void 0:L.image_url):c,alt:"",className:"object-cover h-full w-full"})}),e.jsx("div",{className:`rounded-xl overflow-hidden
                    relative bg-black cursor-pointer h-[100px]`,onMouseDown:_=>u(6),children:e.jsx("img",{src:((H=t[6])==null?void 0:H.image_url)!==void 0&&((z=t[6])==null?void 0:z.image_url)!==null?C.IMG_BASE_URL+(($=t[6])==null?void 0:$.image_url):c,alt:"",className:"object-cover h-full w-full"})}),e.jsxs("div",{className:`rounded-xl overflow-hidden
                    relative bg-black text-white cursor-pointer
                    flex place-content-center place-items-center h-[100px]
                    bg-cover`,onMouseDown:_=>w(),style:{backgroundImage:'url("/images/abstract_placeholder.jpg")'},children:[e.jsx("div",{className:" absolute top-0 left-0 right-0 bottom-0 bg-black/20"}),(t==null?void 0:t.length)>7?`+${t.length-7}`:"View all"]})]})]})},He=({images:t,listing:s})=>{const[l,n]=r.useState(0),o=r.useRef(0);r.useRef(0);const a=h=>{o.current=h.touches[0].clientX},c=h=>{const y=h.changedTouches[0].clientX,N=o.current-y;N>50?n(k=>(k+1)%t.length):N<-50&&n(k=>(k-1+t.length)%t.length)},[d,i]=r.useState(null);let f=r.useRef(null);const[u,w]=r.useState([]),p=J();le();const[v,x]=r.useState([]);r.useEffect(()=>{let h=[...u];t&&(t.map((y,N)=>{N+1<12&&h.push(y)}),x(h))},[t]);const g=h=>{h<(t==null?void 0:t.length)&&(p.setDialog(!0),p.setSelectedSlide(h+1),p.setGallery(t),p.setListing(s))};r.useEffect(()=>{t&&i(t)},[t]);const j=()=>{n(h=>h===0?d.length-1:h-1)},R=()=>{n(h=>h===d.length-1?0:h+1)},E=async()=>{f.current&&clearTimeout(f.current),R(),f.current=setTimeout(()=>{},15e3)},b=async()=>{f.current&&clearTimeout(f.current),j(),f.current=setTimeout(()=>{},15e3)};return r.useEffect(()=>{},[d]),e.jsx(e.Fragment,{children:e.jsxs("div",{className:"relative",children:[e.jsx("div",{className:` w-full h-[300px] md:h-[500px] flex 
          overflow-hidden z-0
          `,children:d==null?void 0:d.map((h,y)=>{var N;return e.jsx("img",{onTouchStart:a,onTouchEnd:c,onMouseDown:k=>g(y),src:((N=C)==null?void 0:N.IMG_BASE_URL)+(h==null?void 0:h.image_url),alt:"",style:{transform:`translateX(-${l*100}%)`},className:`object-cover w-full h-full 
                      block flex-shrink-0 flex-grow-0 transition-transform
                      ease-in-out duration-1000 cursor-pointer`},y)})}),e.jsxs("div",{className:"z-[300]",children:[e.jsx("button",{onMouseDown:b,className:`block absolute top-0 bottom-0 
                                                  z-[300] p-[1rem] cursor-pointer left-0 group h-full 
                                                        transition duration-1000 ease-in-out`,children:e.jsx("div",{className:`w-[50px] h-[50px] bg-white/60 rounded-full 
            place-content-center place-items-center group-hover:bg-white/30
            z-[300] transition duration-500 ease-in-out`,children:e.jsx(we,{className:" stroke-white fill-black w-[2rem] h-[2rem]"})})}),e.jsx("button",{onMouseDown:E,className:`block absolute top-0 bottom-0 
                                                        z-[300]    p-[1rem] cursor-pointer right-0 group 
                                                             transition duration-1000 ease-in-out`,children:e.jsx("div",{className:`w-[50px] h-[50px] bg-white/60 rounded-full 
            flex place-content-center place-items-center group-hover:bg-white/30
            z-[300]   transition duration-500 ease-in-out
            `,children:e.jsx(be,{className:" stroke-white fill-black w-[2rem] h-[2rem]"})})})]})]})})},Ke=({data:t})=>{var c;const[s,l]=r.useState(""),[n,o]=r.useState(!1),a=d=>d.toFixed(1).replace(/\.0$/,"").includes(".");return r.useEffect(()=>{if(t){const d=a(Number(t==null?void 0:t.rating));o(d)}},[t]),r.useEffect(()=>{const d=i=>{i>4.5?l("Excellent"):i>=4&&i<4.5?l("Superb"):i>3.5&&i<4?l("Very Good"):i>2&&i<=3.5?l("Good"):i>1&&i<2?l("Poor"):l("Bad")};(t==null?void 0:t.rating)!==null?d(Number(t==null?void 0:t.rating)):d(0)},[t]),e.jsx("div",{children:e.jsxs("div",{className:"bg-blue-100 w-full px-3 py-3 border border-b-0 rounded-t-md grid grid-cols-2",children:[e.jsxs("div",{className:"block",children:[e.jsx("div",{className:"text-[16px] font-semibold",children:"Category"}),e.jsx("div",{className:"text-sm capitalize line-clamp-1",children:(c=je((t==null?void 0:t.category)||""))==null?void 0:c.name})]}),e.jsxs("div",{className:"flex place-content-between gap-x-1.5",children:[e.jsxs("div",{className:"text-right w-full flex flex-col place-content-center",children:[e.jsx("div",{className:"text-base font-semibold",children:(t==null?void 0:t.ratingCount)===0?"No reviews yet":s}),e.jsxs("div",{className:"text-sm",children:[W(Number(t==null?void 0:t.ratingCount))," review",Number(t==null?void 0:t.ratingCount)>1?"s":""]})]}),e.jsx("div",{className:"",children:e.jsx("div",{className:`bg-blue-950 h-[40px] w-[40px] rounded-md text-white flex place-items-center place-content-center ${n?"text-[26px]":"text-[36px]"}`,children:W(Number(t==null?void 0:t.rating))})})]})]})})},Xe=({listing:t})=>{const[s,l]=r.useState("user");return r.useEffect(()=>{const n=async o=>{await Ne(o).then(a=>{l(a.role)})};t!=null&&t.owner&&n(t==null?void 0:t.owner)},[t]),e.jsx(e.Fragment,{children:s==="admin"&&e.jsx("div",{className:" md:mt-0 ",children:e.jsxs("div",{className:"px-3  border border-t-0  rounded-b-xl shadow-lg rounded-t-none  underline-offset-2  bg-blue-100 mx-[0px] md:mx-[0px] mb-[40px] md:mb-[40px] divide-y-1 divide-gray-600",children:[e.jsx("a",{href:"/web/contact",children:e.jsx("div",{className:"text-[15px] text-center  py-[10px] ",children:"Is this your business? Claim it for free!"})}),e.jsx("div",{className:"border-b-[1px] border-gray-50/20"}),e.jsx("a",{href:"/web/contact",children:e.jsx("div",{className:"text-[12px] text-center underline py-[10px]",children:"Request removal."})})]})})})};function ce({rating:t}){return e.jsx("div",{className:"flex gap-x-[3px]",children:Array.from({length:5}).map((s,l)=>{const n=Math.max(0,Math.min(1,t-l))*100;return e.jsxs("div",{className:`relative w-[20px] h-[20px] ${t>0?"bg-blue-500":"bg-gray-200"} rounded 
                            overflow-hidden flex place-items-center
                            place-content-center`,children:[e.jsx("div",{className:"absolute inset-0 bg-green-400  z-[0]",style:{width:`${n}%`}}),e.jsx(ge,{className:`relative z-[0] w-[14px] h-[14px] ${t>0?"text-black":"text-red-500"}`,fill:"currentColor"})]},l)})})}const Je=[{url:"https://youtu.be/fxbCHn6gE3U?si=GneGFZachbQdDEIO",title:"The surprising habits of original thinkers"},{url:"https://youtu.be/eHJnEHyyN1Y?si=aHRmeH67S227uGtr",title:"6 Tips on Being a Successful Entrepreneur"},{url:"https://youtu.be/1tRTWwZ5DIc?si=j6fNumMdLx5M16_H",title:"The INSANE Rise of NVIDIA: From Bankruptcy to $4 Trillion?"},{url:"https://www.youtube.com/watch?v=P6FORpg0KVo",title:"How to Make Learning as Addictive as Social Media"},{url:"https://www.youtube.com/watch?v=JpYA7WXkHyI",title:"How to be a creative thinker"},{url:"https://www.youtube.com/watch?v=JpYA7WXkHyI",title:"How to be a creative thinker"},{url:"https://www.youtube.com/watch?v=JpYA7WXkHyI",title:"How to be a creative thinker"},{url:"https://www.youtube.com/watch?v=JpYA7WXkHyI",title:"How to be a creative thinker"}],Ve=({videoGallery:t,listing:s})=>{const[l,n]=r.useState(null),[o,a]=r.useState(Je),[c,d]=r.useState(!1),[i,f]=r.useState(null),u=te();r.useEffect(()=>{(async x=>{let g=[];x==null||x.map((j,R)=>{const E=/(?:youtube\.com\/(?:[^\/]+\/.+\/|(?:v|e(?:mbed)?)\/|.*[?&]v=)|youtu\.be\/)([^"&?\/\s]{11})/,b=j.video_url.match(E);let h=b?b[1]:null,y=`https://img.youtube.com/vi/${h}/0.jpg`,N={videoId:h,videoUrl:j.video_url,videoTitle:j.video_title,videoThumbnail:y,videoGuid:j.video_guid};g.push(N)}),n(g)})(t)},[t]);const w=v=>{f(v),d(!0)},p=v=>{u.setDialog(!0),u.setSelectedSlide(v+1),u.setGallery(t),u.setListing(s)};return e.jsxs("div",{className:" ",id:"video",children:[e.jsx(Ye,{setOpen:d,open:c,currentVideo:i}),e.jsx(qe,{outVideo:l,handleOpen:w,showCarousel:p,listing:s})]})},Ye=({currentVideo:t,setOpen:s,open:l})=>{const n=()=>{const o=document.getElementById("yt-iframe");o.src=o.src,s(!1)};return e.jsxs("div",{className:` ${l?"fixed":"hidden"} z-[20010] top-[0px] left-[0px] w-full h-full bg-black/90`,children:[e.jsx("div",{className:"absolute bg-black w-[40px] h-[40px] z-20 rounded-full text-white flex place-items-center place-content-center mt-20 ml-5 hover:cursor-pointer",onClick:()=>{n()},children:e.jsx(ye,{})}),e.jsx("div",{className:" relative w-full h-full",children:e.jsx("iframe",{id:"yt-iframe",src:`${l?`https://www.youtube.com/embed/${t==null?void 0:t.videoId}`:""}`,className:"absolute top-0 left-0 w-full h-full",allow:"accelerometer; autoplay; clipboard-write; encrypted-media; gyroscope; picture-in-picture"})})]})},qe=({outVideo:t,handleOpen:s,showCarousel:l,listing:n})=>{const[o,a]=r.useState(!1),[c,d]=r.useState(150),[i,f]=r.useState(90),u=r.useRef(null),[w,p]=r.useState(null);te();const[v,x]=r.useState([]),g=6;r.useEffect(()=>{if(t){const E=t.length>g?t.slice(0,g):t;x(E)}},[t]);const j=()=>{u.current&&u.current.scrollBy({left:-300,behavior:"smooth"})},R=()=>{u.current&&u.current.scrollBy({left:300,behavior:"smooth"})};return e.jsx("div",{className:"px-[10px] mt-6 mb-5",children:e.jsxs("div",{className:"relative w-full max-w-[1100px] mx-auto",children:[e.jsx(Ze,{outVideo:t,openGallery:o,setOpenGallery:a,handleOpen:s,showCarousel:l,listing:n}),e.jsx("div",{ref:u,className:"w-full px-0 py-0 mt-3 relative flex flex-1 overflow-x-auto bottom-scrollbar-hidden",children:e.jsxs("div",{className:"flex gap-x-3",id:"videobar",children:[Array.isArray(v)&&Array.from({length:g},(E,b)=>{var h,y,N,k;return e.jsx("div",{children:b<g&&b<(v==null?void 0:v.length)?e.jsx("div",{className:` w-[${c}px] min-w-[${c}px] relative z-[30] hover:cursor-pointer border  rounded-none overflow-hidden hover:bg-white/50`,onClick:()=>l(b),children:e.jsxs("div",{className:`relative w-full h-[${i}px]   z-[20]`,children:[e.jsx("div",{className:"absolute top-0 left-0 w-full h-full bg-transparent  z-[300000] hover:bg-white/40",children:e.jsx(Se,{size:20,className:"text-white absolute top-0.5 right-1 "})}),e.jsx("img",{src:(h=v[b])==null?void 0:h.videoThumbnail,alt:(y=v[b])==null?void 0:y.videoTitle,className:"object-cover w-full h-full"}),e.jsx("div",{className:" block w-full absolute z-[30] text-white bottom-0 px-2 py-[5px] bg-black/80 ",children:e.jsx("div",{className:"w-full text-white bottom-0  ",children:e.jsx("div",{className:" text-[12px] leading-[1.2em] line-clamp-2",children:(N=v[b])==null?void 0:N.videoTitle})})})]})},(k=v[b])==null?void 0:k.videoGuid):e.jsx("div",{className:`w-[${c}px] h-full border rounded-none flex place-items-center place-content-center hover:cursor-pointer hover:bg-black/50 bg-gray-900 `,onClick:()=>{a(!0)},children:e.jsx("div",{className:"text-white/60 w-[85%] text-center rounded-md h-[75%] border border-dashed border-gray-200/50 flex place-items-center place-content-center text-[23px]",children:e.jsx(_e,{})})})},b)}),e.jsx("div",{className:`w-[${c}px] h-full border border-gray-500 rounded-none flex place-items-center place-content-center hover:cursor-pointer hover:bg-black/50 bg-black`,onClick:()=>{a(!0)},children:e.jsx("div",{className:"text-white w-1/2 text-center rounded",children:"All Videos"})})]})}),e.jsx("div",{className:"absolute text-white top-1/2 -translate-y-1/2 left-2 w-[40px] min-w-[40px] h-[40px] bg-black/50 hover:bg-white/70 hover:text-black flex place-content-center place-items-center hover:cursor-pointer border-[1px] border-gray-400 rounded z-[50]",onClick:()=>{j()},children:e.jsx(ke,{})}),e.jsx("div",{className:"absolute text-white top-1/2 -translate-y-1/2 right-2 w-[40px] min-w-[40px] h-[40px] bg-black/50 hover:bg-white/70 hover:text-black flex place-content-center place-items-center hover:cursor-pointer border-[1px] border-gray-400 rounded z-[50]",onClick:()=>{R()},children:e.jsx(Ee,{})})]})})},Ze=({outVideo:t,openGallery:s,setOpenGallery:l,handleOpen:n,showCarousel:o,listing:a})=>e.jsx(e.Fragment,{children:s&&e.jsxs("div",{onMouseDown:c=>l(!1),className:`flex w-screen h-screen bg-black/40 
                        z-[20000] fixed top-0 left-0 right-0 bottom-0
                        place-items-center place-content-center px-[15px]`,children:[e.jsx("div",{onMouseDown:c=>c.stopPropagation(),className:`min-w-[95%] w-[95%] sm:w-[95%] md:w-[80%] h-[80%] max-h-[80%] 
                            mx-auto bg-white rounded-lg shadow-lg shadow-black/50 
                            space-y-6 z-[3100] overflow-hidden`,children:e.jsxs("div",{className:"w-full h-full",children:[e.jsx("div",{className:"border-b py-3 px-3",children:e.jsxs("div",{className:`font-bold text-gray-700
                                    text-xl w-[80%]  truncate`,children:["Gallery for ",a==null?void 0:a.title]})}),e.jsx("div",{className:` 
                                h-full overflow-y-auto pt-2 px-2 pb-2
                                bg-white `,children:e.jsx("div",{className:"grid grid-cols-4 md:grid-cols-6 gap-2",children:Array.isArray(t)&&(t==null?void 0:t.map((c,d)=>e.jsxs("div",{className:"mb-2",onClick:()=>{o(d)},children:[e.jsx("div",{className:`relative hover:cursor-pointer
                                                  h-[80px] md:h-[100px] lg:h-[120px] rounded-md bg-black
                                                 overflow-hidden border-[5px] border-gray-200`,children:e.jsx("img",{className:"object-cover w-full h-full",src:c==null?void 0:c.videoThumbnail,alt:""})}),e.jsx("div",{className:"mx-[2px] text-[13px] leading-[1.2em] line-clamp-2 mt-[3px]",children:c==null?void 0:c.videoTitle})]},d)))})})]})}),e.jsx("div",{onMouseDown:()=>l(!1),className:`w-[50px] h-[50px] z-[300] bg-white
                                flex place-content-center place-items-center
                                rounded-full absolute left-2 top-2 cursor-pointer
                                hover:bg-white/40 transition duration-1000 ease-in-out`,children:e.jsx(Q,{className:"text-[30px]"})})]})}),Qe=({listing:t,images:s,ratingsData:l,videoGallery:n,products:o,profileImageData:a,reportTime:c})=>{const[d,i]=r.useState(null),[f,u]=r.useState(void 0),[w,p]=r.useState(null);return r.useEffect(()=>{t&&p(t)},[t]),r.useEffect(()=>{t&&l&&i({totalReviews:0,category:t==null?void 0:t.category,rating:l.rating_average,ratingCount:l.rating_count})},[t,l]),r.useEffect(()=>{t&&c&&u(c)},[t,c]),e.jsxs("div",{className:"mt-5",children:[e.jsx("div",{className:"px-[15px] w-full",children:e.jsxs("div",{className:"max-w-[1100px] w-full mx-auto bg-white",children:[l&&e.jsxs("div",{className:"mt-4 flex gap-2 place-items-center",children:[e.jsx(ce,{rating:Number(l==null?void 0:l.rating_average)}),e.jsxs("div",{className:`flex place-items-center place-content-center
                                    gap-1 text-black/60 text-[14px]`,children:[e.jsx("div",{children:W(Number(l==null?void 0:l.rating_average))}),e.jsxs("div",{children:["(",e.jsxs("span",{className:"underline",children:[W(l==null?void 0:l.rating_count)," reviews"]}),")"]})]})]}),t&&a&&e.jsx(Ue,{listing:t,profileImageData:a,operatingHoursStatus:f,ratingsData:l})]})}),(n==null?void 0:n.length)>0&&e.jsx(Ve,{videoGallery:n,listing:t}),(s==null?void 0:s.length)>0&&t&&e.jsx("div",{className:`bg-black h-fit md:hidden
                            mt-4`,children:e.jsx(He,{images:s,listing:t})}),e.jsx("div",{className:" md:pt-4 md:px-[12px]",children:e.jsx("div",{className:"max-w-[1100px] w-full mx-auto bg-white",children:e.jsx("div",{className:`grid grid-cols-12 gap-0 md:gap-4 relative
                    `,children:e.jsxs("div",{className:" col-span-12 lg:col-span-8",children:[e.jsx("div",{className:"hidden md:block mt-0",children:Array.isArray(s)&&(s==null?void 0:s.length)>0&&t&&e.jsx(Oe,{images:s,listing:t})}),e.jsx("div",{className:"",children:e.jsxs("div",{className:`lg:hidden ${(s==null?void 0:s.length)<=0&&"mt-5"}  md:mt-0 mb-5`,children:[d!==null&&e.jsx(Ke,{data:d}),w!==null&&e.jsx(Fe,{businessProfile:w}),w!==null&&e.jsx(Xe,{listing:w})]})})]})})})})]})},Pe=({title:t,subtitle:s})=>e.jsxs("div",{className:"mb-6 border-b pb-4 -space-y-1",children:[e.jsx("div",{className:`text-[19px] font-bold
                `,children:t}),e.jsx("div",{className:"text-sm ",children:s})]}),et=({title:t,subtitle:s,category:l,limit:n})=>{const[o,a]=r.useState(""),[c,d]=r.useState(""),[i,f]=r.useState([]),[u,w]=r.useState(""),p="https://pics.gasimg.com";r.useEffect(()=>{t&&s&&(a(t),d(s))},[t,s]);let v=async(x,g)=>{if(g&&x){let j=await Ce(x,g);f(j)}};return r.useEffect(()=>{n&&l&&v(l,n)},[n,l]),e.jsx("div",{className:"px-[15px]",children:e.jsx("div",{className:"max-w-[1100px] mx-auto w-full",children:e.jsxs("div",{className:"mt-10 border-t pt-5",children:[e.jsx("div",{className:" mb-[20px] ",children:e.jsx(Pe,{title:o,subtitle:c})}),e.jsx("div",{className:"grid grid-cols-2 md:grid-cols-3 lg:grid-cols-4 gap-x-3 gap-y-4",children:Array.isArray(i)&&(i==null?void 0:i.map((x,g)=>{let j="";return x!=null&&x.username?j=x==null?void 0:x.username:j=x==null?void 0:x.gid,e.jsxs("div",{children:[e.jsx("div",{children:e.jsx(de,{to:`/${j}`,children:e.jsx("div",{className:"relative h-[120px] rounded-lg md:h-[180px] overflow-hidden",children:e.jsx("img",{className:`object-cover w-full h-full
                                                    text-sm`,src:x!=null&&x.image_url?p+(x==null?void 0:x.image_url):"images/placeholder.gif",alt:x.title})})})}),e.jsx("div",{className:`mt-1 text-[15px] tracking-tight 
                                     truncate`,children:x.title}),e.jsx("div",{className:"mt-1",children:e.jsx(ce,{rating:x.avg_rating})}),e.jsx("div",{className:`text-[11px] mt-[5px] tracking-tight line-clamp-3
                                    leading-[1.2em]`,children:x.short_description})]},j)}))})]})})})},tt=()=>e.jsx("div",{className:"flex place-content-center place-items-center w-full min-h-[700px] text-[13px] flex-col space-y-4",children:e.jsxs("div",{className:`flex place-content-center place-items-center gap-3
                h-[40px]`,children:[e.jsx("div",{className:`text-2xl font-bold text-red-600 h-full
                    flex place-items-center`,children:"404"}),e.jsx("div",{className:"h-full w-[2px] border-r"}),e.jsxs("div",{className:`text-black text-[14px]
                    h-full flex place-items-center space-x-2`,children:[e.jsx("span",{children:"Resource not found."}),e.jsx("button",{onClick:()=>{window.history.back()},className:"underline",children:"Go back"})]})]})});function st(){const[t,s]=r.useState(navigator.onLine);return r.useEffect(()=>{const l=()=>s(navigator.onLine);return window.addEventListener("online",l),window.addEventListener("offline",l),()=>{window.removeEventListener("online",l),window.removeEventListener("offline",l)}},[]),t}const Nt=({data:t})=>{try{const s=t==null?void 0:t.listing,l=t==null?void 0:t.profileImageData;let n="";(l==null?void 0:l.image_url)===""||(l==null?void 0:l.image_url)===null||(l==null?void 0:l.image_url)===void 0?n=`${C.BASE_URL}/images/abstract_placeholder.jpg`:n=C.IMG_BASE_URL+(l==null?void 0:l.image_url);const o=l==null?void 0:l.mimetype,c=(d=>{var u,w;if(d==null||d==="")return null;const i=d.replace(/&/g,",");return(w=(u=i==null?void 0:i.split(","))==null?void 0:u.map(p=>p.trim()))==null?void 0:w.filter(p=>p.length>0)})((s==null?void 0:s.business_phrases)||null);return[{title:(s==null?void 0:s.title)||"Garssete Inc."},{name:"description",content:s==null?void 0:s.short_description},{name:"keywords",content:c},{property:"fb:app_id",content:"1325393508603168"},{property:"og:url",content:(s==null?void 0:s.website)||"https://garssete.com"},{property:"og:type",content:"website"},{property:"og:title",content:(s==null?void 0:s.title)||"Garssete.com"},{property:"og:description",content:s==null?void 0:s.short_description},{property:"og:image",content:n},{property:"og:image:secure_url",content:n},{property:"og:image:type",content:o},{property:"og:image:width",content:"200"},{property:"og:image:alt",content:(s==null?void 0:s.title)||"Garssete"},{name:"twitter:creator",content:"garssete"},{name:"twitter:card",content:"summary_large_image"},{name:"twitter:title",content:(s==null?void 0:s.title)||"Garssete Directory Listing"},{name:"twitter:description",content:s==null?void 0:s.short_description}]}catch(s){Re(s)}return[]},gt=()=>{const[t,s]=r.useState(!0),l=st();r.useEffect(()=>{s(l)},[l]);const n=ie();let o,a=null,c,d=null,i=null,f,u;return o=n.listing,a=n.gallery,c=n.ratingsData,d=n.videoGallery,i=n.products,f=n.profileImageData,u=n.reportTime,e.jsx($e,{children:e.jsx(Be,{children:e.jsxs(Ae,{children:[e.jsx(Le,{}),!t&&e.jsx("div",{className:"bg-pink-100 w-full text-center py-2",children:"Possible no internet connection. Check to reconnect."}),(o==null?void 0:o.gid)!==null&&(o==null?void 0:o.gid)!==void 0&&a&&c&&d&&i&&f&&u&&e.jsx(Qe,{listing:o,images:a,ratingsData:c,videoGallery:d,products:i,profileImageData:f,reportTime:u}),(o==null?void 0:o.category)!==void 0?e.jsx(et,{category:o==null?void 0:o.category,limit:6,title:`Related: ${o==null?void 0:o.category}`,subtitle:"Related based on the same category."}):e.jsx(tt,{}),e.jsx(Te,{}),e.jsx(Me,{}),e.jsx(Ge,{})]})})})};export{gt as default,Nt as meta};
