import{j as e}from"./jsx-runtime-0DLF9kdB.js";import{r,L as D,c as ie}from"./components-DN9bEK-g.js";import{I as pe,q as ue,r as je,s as ve,t as se,g as fe,B as Ne,a as we}from"./index-BuMB8ucW.js";import{u as q}from"./SliderContext-sdzMhloI.js";import{u as ae}from"./AuthContext-Bd05mLB0.js";import{u as ge,s as be,z as F}from"./index-CORT_df8.js";import{u as ce}from"./NotificationContext-DQtpxZot.js";import{v as T,f as g,C as ye,D as _e,E as Z,H as Se,I as ke,J as Re,K as Ee,L as Le,M as Be,N as Ge,y as z,z as Ce}from"./lib-DkU1NRFm.js";import{e as Ie,f as Me,g as De,h as Ae,i as $e,j as Fe,k as Ue}from"./MobileNav-D7FcM9wJ.js";import{L as ze,F as Te}from"./LatestStarRating-s-ndiZUe.js";import{G as We}from"./GenericNav-Mqvxe3OL.js";import{H as Ke}from"./HomeNav-sGChEP8Q.js";import"./WhiteLogo-D0_DZqmS.js";const le=r.createContext(null);function re(){return r.useContext(le)}const Ve=({children:t})=>{const[a,s]=r.useState(!1),[l,m]=r.useState(null),d=q(),[n,c]=r.useState(null),h="https://tynkpro.com",u=()=>s(!1);let i={setShow:s,setGallery:m,setListing:c};const N=x=>{d.setDialog(!0),d.setSelectedSlide(x+1),d.setGallery(l)};return r.useEffect(()=>{const x=f=>{f.key==="Escape"&&u()};return a&&document.addEventListener("keydown",x),()=>{document.removeEventListener("keydown",x)}},[a]),e.jsxs(le.Provider,{value:i,children:[a&&e.jsxs("div",{onMouseDown:x=>s(!1),className:`flex w-screen h-screen bg-black/40 
                        z-[3000] fixed top-0 left-0 right-0 bottom-0
                        place-items-center place-content-center px-[15px]`,children:[e.jsx("div",{onMouseDown:x=>x.stopPropagation(),className:`w-[95%] sm:w-[95%] md:w-[80%] max-h-[80%] mx-auto
                         bg-white rounded-lg shadow-lg shadow-black/50 space-y-6
                         z-[3100] overflow-hidden`,children:e.jsxs("div",{className:"w-full h-full",children:[e.jsx("div",{className:"border-b py-3 px-3",children:e.jsxs("div",{className:`font-bold text-gray-700
                                    text-xl w-[80%]  truncate`,children:["Gallery for ",n&&(n==null?void 0:n.title)]})}),e.jsx("div",{className:`grid grid-cols-4 md:grid-cols-6 gap-2 
                                h-full overflow-y-auto pt-2 px-2 pb-2
                                bg-gray-800 `,children:l&&(l==null?void 0:l.map((x,f)=>e.jsx("div",{onClick:()=>N(f),className:`relative hover:cursor-pointer
                                                 bg-red-200 h-[80px] md:h-[100px] lg:h-[120px] rounded-md
                                                 overflow-hidden`,children:e.jsx("img",{className:"object-cover w-full h-full",src:h+x.image_url,alt:""})})))})]})}),e.jsx("div",{onMouseDown:()=>u(),className:`w-[50px] h-[50px] z-[300] bg-white
                                flex place-content-center place-items-center
                                rounded-full absolute left-2 top-2 cursor-pointer
                                hover:bg-white/40 transition duration-1000 ease-in-out`,children:e.jsx(pe,{className:"text-[30px]"})})]}),t]})},U=100,ne=r.createContext(null);function Xe(){return r.useContext(ne)}const qe=F.object({fullname:F.any(),rating:F.any(),comment:F.any()});function He({children:t}){var O,J,Y;const[a,s]=r.useState(!1),[l,m]=r.useState(!1),[d,n]=r.useState(null),[c,h]=r.useState(void 0),[u,i]=r.useState(""),N=ce(),[x,f]=r.useState(5),y=ae();if(!y)return null;let{user:E}=y;const[M,L]=r.useState(null),[B,_]=r.useState(!1),p=o=>o.trim()===""?0:o.trim().split(/\s+/).length,w=o=>{let j=o.target.value,R=o.target.name;L(C=>({...C,[R]:j}))},{register:b,handleSubmit:k,getValues:W,setValue:G,watch:A,reset:$,setError:K,formState:{errors:S,isSubmitting:V}}=ge({resolver:be(qe)}),v=o=>{const j=o.target.value,R=j.trim().split(/\s+/);if(R.length<=U)G("text",j),_(!1);else{_(!0);const C=R.slice(0,U).join(" ");G("text",C)}},X=async o=>{N.notify("Working..."),await new Promise(I=>setTimeout(I,1e3));const j=E.guid,R=d.gid;o.user_guid=j,o.business_guid=R;const me="https://tynk.cc"+"/api/rating";try{const I=await fetch(me,{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify(o)}),he=await I.json();I.ok?N.alert("Success","Rating submitted successfully!"):N.alert("Error",he.error)}catch(I){N.alert("",I.message)}};let oe={show:a,setShow:s,setListing:n,reset:$,setRatingData:h,validateData:async(o,j)=>{if((o==null?void 0:o.length)===0){let R=(j==null?void 0:j.first_name)||"",C=(j==null?void 0:j.last_name)||"",Q=R+" "+C;G("fullname",Q)}}};const de=A("text")||"",xe=o=>{de.trim().split(/\s+/).length>=U&&o.key!=="Backspace"&&o.key!=="Delete"&&!o.ctrlKey?(o.preventDefault(),_(!0)):_(!1)};return r.useEffect(()=>{const o=j=>{j.key==="Escape"&&s(!1)};return a&&document.addEventListener("keydown",o),()=>{document.removeEventListener("keydown",o)}},[a]),e.jsxs(ne.Provider,{value:oe,children:[a&&e.jsx("div",{className:`flex w-screen h-screen bg-black/40 z-[3000] 
                fixed top-0 left-0 right-0 bottom-0 place-items-center place-content-center`,children:e.jsxs("div",{className:"w-[450px] h-fit mx-auto p-6 bg-white rounded-xl shadow-md space-y-6",children:[e.jsx("h2",{className:"text-xl font-bold",children:"Create/Edit Rating"}),e.jsxs("form",{onSubmit:k(X),className:"space-y-4",children:[e.jsxs("div",{children:[e.jsx("label",{className:"block mb-1 text-sm font-semibold",children:"Full Name"}),e.jsx("input",{...b("fullname",{onChange:w}),type:"text",className:`w-full px-3 py-2 border rounded-md
                                        text-sm`,placeholder:"Enter Business GUID"}),((O=S.fullname)==null?void 0:O.message)&&e.jsx("div",{className:"text-red-500 mt-1 text-sm",children:S.fullname.message.toString()})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block mb-1 text-sm font-semibold",children:"Stars"}),e.jsx("select",{...b("rating",{onChange:o=>{f(Number(o.target.value)),w(o)}}),className:`w-full px-3 py-2 border rounded-md
                                        text-sm`,children:[5,4,3,2,1].map(o=>e.jsxs("option",{value:o,children:[o," Star",o>1?"s":""]},o))}),((J=S.rating)==null?void 0:J.message)&&e.jsx("div",{className:"text-red-500 mt-1 text-sm",children:S.rating.message.toString()})]}),e.jsxs("div",{children:[e.jsxs("div",{className:"flex place-content-between",children:[e.jsx("label",{className:"block mb-1 text-sm font-semibold",children:"Comment"}),e.jsxs("label",{className:" text-gray-600 text-sm",children:["Word Count: ",e.jsx("strong",{children:p(u)})]})]}),e.jsx("textarea",{...b("comment",{onChange:o=>{p(u)<=U?(i(o.target.value),v(o),w(o)):o.preventDefault()}}),onKeyDown:xe,className:`w-full px-3 py-2 border rounded-md 
                                        text-sm`,placeholder:"Write your review...",rows:4}),B&&e.jsx("div",{className:"text-red-500 mt-0 text-sm",children:"Maximum maximumWords words allowed."}),((Y=S.comment)==null?void 0:Y.message)&&e.jsx("div",{className:"text-red-500 mt-0 text-sm",children:S.comment.message.toString()})]}),e.jsxs("div",{className:"w-full grid grid-cols-2 gap-2",children:[e.jsx("button",{onClick:()=>s(!1),className:`w-full bg-red-200 rounded-md
                                        hover:bg-red-100 text-sm`,children:"Close"}),e.jsx("button",{type:"submit",disabled:l,className:`w-full bg-blue-600 text-white py-2 
                                        rounded-md hover:bg-blue-700 text-sm`,children:l?"Submitting...":"Submit Rating"})]})]})]})}),t]})}const Oe=({listing:t})=>e.jsxs(e.Fragment,{children:[e.jsx("div",{className:`text-[19px] md:text-[24px]
                font-bold mt-[5px] leading-[1.2em] border-b pb-1`,children:t==null?void 0:t.title}),e.jsxs("div",{className:"text-[13px] mt-1.5 leading-[1.2em]",children:[t!=null&&t.address_one?`${t==null?void 0:t.address_one}, `:"",t!=null&&t.address_two?`${t==null?void 0:t.address_two}, `:"",t!=null&&t.city_name?`${t==null?void 0:t.city_name}, `:"",t!=null&&t.state_name?`${t==null?void 0:t.state_name}, `:"",t==null?void 0:t.country_name]})]}),Je=({listing:t})=>{const[a,s]=r.useState("");return r.useEffect(()=>{t.gid&&T(t.gid).then(m=>{s(g.IMG_BASE_URL+m.image_url)})},[t]),e.jsxs("div",{className:"mt-12",children:[e.jsx("div",{className:"font-bold text-lg border-b",children:"About this business"}),e.jsxs("div",{className:`flex place-items-start place-content-start
                gap-2 mt-4 mb-3`,children:[e.jsx("div",{className:`rounded-full bg-black w-[30px] h-[30px]
                    overflow-hidden relative`,children:e.jsx("img",{className:"object-cover w-full h-full",src:a,alt:""})}),e.jsxs("div",{className:"flex flex-col",children:[e.jsx("div",{className:"text-md font-bold tracking-tight leading-[1.2em]",children:t.title}),e.jsx("div",{className:"text-[12px] capitalize",children:t.category})]})]}),e.jsx("div",{className:"flex flex-col gap-y-5 text-[14px] mt-4 whitespace-pre-wrap",children:t==null?void 0:t.long_description})]})},Ye=({listing:t})=>{const a=Xe(),{user:s}=ae(),l=ce();r.useEffect(()=>{t!=null&&t.gid&&(s!=null&&s.guid)&&(a.setListing(t),ye(s.guid,t.gid).then(n=>{(n==null?void 0:n.length)!==0?(a.reset(n),a.setRatingData(n)):a.validateData(n,s)}))},[t,s]);const m=n=>{n?(l.cancel(),window.location.href="/signin"):l.cancel()},d=()=>{(s==null?void 0:s.guid)===null||(s==null?void 0:s.guid)===void 0?l.confirm("Login to continue",m):a.setShow(!0)};return e.jsx("div",{className:"w-full mt-0 ",children:e.jsx("div",{className:"",children:e.jsx("button",{onClick:()=>d(),className:`bg-blue-500 text-white flex flex-col
                items-center pt-[2px] pb-[3px] w-full `,children:"Write Review"})})})},P=({businessProfile:t})=>e.jsx("div",{className:"w-full",children:e.jsxs("div",{className:`  md:bg-white
            md:rounded overflow-hidden pt-[30px]
            pb-[15px] bg-[blue]/0 text-black md:black
            md:text-black  border-[1px] border-gray-300/70`,children:[e.jsx("div",{className:`font-bold text-[15px] pb-2 
                   px-[20px]`,children:"Property Address"}),e.jsx("div",{className:"h-[25px]"}),e.jsxs("div",{className:`grid grid-cols-1 md:grid-cols-3 lg:grid-cols-1 
                text-[14px]  tracking-tight
                md:space-x-4 lg:space-x-0 md:text-black/80 font-sans
                `,children:[e.jsxs("div",{className:"px-[20px] space-y-4 lg:space-y-4",children:[e.jsx("div",{className:" w-full",children:e.jsxs("div",{className:"grid grid-cols-12",children:[e.jsx("div",{className:"col-span-1 ",children:e.jsx(ue,{className:"text-[20px]"})}),e.jsxs("div",{className:`col-span-11 leading-[1.2em] ml-2
                            text-[12px]`,children:[(t==null?void 0:t.address_one)+", ",(t==null?void 0:t.address_two)!==null?(t==null?void 0:t.address_two)+", ":"",(t==null?void 0:t.city_name)!==null?(t==null?void 0:t.city_name)+", ":"",(t==null?void 0:t.state_name)!==null?(t==null?void 0:t.state_name)+", ":"",(t==null?void 0:t.zipcode)!==null?(t==null?void 0:t.zipcode)+", ":"",t==null?void 0:t.country_name]})]})}),e.jsx("div",{className:"  w-full",children:e.jsx(D,{to:`tel:${t==null?void 0:t.phone}`,children:e.jsxs("div",{className:"grid grid-cols-12",children:[e.jsx("div",{className:"col-span-1",children:e.jsx(je,{className:"text-[20px]"})}),e.jsx("div",{className:`col-span-11 leading-[1.2em] ml-2
                                    text-[12px]`,children:t==null?void 0:t.phone})]})})}),e.jsx("div",{className:"  w-full",children:e.jsx(D,{to:`${t==null?void 0:t.website}`,children:e.jsxs("div",{className:"grid grid-cols-12",children:[e.jsx("div",{className:`col-span-1 relative top-0
                            `,children:e.jsx(ve,{className:"text-[22px]"})}),e.jsx("div",{className:`col-span-11 leading-[1.2em] ml-2 top-0
                            flex place-items-center text-[12px]`,children:"Website"})]})})}),e.jsx("div",{className:"  w-full",children:e.jsx(D,{to:`mailto:${t==null?void 0:t.email_address}`,children:e.jsxs("div",{className:"grid grid-cols-12",children:[e.jsx("div",{className:`col-span-1 relative top-0
                            `,children:e.jsx(se,{className:"text-[20px]"})}),e.jsx("div",{className:`col-span-11 leading-[1.2em] ml-2 top-0
                            flex place-items-center text-[12px]`,children:"Email Address"})]})})})]}),e.jsx("div",{children:e.jsx("div",{className:`bg-blue-500 mt-[40px] mx-[15px]
                        text-white text-center py-2 rounded`,children:t&&e.jsx(Ye,{listing:t})})})]})]})}),Qe=({listing:t})=>{const[a,s]=r.useState(void 0);return r.useEffect(()=>{_e(t.gid).then(l=>{s(l)})},[t.business_guid]),e.jsxs("div",{className:" mt-12",children:[e.jsx("div",{className:" font-bold text-xl border-b",children:"Features"}),e.jsx("div",{className:"grid grid-cols-2 gap-4 mt-3",children:a==null?void 0:a.map((l,m)=>e.jsxs("div",{className:"flex flex-col",children:[e.jsx("div",{className:"font-bold",children:l.name}),e.jsx("div",{className:`text-sm mt-[-2px] text-black
                                    tracking-normal leading-snug`,children:l.user_description||l.description})]},m))})]})},Ze=({listing:t})=>e.jsxs("div",{className:"mt-4",children:[e.jsx("div",{className:"text-lg font-bold",children:"Intro"}),e.jsx("div",{className:" text-[14px] flex flex-col gap-y-4 whitespace-pre-wrap",children:t.short_description})]}),ee=({rating:t=3.5,maxStars:a=5})=>{const s=[];for(let l=1;l<=a;l++)l<=t?s.push(e.jsx("span",{className:"text-yellow-500 text-lg",children:e.jsx(Ie,{})},l)):s.push(e.jsx("span",{className:"text-yellow-500 text-lg",children:e.jsx(Me,{})},l));return e.jsxs("div",{className:" flex w-full place-items-center gap-2 mt-0",children:[e.jsx("div",{className:"flex  gap-x-[3px] -mt-[2px]",children:s}),e.jsx("div",{className:"text-gray-400",children:e.jsx(fe,{className:"text-[15px] text-yellow-400"})}),e.jsxs("div",{className:" text-sm",children:["Rating: ",Number(t).toFixed(0)]})]})},Pe=({listing:t})=>{const[a,s]=r.useState([]),[l,m]=r.useState({});return r.useEffect(()=>{const d=async c=>{c&&await Se(c).then(h=>{s(h)})},n=async c=>{c&&await ke(c).then(h=>{m(h)})};t.gid&&(d(t.gid),n(t.gid))},[t]),e.jsxs("div",{className:"mt-12",children:[e.jsx("div",{className:"text-xl font-bold",children:"Reviews"}),e.jsxs("div",{className:"-mt-1 text-[14px] flex flex-col -gap-y-1 font-light",children:[e.jsx("div",{className:"font-bold",children:"Overall Rating:"}),l&&e.jsx(ee,{rating:l==null?void 0:l.rating_average})]}),e.jsx("hr",{className:"mt-3"}),e.jsx("div",{className:"flex flex-col gap-y-4 divide-y-[1px]",children:a!==null&&(a==null?void 0:a.map((d,n)=>e.jsxs("div",{className:"pt-7 pb-4",children:[e.jsxs("div",{className:"flex place-items-start gap-2",children:[e.jsx("div",{className:`w-[30px] h-[30px] rounded-full
                                        bg-black overflow-hidden`,children:e.jsx("img",{src:g.IMG_BASE_URL+d.image_url,alt:""})}),e.jsxs("div",{className:"flex flex-col",children:[e.jsx("div",{className:"text-sm font-bold",children:d.fullname}),e.jsx("div",{className:"text-[12px]",children:`${d==null?void 0:d.city_name}, ${d==null?void 0:d.state_name}`}),e.jsx("div",{className:"text-[12px]",children:`${d==null?void 0:d.country_name}`})]})]}),e.jsxs("div",{className:"mt-2",children:[e.jsx("div",{children:e.jsx(ee,{rating:d.rating})}),e.jsxs("div",{className:"text-[12px] flex gap-1 place-items-center",children:[e.jsx("b",{children:"Created at:"}),e.jsx("span",{className:"text-[12px]",children:Z(d.created_at)})]}),e.jsxs("div",{className:"text-[12px] flex gap-1 place-items-center",children:[e.jsx("b",{children:"Last Edited:"}),e.jsx("span",{className:"text-[12px]",children:Z(d.updated_at)})]}),e.jsx("div",{className:"text-[14px] mt-2",children:d.comment})]})]},n)))})]})},et=({images:t,listing:a})=>{var i,N,x,f,y,E,M,L,B,_,p,w,b,k,W,G,A,$,K,S,V;const[s,l]=r.useState([]),m=q(),d=re(),[n,c]=r.useState([]);r.useEffect(()=>{let v=[...s];t&&(t.map((X,H)=>{H+1<12&&v.push(X)}),c(v))},[t]);const h=v=>{v<t.length&&(m.setDialog(!0),m.setSelectedSlide(v+1),m.setGallery(t),m.setListing(a))},u=v=>{d.setShow(!0),d.setGallery(t),d.setListing(a)};return e.jsxs("div",{className:"w-full h-auto mb-[32px] flex flex-col gap-2",children:[e.jsxs("div",{className:`h-[350px]
                grid grid-cols-12 gap-[3px]`,children:[e.jsx("div",{className:`col-span-7 bg-red-300
                    row-span-2 rounded overflow-hidden
                    relative cursor-pointer`,onMouseDown:v=>h(0),children:e.jsx("img",{src:((i=t[0])==null?void 0:i.image_url)!==void 0&&((N=t[0])==null?void 0:N.image_url)!==null?g.IMG_BASE_URL+((x=t[0])==null?void 0:x.image_url):"https://accuvice.ng/wp-content/uploads/2016/06/placeholder.gif",alt:"",className:"object-cover h-full w-full"})}),e.jsx("div",{className:`col-span-5 bg-blue-300
                    rounded overflow-hidden
                    relative cursor-pointer`,onMouseDown:v=>h(1),children:e.jsx("img",{src:((f=t[1])==null?void 0:f.image_url)!==void 0&&((y=t[1])==null?void 0:y.image_url)!==null?g.IMG_BASE_URL+((E=t[1])==null?void 0:E.image_url):"https://accuvice.ng/wp-content/uploads/2016/06/placeholder.gif",alt:"",className:"object-cover h-full w-full"})}),e.jsx("div",{className:`col-span-5 bg-green-300
                    rounded overflow-hidden
                    relative cursor-pointer`,onMouseDown:v=>h(2),children:e.jsx("img",{src:((M=t[2])==null?void 0:M.image_url)!==void 0&&((L=t[2])==null?void 0:L.image_url)!==null?g.IMG_BASE_URL+((B=t[2])==null?void 0:B.image_url):"https://accuvice.ng/wp-content/uploads/2016/06/placeholder.gif",alt:"",className:"object-cover h-full w-full"})})]}),e.jsxs("div",{className:"grid grid-cols-5 gap-[5px] mt-[-3px]",children:[e.jsx("div",{className:`rounded overflow-hidden
                    relative cursor-pointer h-[100px]`,onMouseDown:v=>h(3),children:e.jsx("img",{src:((_=t[3])==null?void 0:_.image_url)!==void 0&&((p=t[3])==null?void 0:p.image_url)!==null?g.IMG_BASE_URL+((w=t[3])==null?void 0:w.image_url):"https://accuvice.ng/wp-content/uploads/2016/06/placeholder.gif",alt:"",className:"object-cover h-full w-full"})}),e.jsx("div",{className:`rounded overflow-hidden
                    relative cursor-pointer h-[100px]`,onMouseDown:v=>h(4),children:e.jsx("img",{src:((b=t[4])==null?void 0:b.image_url)!==void 0&&((k=t[4])==null?void 0:k.image_url)!==null?g.IMG_BASE_URL+((W=t[4])==null?void 0:W.image_url):"https://accuvice.ng/wp-content/uploads/2016/06/placeholder.gif",alt:"",className:"object-cover h-full w-full"})}),e.jsx("div",{className:`rounded overflow-hidden
                    relative bg-black cursor-pointer h-[100px]`,onMouseDown:v=>h(5),children:e.jsx("img",{src:((G=t[5])==null?void 0:G.image_url)!==void 0&&((A=t[5])==null?void 0:A.image_url)!==null?g.IMG_BASE_URL+(($=t[5])==null?void 0:$.image_url):"https://accuvice.ng/wp-content/uploads/2016/06/placeholder.gif",alt:"",className:"object-cover h-full w-full"})}),e.jsx("div",{className:`rounded overflow-hidden
                    relative bg-black cursor-pointer h-[100px]`,onMouseDown:v=>h(6),children:e.jsx("img",{src:((K=t[6])==null?void 0:K.image_url)!==void 0&&((S=t[6])==null?void 0:S.image_url)!==null?g.IMG_BASE_URL+((V=t[6])==null?void 0:V.image_url):"https://accuvice.ng/wp-content/uploads/2016/06/placeholder.gif",alt:"",className:"object-cover h-full w-full"})}),e.jsx("div",{className:`rounded overflow-hidden
                    relative bg-black text-white cursor-pointer
                    flex place-content-center place-items-center h-[100px]`,onMouseDown:v=>u(),children:(t==null?void 0:t.length)>7?`+${t.length-7}`:"View all"})]})]})},tt=({images:t,listing:a})=>{const[s,l]=r.useState(0),m=r.useRef(0);r.useRef(0);const d=p=>{m.current=p.touches[0].clientX},n=p=>{const w=p.changedTouches[0].clientX,b=m.current-w;b>50?l(k=>(k+1)%t.length):b<-50&&l(k=>(k-1+t.length)%t.length)},[c,h]=r.useState(null);let u=r.useRef(null);const[i,N]=r.useState([]),x=q();re();const[f,y]=r.useState([]);r.useEffect(()=>{let p=[...i];t&&(t.map((w,b)=>{b+1<12&&p.push(w)}),y(p))},[t]);const E=p=>{p<t.length&&(x.setDialog(!0),x.setSelectedSlide(p+1),x.setGallery(t),x.setListing(a))};r.useEffect(()=>{t&&h(t)},[t]);const M=()=>{l(p=>p===0?c.length-1:p-1)},L=()=>{l(p=>p===c.length-1?0:p+1)},B=async()=>{u.current&&clearTimeout(u.current),L(),u.current=setTimeout(()=>{},15e3)},_=async()=>{u.current&&clearTimeout(u.current),M(),u.current=setTimeout(()=>{},15e3)};return r.useEffect(()=>{},[c]),e.jsx(e.Fragment,{children:e.jsxs("div",{className:"relative",children:[e.jsx("div",{className:` w-full h-[300px] md:h-[500px] flex 
          overflow-hidden z-0
          `,children:c==null?void 0:c.map((p,w)=>e.jsx("img",{onTouchStart:d,onTouchEnd:n,onMouseDown:b=>E(w),src:g.IMG_BASE_URL+p.image_url,alt:"",style:{transform:`translateX(-${s*100}%)`},className:`object-cover w-full h-full 
                      block flex-shrink-0 flex-grow-0 transition-transform
                      ease-in-out duration-1000 cursor-pointer`},w))}),e.jsxs("div",{className:"z-[300]",children:[e.jsx("button",{onMouseDown:_,className:`block absolute top-0 bottom-0 
                                                  z-[300] p-[1rem] cursor-pointer left-0 group h-full 
                                                        transition duration-1000 ease-in-out`,children:e.jsx("div",{className:`w-[50px] h-[50px] bg-white/60 rounded-full 
            place-content-center place-items-center group-hover:bg-white/30
            z-[300] transition duration-500 ease-in-out`,children:e.jsx(Ne,{className:" stroke-white fill-black w-[2rem] h-[2rem]"})})}),e.jsx("button",{onMouseDown:B,className:`block absolute top-0 bottom-0 
                                                        z-[300]    p-[1rem] cursor-pointer right-0 group 
                                                             transition duration-1000 ease-in-out`,children:e.jsx("div",{className:`w-[50px] h-[50px] bg-white/60 rounded-full 
            flex place-content-center place-items-center group-hover:bg-white/30
            z-[300]   transition duration-500 ease-in-out
            `,children:e.jsx(we,{className:" stroke-white fill-black w-[2rem] h-[2rem]"})})})]})]})})},st=({listing:t})=>{const[a,s]=r.useState("");return r.useEffect(()=>{t.gid&&T(t.gid).then(m=>{s(g.IMG_BASE_URL+m.image_url)})},[t]),e.jsxs("div",{className:"mt-12",children:[e.jsx("div",{className:`font-bold text-lg
                border-b`,children:"Business Phrases"}),e.jsx("div",{className:"flex flex-col gap-y-5 text-[14px] mt-4 whitespace-pre-wrap",children:t==null?void 0:t.business_phrases})]})},at=({listing:t})=>{const[a,s]=r.useState("");return r.useEffect(()=>{t.gid&&T(t.gid).then(m=>{s(g.IMG_BASE_URL+m.image_url)})},[t]),e.jsxs("div",{className:"mt-12",children:[e.jsx("div",{className:`font-bold text-lg
                border-b`,children:"Products"}),e.jsx("div",{className:"flex flex-col gap-y-5 text-[14px] mt-4 whitespace-pre-wrap",children:t==null?void 0:t.products})]})},ct=({listing:t})=>{const[a,s]=r.useState("");return r.useEffect(()=>{t.gid&&T(t.gid).then(m=>{s(g.IMG_BASE_URL+m.image_url)})},[t]),e.jsxs("div",{className:"mt-12",children:[e.jsx("div",{className:`font-bold text-lg
                border-b`,children:"Services"}),e.jsx("div",{className:"flex flex-col gap-y-5 text-[14px] mt-4 whitespace-pre-wrap",children:t==null?void 0:t.services})]})},lt=({listing:t})=>{const[a,s]=r.useState(""),[l,m]=r.useState(null);function d(n){let c=null;switch(n==null?void 0:n.media_id){case"facebook":c=e.jsx(Ge,{});break;case"twitterx":c=e.jsx(Ue,{});break;case"linkedin":c=e.jsx(Fe,{});break;case"instagram":c=e.jsx($e,{});break;case"pinterest":c=e.jsx(Be,{});break;case"youtube":c=e.jsx(Le,{});break;case"vimeo":c=e.jsx(Ee,{});break}return c}return r.useEffect(()=>{t!==null&&(async c=>{const h=[];(await Re(c.gid)).map((i,N)=>{h.push({media:i==null?void 0:i.name,icon:d(i),name:i==null?void 0:i.name,link:`${i==null?void 0:i.base_url}${i==null?void 0:i.user_description}`})}),c!=null&&c.website&&h.push({media:c==null?void 0:c.website,icon:e.jsx(De,{}),name:"Website",link:`${c==null?void 0:c.website}`}),c!=null&&c.email_address&&h.push({media:c==null?void 0:c.email_address,icon:e.jsx(se,{}),name:"Email Address",link:`mailto:${c==null?void 0:c.email_address}`}),c!=null&&c.phone&&h.push({media:c==null?void 0:c.phone,icon:e.jsx(Ae,{}),name:"Phone",link:`tel:${c==null?void 0:c.phone}`}),m(h)})(t)},[t]),e.jsxs("div",{className:"mt-12",children:[e.jsx("div",{className:"font-bold text-lg border-b",children:"Social Media"}),e.jsx("div",{className:"flex flex-col gap-y-5 text-[14px] mt-4 whitespace-pre-wrap",children:e.jsx("div",{className:"flex gap-3 flex-wrap",children:l!==null&&(l==null?void 0:l.map((n,c)=>e.jsx(D,{to:n==null?void 0:n.link,children:e.jsxs("div",{className:`border px-[8px] py-[2px] 
                                    cursor-pointer flex place-items-center rounded-full
                                    gap-1 border-gray-400 bg-white hover:bg-black
                                    text-black hover:text-white
                                    hover:shadow-md`,children:[e.jsx("span",{className:"text-[12px]",children:n==null?void 0:n.icon}),n==null?void 0:n.name]},c)},c)))})})]})},te=({data:t})=>e.jsx("div",{className:`
             md:border py-[12px] px-[12px] md:mb-3  rounded`,children:e.jsxs("div",{className:`flex place-content-between gap-1
                                        `,children:[e.jsxs("div",{className:"flex flex-col",children:[e.jsx("div",{className:`font-sans text-[16px]
                                                font-bold text-blue-700`,children:"Category"}),e.jsx("div",{className:` -mt-[4px]
                                                font-normal text-black capitalize
                                                text-[12px] tracking-normal`,children:t==null?void 0:t.category})]}),e.jsxs("div",{className:`w-full flex flex-col place-items-end
                                        place-content-center`,children:[e.jsx("div",{className:`font-bold tracking-tighter
                                            text-[15px] font-sans text-black
                                            `,children:"Very Good"}),e.jsxs("div",{className:"text-[11px] mt-[-2px]",children:[z(Number(t==null?void 0:t.ratingCount))," reviews"]})]}),e.jsx("div",{className:`min-w-10 w-10 h-10 mt-[-1px]
                                        bg-blue-800 text-white flex
                                        place-content-center place-items-center
                                         rounded px-[3px]
                                        `,children:z(Number(t==null?void 0:t.rating))})]})});function rt({rating:t}){return e.jsx("div",{className:"flex gap-[3px]",children:Array.from({length:5}).map((a,s)=>{const l=Math.max(0,Math.min(1,t-s))*100;return e.jsx("div",{className:`relative w-[17px] h-[17px] bg-white rounded-full 
                            overflow-hidden flex place-items-center border-[1px]
                            place-content-center border-gray-500`,children:e.jsx("div",{className:"absolute inset-0 bg-green-600 z-[0]",style:{width:`${l}%`}})},s)})})}const nt=({listing:t,images:a,ratingsData:s})=>{const[l,m]=r.useState();return r.useEffect(()=>{t&&s&&m({totalReviews:0,category:t==null?void 0:t.category,rating:s.rating_average,ratingCount:s.rating_count}),console.log(JSON.stringify(t.category))},[t,s]),e.jsxs("div",{className:"",children:[e.jsx("div",{className:"px-[15px] w-full",children:e.jsxs("div",{className:"max-w-[1100px] w-full mx-auto bg-white",children:[s&&e.jsxs("div",{className:"mt-4 flex gap-2 place-items-center",children:[e.jsx(rt,{rating:s==null?void 0:s.rating_average}),e.jsxs("div",{className:`flex place-items-center place-content-center
                                    gap-1 text-black/60 text-[14px]`,children:[e.jsx("div",{children:z(Number(s==null?void 0:s.rating_average))}),e.jsxs("div",{children:["(",e.jsxs("span",{className:"underline",children:[z(s==null?void 0:s.rating_count)," reviews"]}),")"]})]})]}),t&&e.jsx(Oe,{listing:t})]})}),(a==null?void 0:a.length)>0&&t&&e.jsx("div",{className:`bg-black h-fit md:hidden
                mt-4`,children:e.jsx(tt,{images:a,listing:t})}),e.jsx("div",{className:" md:pt-4 md:px-[12px]",children:e.jsx("div",{className:"max-w-[1100px] w-full mx-auto bg-white",children:e.jsxs("div",{className:`grid grid-cols-12 gap-0 md:gap-4 relative
                    `,children:[e.jsxs("div",{className:" col-span-12 lg:col-span-8",children:[e.jsx("div",{className:"hidden md:block mt-0",children:(a==null?void 0:a.length)>0&&t&&e.jsx(et,{images:a,listing:t})}),e.jsxs("div",{className:"",children:[e.jsxs("div",{className:`md:hidden ${(a==null?void 0:a.length)<=0&&"mt-5"}  md:mt-0 mb-5`,children:[l&&e.jsx(te,{data:l}),t&&e.jsx(P,{businessProfile:t})]}),e.jsxs("div",{className:"px-[15px] md:px-[0px]",children:[e.jsx(Ze,{listing:t}),t&&e.jsx(lt,{listing:t}),t&&e.jsx(Qe,{listing:t}),t&&e.jsx(st,{listing:t}),t&&e.jsx(at,{listing:t}),t&&e.jsx(ct,{listing:t}),e.jsx(Je,{listing:t}),t&&e.jsx(Pe,{listing:t})]})]})]}),e.jsx("div",{className:"col-span-12 lg:col-span-4 hidden lg:block",children:e.jsxs("div",{className:" sticky top-[100px]",children:[l&&e.jsx(te,{data:l}),t&&e.jsx(P,{businessProfile:t})]})})]})})})]})},ot=({title:t,subtitle:a,category:s,limit:l})=>{const[m,d]=r.useState(""),[n,c]=r.useState(""),[h,u]=r.useState([]),i="https://tynkpro.com";r.useEffect(()=>{t&&a&&(d(t),c(a))},[t,a]);let N=async(x,f)=>{if(f&&x){let y=await Ce(x,f);u(y)}};return r.useEffect(()=>{l&&s&&N(s,l)},[l,s]),e.jsx("div",{className:"px-[15px]",children:e.jsx("div",{className:"max-w-[1100px] mx-auto w-full",children:e.jsxs("div",{className:"mt-10 border-t pt-5",children:[e.jsxs("div",{className:" mb-[20px] ",children:[e.jsx("div",{className:"font-semibold text-xl",children:m}),e.jsx("div",{className:"text-sm -mt-[2px]",children:n})]}),e.jsx("div",{className:"grid grid-cols-2 md:grid-cols-3 lg:grid-cols-4 gap-x-3 gap-y-4",children:h==null?void 0:h.map((x,f)=>e.jsxs("div",{children:[e.jsx("div",{children:e.jsx(D,{to:`/${x.gid}`,children:e.jsx("div",{className:`relative h-[120px]
                                                    md:h-[180px]`,children:e.jsx("img",{className:`object-cover w-full h-full
                                                    text-sm`,src:x!=null&&x.image_url?i+(x==null?void 0:x.image_url):"images/placeholder.gif",alt:x.title})})})}),e.jsx("div",{className:`mt-1 text-[15px] tracking-tight 
                                     truncate`,children:x.title}),e.jsx("div",{className:"mt-1",children:e.jsx(ze,{rating:x.avg_rating})}),e.jsx("div",{className:`text-[11px] mt-[5px] tracking-tight
                                    leading-[1.2em]`,children:x.short_description.substring(0,100)})]},f))})]})})})},bt=()=>{const t=ie(),a=t.listing,s=t.gallery,l=t.ratingsData;return e.jsx(He,{children:e.jsxs(Ve,{children:[e.jsx("div",{className:"hidden md:block",children:e.jsx(We,{})}),e.jsx("div",{className:"md:hidden",children:e.jsx(Ke,{})}),a.gid!==null&&a.gid!==void 0&&e.jsx(nt,{listing:a,images:s,ratingsData:l}),e.jsx(ot,{category:a==null?void 0:a.category,limit:6,title:`Related: ${a==null?void 0:a.category}`,subtitle:"Related based on the same category."}),e.jsx(Te,{})]})})};export{bt as default};
