import{j as e}from"./jsx-runtime-0DLF9kdB.js";import{r as t,u as v,L as w}from"./components-DN9bEK-g.js";import{U as j,H as b,M as N,b as y,L as S}from"./MobileNav-Dy3u7yT7.js";import{e as k}from"./index-CWCfG8zD.js";import{W as L}from"./WhiteLogo-CiDGrO9_.js";import{H as A}from"./HomeNav-gfvGESlB.js";import{u as B}from"./AuthContext-Bx4JNZJ0.js";import{G as E,l as M}from"./lib-D3V_1lJO.js";const U=[{title:"Search",lnk:"/web/search"},{title:"Hotels",lnk:"/web/search?q=hotels"},{title:"Travel",lnk:"/web/search?q=travel"}],C=()=>{const[n,l]=t.useState(!1),[o,i]=t.useState(!1),[g,x]=t.useState("light"),u=()=>l(!0),m=()=>l(!1),f=v();return e.jsxs("div",{children:[e.jsx("div",{className:`px-[15px] z-[1000] fixed w-full
        bg-white shadow-md`,children:e.jsx("div",{className:"w-full mx-auto",children:e.jsxs("div",{className:`w-full flex place-content-between
                    h-[60px] gap-x-5`,children:[e.jsx("div",{className:`flex place-items-center
                        `,children:e.jsx(L,{})}),e.jsxs("div",{className:`flex place-items-center
                        gap-5 grow`,children:[e.jsx("div",{className:"w-full",children:e.jsxs("form",{action:"/web/search",className:`w-full flex rounded-full border px-1
                                border-gray-300 overflow-hidden bg-white
                                place-items-center gap-1`,children:[e.jsx("input",{name:"q",placeholder:"Business name, address, country, state...",type:"text",className:`h-[40px] w-full px-3
                                        grow outline-none`}),e.jsx("button",{type:"submit",className:`bg-blue-600 min-w-[60px] w-[60px] h-[30px]
                                        flex place-items-center place-content-center
                                        rounded-full text-white`,children:e.jsx(k,{})})]})}),e.jsx("div",{className:` hidden md:flex place-items-center
                                min-w-fit gap-1`,children:U.map((s,h)=>{const p=f.search,r=decodeURI(p);return e.jsx("div",{children:e.jsx(w,{className:`text-[14px] hover:bg-gray-200/50
                                                px-[10px] py-[6px] rounded
                                                font-semibold
                                                ${s.lnk.toString().includes(r)&&r.toString()!==""&&"bg-green-200"}`,to:s.lnk,children:s.title})},h)})})]}),e.jsxs("div",{className:`flex place-items-center
                        gap-4`,children:[e.jsx(j,{theme:"light"}),e.jsx(b,{theme:"light",openNav:u,navBg:o})]})]})})}),e.jsx(N,{showNav:n,closeNav:m})]})};function H(n){return E({attr:{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},child:[{tag:"path",attr:{d:"M10.29 3.86L1.82 18a2 2 0 0 0 1.71 3h16.94a2 2 0 0 0 1.71-3L13.71 3.86a2 2 0 0 0-3.42 0z"},child:[]},{tag:"line",attr:{x1:"12",y1:"9",x2:"12",y2:"13"},child:[]},{tag:"line",attr:{x1:"12",y1:"17",x2:"12.01",y2:"17"},child:[]}]})(n)}const R=({children:n})=>{const[l,o]=t.useState(!0),[i,g]=t.useState(null),[x,u]=t.useState(!0),[m,f]=t.useState(null),s=B();if(!s)return null;const[h,p]=t.useState(!0),r=()=>{o(l===!1)};return t.useEffect(()=>{var a,c,d;((a=s==null?void 0:s.user)==null?void 0:a.guid)!==null&&((c=s==null?void 0:s.user)==null?void 0:c.guid)!==void 0&&((d=s==null?void 0:s.user)==null?void 0:d.guid)!==""?p(!1):window.location.href="/web/signin"},[s==null?void 0:s.user]),t.useEffect(()=>{const a=async c=>{const d=await M(c||"");g(d)};s!=null&&s.user&&a(s==null?void 0:s.user.guid)},[s==null?void 0:s.user]),t.useEffect(()=>{const a=localStorage.getItem("authTokens");(a==null||a==="")&&(window.location.href="/web/signin")},[]),t.useEffect(()=>{i&&u(!!(i!=null&&i.active))},[i]),t.useEffect(()=>{x===!1&&f(e.jsxs("div",{className:`mb-4 flex place-items-center gap-2 text-red-600
                            w-full border pb-2 leading-[1.2em] rounded p-2 bg-white `,children:[e.jsx(H,{className:"min-h-[32px] min-w-[32px]"}),e.jsx("div",{children:"You are currently deactivated. Some operations like creating new business cannot be performed. Activate your profile to continue."})]}))},[x]),h?e.jsx("div",{className:"flex justify-center items-center h-screen",children:e.jsx("div",{className:"text-lg",children:"Loading..."})}):e.jsxs("div",{className:"h-screen flex flex-col relative",children:[e.jsx("div",{className:"md:hidden",children:e.jsx(A,{})}),e.jsx("div",{className:"hidden md:block",children:e.jsx(C,{})}),e.jsx("button",{onClick:r,className:`text-xl text-white bg-blue-700 p-2 
                rounded-full hover:bg-gray-700 shadow-lg top-[72px]
                ${l?"left-[295px]":"left-[15px]"}
                focus:outline-none fixed z-50 top-[60px]
                transition-all duration-1000 ease-in-out
                hidden md:block`,children:e.jsx(y,{className:`${l?"rotate-0 transition-all duration-300 ease-in-out":"rotate-90 transition-all duration-300 ease-in-out"}`})}),e.jsxs("div",{className:`flex flex-1 md:mt-[60px] h-full
                overflow-hidden`,children:[e.jsxs("aside",{className:`bg-gray-50 text-gray-900 
                        h-full overflow-y-auto transition-all z-30
                        duration-1000 ease-in-out border-r shadow-md
                        hidden md:block
                        ${l?"w-[350px] min-w-[350px]":"w-0 min-w-0 overflow-hidden"}`,children:[e.jsx("div",{className:"mt-[20px]"}),e.jsx(S,{userProfile:i}),e.jsx("div",{className:"h-[20px]"})]}),e.jsx("div",{className:"flex-1 overflow-y-auto bg-gray-100 py-6 px-[15px]",children:e.jsxs("div",{className:`max-w-[100%] md:max-w-[80%] mx-auto w-full  
                        `,children:[m,n]})})]})]})},D=({children:n,title:l})=>e.jsxs("div",{children:[e.jsx("div",{className:"font-semibold text-lg",children:l}),e.jsx("div",{className:`mt-4 bg-white px-[15px] pt-4 
                rounded-lg shadow-md pb-8 `,children:n})]});export{R as A,D as C};
