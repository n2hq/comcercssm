import{r as o,j as t}from"./components-BAvBE3fA.js";import{M as W}from"./MobileNav-C2nYESeh.js";import{i as C,t as T}from"./Input-Dw9jNG5H.js";const K=({controlName:s,controlPlaceholder:x,controlTitle:m,register:h,changeHandler:f,error:c,setValue:n,getValues:j,watch:g,minWords:k=100,maxWords:a=500})=>{const[p,i]=o.useState(""),[D,r]=o.useState(!1),u=e=>(e==null?void 0:e.trim())===""?0:e==null?void 0:e.trim().split(/\s+/).length,v=e=>{const l=e.target.value,d=l.trim().split(/\s+/);if(d.length<=a)n("text",l),r(!1);else{r(!0);const y=d.slice(0,a).join(" ");n("text",y)}},w=g("text")||"",b=e=>{w.trim().split(/\s+/).length>=a&&e.key!=="Backspace"&&e.key!=="Delete"&&!e.ctrlKey?(e.preventDefault(),r(!0)):r(!1)};return o.useEffect(()=>{if(s){let e=j(s);i(e)}},[s]),t.jsx(t.Fragment,{children:t.jsxs("div",{className:C,children:[t.jsxs("div",{className:"flex place-content-between",children:[t.jsx("label",{className:"block mb-1 text-md font-semibold",children:m}),t.jsxs("label",{className:" text-gray-600 text-sm",children:["Word Count: ",t.jsx("strong",{children:u(p)})]})]}),t.jsxs("div",{children:[t.jsx("textarea",{...h(s,{onChange:e=>{i(e.target.value),v(e),f(e)}}),className:T,placeholder:x,onKeyDown:b}),c&&t.jsxs("div",{className:"input__class__error -mt-[5px]",children:[t.jsx(W,{className:"text-lg"}),c.message]})]})]})})};export{K as T};
