import{j as a}from"./jsx-runtime-0DLF9kdB.js";import{r as s,L as j}from"./components-DN9bEK-g.js";import{A as i,C as v}from"./ContentLayout-BkyhtPtr.js";import{u as b}from"./AuthContext-VTdR94jO.js";import{l as N,I as w,q as y,A as _}from"./lib-DGSJRfZx.js";import{C as P}from"./CardHeader-DyqRQ91D.js";import"./UserMenu-9wfKTApo.js";import"./index-BinZBV65.js";import"./index-BgbCGt9E.js";import"./WhiteLogo-V1zJxVOw.js";import"./HomeNav-BZKJwlL0.js";import"./SrchNavbar-BhFJp1Ry.js";import"./HamburgerSecondary-shW0RVnS.js";import"./CardTitle-Vm8bzRht.js";const k=({listing:e,index:r})=>{const[t,n]=s.useState("/images/imgplaceholder2.jpg");function c(d){return d%2!==0}let l=N.IMG_BASE_URL+(e==null?void 0:e.image_url);return((e==null?void 0:e.image_url)===""||(e==null?void 0:e.image_url)===null)&&(l="/images/imgplaceholder.jpg"),a.jsx("div",{className:" cursor-pointer my-0",children:a.jsxs("div",{className:`flex rounded  gap-x-2 p-2
             hover:bg-blue-50  
             ${c(r),""}
                `,children:[a.jsxs("div",{className:`relative min-w-[50px] w-[50px] h-[50px]
                    rounded-full overflow-hidden border bg-transparent bg-cover bg-center`,style:{backgroundImage:`url(${t})`},children:[a.jsx("img",{src:l,alt:e.title,className:`object-cover w-full h-full text-sm
                             `}),a.jsx("div",{className:`w-full h-[50%]
                            absolute z-[10] bottom-0 
                            bg-gradient-to-t from-black/40
                            to-transparent
                            `})]}),a.jsx("div",{className:" w-full",children:a.jsx(j,{to:`/web/account/portfolio/${e.gid}`,children:a.jsxs("div",{className:`md:flex md:place-content-between 
                w-full md:gap-x-[4px]`,children:[a.jsxs("div",{className:"w-full md:w-[60%] -space-y-1",children:[a.jsx("div",{className:"font-normal text-[14px] text-brown-800 ",children:e.title}),a.jsx("div",{className:"font-normal text-[11.5px] flex place-items-center gap-1",children:a.jsx("div",{className:"capitalize flex place-items-center ",children:e.category})}),a.jsx("div",{className:`font-normal text-[11px] 
                                    flex place-items-center gap-1 `,children:e.active_status?"Active":"Inactive"})]}),a.jsxs("div",{className:`w-full lg:w-[40%] hidden 
                                sm:block`,children:[a.jsx("div",{className:"flex flex-col place-items-end place-content-end font-normal text-black tracking-tighter",children:e.phone}),a.jsxs("div",{className:`flex flex-col text-end text-[12px]
                                leading-[1.2em]`,children:[e==null?void 0:e.address_one,e!=null&&e.address_two?`, ${e==null?void 0:e.address_two}`:"",e!=null&&e.city_name?`, ${e==null?void 0:e.city_name}`:"",e!=null&&e.state_name?`, ${e==null?void 0:e.state_name}`:"",e!=null&&e.country_name?`, ${e==null?void 0:e.country_name}`:""]})]})]})})})]})})},A=({data:e,itemsPerPage:r=3})=>{const[t,n]=s.useState(1),c=Math.ceil(e.length/r),l=t*r,d=l-r,p=e.slice(d,l),u=o=>n(o),f=()=>{t>1&&n(t-1)},m=()=>{t<c&&n(t+1)};return a.jsxs("div",{children:[a.jsx("div",{className:"divide-gray-500/20 divide-y-[1px]",children:p.map((o,x)=>a.jsx("div",{children:a.jsx(k,{index:x+1,listing:o})},x))}),c>1&&a.jsxs("div",{className:`flex justify-end gap-[5px] 
                mt-[0px] text-[13px] border-t pt-6`,children:[a.jsx("button",{onClick:f,disabled:t===1,className:`px-[12px] py-[0px] bg-white cursor-pointer border
                                rounded-[4px]`,children:"Previous"}),Array.from({length:c},(o,x)=>x+1).map(o=>a.jsx("button",{onClick:()=>u(o),className:`px-[12px] py-[0px]  cursor-pointer border
                                rounded-[4px] ${t===o?"bg-blue-50 border-blue-300":"bg-white"}`,children:o},o)),a.jsx("button",{onClick:m,disabled:t===c,className:`px-[12px] py-[6px] bg-white cursor-pointer border
                                rounded-[4px]`,children:"Next"})]})]})},I=({user:e,portfolio:r})=>a.jsx("div",{className:" h-fit",children:(r==null?void 0:r.length)>0?a.jsx(A,{data:r,itemsPerPage:7}):a.jsx("div",{className:`flex place-items-center rounded
                            place-content-center p-5 border capitalize`,children:a.jsx("span",{children:"no record"})})}),q=()=>{s.useEffect(()=>{w(localStorage)},[]);const e=b();if(!e)return null;const{user:r}=e,[t,n]=s.useState(null),[c,l]=s.useState(null),[d,p]=s.useState(null),[u,f]=s.useState(!0);return s.useEffect(()=>{async function m(o){const x=await y(o||""),h=await _(o||"");n(x),l(h)}r!=null&&r.guid&&m(r==null?void 0:r.guid)},[r==null?void 0:r.guid]),s.useEffect(()=>{if(t&&c){const m={userProfile:t,portfolio:c.data};p(m)}},[t,c]),s.useEffect(()=>{d!==null&&f(!1)},[d]),u?a.jsx("div",{className:"flex justify-center items-center h-screen",children:a.jsx("div",{className:"text-lg",children:"Loading..."})}):a.jsx(i,{children:a.jsxs(v,{title:"My Portfolio",children:[t===null?"Loading...":"",a.jsx(P,{base_url:"/web/account/profile",title:"Go to profile"}),a.jsx("div",{className:"mt-[20px]"}),d!==null&&a.jsx(I,{user:d.userProfile,portfolio:d.portfolio})]})})};export{q as default};
