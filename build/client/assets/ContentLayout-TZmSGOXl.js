import{j as s}from"./jsx-runtime-0DLF9kdB.js";import{r as t}from"./components-DN9bEK-g.js";import{a as w,L as j}from"./UserMenu-H2ZUKFg0.js";import{H as N}from"./HomeNav-CkPKMOWD.js";import{u as b}from"./AuthContext-4PD_dEDq.js";import{G as y,a as u,n as S}from"./lib-B7eVpA4v.js";import{S as k}from"./SrchNavbar-D-IA2MmT.js";function A(n){return y({attr:{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},child:[{tag:"path",attr:{d:"M10.29 3.86L1.82 18a2 2 0 0 0 1.71 3h16.94a2 2 0 0 0 1.71-3L13.71 3.86a2 2 0 0 0-3.42 0z"},child:[]},{tag:"line",attr:{x1:"12",y1:"9",x2:"12",y2:"13"},child:[]},{tag:"line",attr:{x1:"12",y1:"17",x2:"12.01",y2:"17"},child:[]}]})(n)}const $=({children:n})=>{const[o,d]=t.useState(!0),[a,x]=t.useState(null),[c,f]=t.useState(!0),[m,p]=t.useState(null);localStorage.getItem("authTokens");const e=b();if(!e)return null;const[g,h]=t.useState(!0),v=()=>{d(o===!1)};return t.useEffect(()=>{var i,r,l;((i=e==null?void 0:e.user)==null?void 0:i.guid)!==null&&((r=e==null?void 0:e.user)==null?void 0:r.guid)!==void 0&&((l=e==null?void 0:e.user)==null?void 0:l.guid)!==""?h(!1):window.location.href="/web/signin"},[e==null?void 0:e.user]),t.useEffect(()=>{const i=async r=>{const l=await S(r||"");x(l)};e!=null&&e.user&&i(e==null?void 0:e.user.guid)},[e==null?void 0:e.user]),t.useEffect(()=>{const i=localStorage.getItem("authTokens");(i==null||i==="")&&(window.location.href="/web/signin")},[]),t.useEffect(()=>{a&&f(!!(a!=null&&a.active))},[a]),t.useEffect(()=>{c===!1&&p(s.jsxs("div",{className:`mb-4 flex place-items-center gap-2 text-red-600
                            w-full border pb-2 leading-[1.2em] rounded p-2 bg-white `,children:[s.jsx(A,{className:"min-h-[32px] min-w-[32px]"}),s.jsx("div",{children:"You are currently deactivated. Some operations like creating new business cannot be performed. Activate your profile to continue."})]}))},[c]),g?s.jsx("div",{className:"flex justify-center items-center h-screen",children:s.jsx("div",{className:"text-lg",children:"Loading..."})}):s.jsxs("div",{className:"h-screen flex flex-col relative",children:[s.jsx("div",{className:`h-[${u.NAVBAR_HEIGHT}px] md:h-[0px]`}),s.jsx(k,{}),s.jsx("div",{className:"md:hidden",children:s.jsx(N,{})}),s.jsx("button",{onClick:v,className:`text-xl text-white bg-blue-700 p-2 
                rounded-full hover:bg-gray-700 shadow-lg top-[72px]
                ${o?"left-[295px]":"left-[15px]"}
                focus:outline-none fixed z-50 top-[60px] 
                transition-all duration-1000 ease-in-out
                hidden md:block`,children:s.jsx(w,{className:`${o?"rotate-0 transition-all duration-1000 ease-in-out":"rotate-90 transition-all duration-1000 ease-in-out"}`})}),s.jsxs("div",{className:`flex flex-1 md:mt-[${u.NAVBAR_HEIGHT}px] h-full
                overflow-hidden`,children:[s.jsxs("aside",{className:`bg-gray-50 text-gray-900 
                        h-full overflow-y-auto transition-all z-30
                        duration-1000 ease-in-out border-r shadow-md
                        hidden md:block
                        ${o?"w-[350px] min-w-[350px]":"w-0 min-w-0 overflow-hidden"}`,children:[s.jsx("div",{className:"mt-[20px]"}),s.jsx(j,{userProfile:a}),s.jsx("div",{className:"h-[20px]"})]}),s.jsx("div",{className:"flex-1 overflow-y-auto bg-gray-100 py-6 px-[15px]",children:s.jsxs("div",{className:`max-w-[100%] md:max-w-[80%] mx-auto w-full  
                        `,children:[m,n]})})]})]})},G=({children:n,title:o})=>s.jsxs("div",{children:[s.jsx("div",{className:"font-semibold text-lg",children:o}),s.jsx("div",{className:`mt-4 bg-white px-[15px] pt-4 
                rounded-lg shadow-md pb-8 `,children:n})]});export{$ as A,G as C};
