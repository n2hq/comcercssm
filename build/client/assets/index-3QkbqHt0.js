import{j as e}from"./jsx-runtime-0DLF9kdB.js";import{r as d,c as z,d as R}from"./components-ByGjlxrc.js";import{S as U}from"./SrchNavbar-DxdFC0Wy.js";import{a6 as T,w as P,a1 as k,a2 as D,a3 as G,a8 as q,a9 as M,a5 as $,a4 as O}from"./lib-BfxD_PrT.js";import{R as I,T as W,A as H,S as Q,C as V,a as J,F as K}from"./Categories-BY7tMnAl.js";import"./UserMenu-DjfYbg23.js";import"./AuthContext-BW5xbZ91.js";import"./WhiteLogo-C2qMaGt0.js";import"./index-CkyiyLWW.js";import"./json-CKHlsUtu.js";const X=()=>e.jsx("div",{className:"bg-white w-full h-auto md:rounded-t-md shadow-md overflow-hidden border",children:e.jsxs("div",{className:"bg-gray-50/30 py-3 px-4 border-b",children:[e.jsxs("div",{className:"flex place-content-between",children:[e.jsx("div",{className:"flex place-items-center gap-2",children:e.jsxs("div",{className:"-space-y-1",children:[e.jsx("div",{className:"text-black text-lg font-semibold",children:"Garsset.com"}),e.jsx("div",{className:"text-[12px] text-gray-500 italic capitalize",children:"Business Directory Service"})]})}),e.jsx("div",{className:"flex place-items-center"})]}),e.jsx("div",{className:"mt-[8px] text-[12px] text-gray-500 leading-[1.3em]",children:"The only real-time generative AI app for video chatting, live streaming, and video creation on the market."})]})}),F=({averageRating:a})=>{const[x,t]=d.useState(0);return d.useEffect(()=>{a!=null&&t(a)},[a]),e.jsxs("div",{className:"text-blue-700",children:["(",T(Number(x)),")"]})},A=({listing:a})=>{var E;const[x,t]=d.useState("/images/placeholder-icon.webp"),[h,n]=d.useState(""),[N,m]=d.useState(""),[u,j]=d.useState(null),[w,b]=d.useState(""),[r,f]=d.useState(null),[v,C]=d.useState(null),[o,l]=d.useState("");return d.useEffect(()=>{if(a){const s=a;f(s),n(P.IMG_BASE_URL+(s==null?void 0:s.image_url))}},[a]),d.useEffect(()=>{a!=null&&a.website?b(a==null?void 0:a.website):(a==null?void 0:a.username)===""||(a==null?void 0:a.username)===null?b("/"+(a==null?void 0:a.gid)):b("/"+(a==null?void 0:a.username))},[a]),d.useEffect(()=>{a&&((a==null?void 0:a.image_url)!==""&&(a==null?void 0:a.image_url)!==null&&(a==null?void 0:a.image_url)!==void 0&&n(P.IMG_BASE_URL+(a==null?void 0:a.image_url)),(a==null?void 0:a.username)!==""&&(a==null?void 0:a.username)!==null&&(a==null?void 0:a.username)!==void 0?m(a==null?void 0:a.username):m(a==null?void 0:a.gid))},[a]),d.useEffect(()=>{if(a!=null&&a.social_media){let s=[];const c=k(a==null?void 0:a.social_media,",");c!==null&&(c==null||c.map((p,y)=>{const _=k(p,"$"),S={mediaName:_[0],mediaHandle:_[1],baseUrl:_[2]};s.push(S)})),j(s)}},[a]),d.useEffect(()=>{},[u]),d.useEffect(()=>{if(r!=null&&r.facility_features){let s=[];const c=k(r==null?void 0:r.facility_features,"&");c!==null&&(c==null||c.map((y,_)=>{const S=k(y,"$"),B={featureId:S[0],userDescription:S[1]};s.push(B)}));const p=D(s);C(p)}},[r]),d.useEffect(()=>{a!==null&&(async c=>{let p=c==null?void 0:c.title;p+=c!=null&&c.address_one?", "+(c==null?void 0:c.address_one):"",p+=c!=null&&c.address_two?", "+(c==null?void 0:c.address_two):"",p+=c!=null&&c.city_name?", "+(c==null?void 0:c.city_name):"",p+=c!=null&&c.state_name?", "+(c==null?void 0:c.state_name):"",p+=c!=null&&c.zipcode?" "+(c==null?void 0:c.zipcode):"",p+=c!=null&&c.country_code?" "+(c==null?void 0:c.country_code):"";let y=`https://www.google.com/maps?q=${encodeURI(p)}&t=&z=15&ie=UTF8&iwloc=B&output=`;l(y)})(a)},[a]),e.jsxs("div",{className:"bg-white w-full h-auto  overflow-hidden border   hover:shadow-md hover:shadow-gray-200",children:[e.jsx("div",{className:"bg-gray-50/30 py-3 px-4 border-b-0",children:e.jsxs("a",{href:`/${N}`,children:[e.jsxs("div",{className:"flex place-content-between gap-2",children:[e.jsxs("div",{className:"flex place-items-start gap-2 w-full",children:[e.jsx("div",{className:"w-[90px] h-[90px] min-w-[90px]   bg-black bg-cover bg-center overflow-hidden relative border",style:{backgroundImage:`url(${x})`},children:h!==""&&e.jsx("img",{src:h,alt:"",className:`object-cover w-full h-full text-sm
                             z-0 bg-white`})}),e.jsxs("div",{className:" w-full",children:[e.jsx("div",{className:"text-[18px] font-normal text-blue-700 line-clamp-1 w-full",children:a==null?void 0:a.title}),(a==null?void 0:a.category)&&e.jsx("div",{className:"text-[12px] text-gray-500  capitalize mt-[0px]",children:(E=G(a==null?void 0:a.category))==null?void 0:E.name}),e.jsxs("div",{className:"flex place-items-center gap-x-1 mt-[5px] ",children:[e.jsx("div",{children:(r==null?void 0:r.average_rating)!==null&&(r==null?void 0:r.average_rating)!==""&&(r==null?void 0:r.average_rating)!==void 0?e.jsxs("div",{className:" flex gap-2 place-items-center",children:[e.jsx(I,{rating:Number(r==null?void 0:r.average_rating)}),e.jsx(F,{averageRating:r==null?void 0:r.average_rating})]}):e.jsxs("div",{className:" flex gap-2 place-items-center",children:[e.jsx(I,{rating:1}),e.jsx(F,{averageRating:0})]})}),e.jsx("div",{className:" ",children:Number(r==null?void 0:r.total_reviews)>0?r==null?void 0:r.total_reviews:0})]})]})]}),e.jsx("div",{className:"flex place-items-start",children:e.jsx("div",{className:"font-bold rounded-sm border px-3 py-[2px]",children:"View"})})]}),e.jsx("div",{className:"mt-[8px] text-[14px] md:text-[13px] text-gray-800 leading-[1.3em] line-clamp-3",children:a==null?void 0:a.short_description})]})}),e.jsx("div",{children:e.jsxs("div",{className:" h-auto flex place-content-between gap-2 ",children:[e.jsxs("div",{className:"flex place-items-start w-[60%] flex-col  pl-4  pt-2 pb-4 ",children:[e.jsxs("div",{className:"flex place-items-center gap-x-1",children:[e.jsx(q,{}),e.jsxs("span",{className:"mt-[1px] text-gray-500 space-x-2",children:[e.jsx("span",{className:"font-bold",children:"Founded:"}),e.jsx("span",{children:a==null?void 0:a.established})]})]}),v!==null&&e.jsxs("div",{className:"mt-2 flex place-items-start gap-2 w-full relative",children:[e.jsx("span",{className:"text-[13px]",children:"Facilities: "}),e.jsx("div",{className:"flex place-items-baseline gap-3 flex-wrap leading-[0.9em] ",children:v==null?void 0:v.map((s,c)=>e.jsx(W,{tooltip:`${s==null?void 0:s.name}: ${(s==null?void 0:s.userDescription)||""}`,children:e.jsx("div",{className:"text-[15px]",children:s==null?void 0:s.icon})},c))})]})]}),e.jsxs("div",{className:"flex place-items-end flex-col w-[40%] text-end pr-4 pt-2 pb-4",children:[e.jsx("div",{className:"font-[600]",children:a==null?void 0:a.phone}),e.jsx("div",{className:"text-[12px] leading-[1.2em] mt-1",children:e.jsx(H,{listing:a})})]})]})}),e.jsx("div",{className:"border-none",children:e.jsxs("div",{className:"flex place-content-between mx-4 my-1",children:[e.jsxs("div",{className:"flex place-items-center gap-4",children:[e.jsx("a",{href:`mailto:${a==null?void 0:a.email_address}`,children:e.jsx(M,{size:20})},34),e.jsx("a",{href:`tel:${a==null?void 0:a.phone}`,children:e.jsx($,{size:20})},30),u!==null&&(u==null?void 0:u.map((s,c)=>e.jsx("a",{href:`${s==null?void 0:s.baseUrl}${s==null?void 0:s.mediaHandle}`,children:O(s==null?void 0:s.mediaName)},c)))]}),e.jsx("div",{className:"px-1.5 py-0.5 bg-red-500 rounded hover:shadow-lg text-white",children:e.jsx("a",{href:`${w}`,children:"Website"})})]})}),e.jsx("div",{className:"px-4 mb-4 mt-8",children:e.jsxs("div",{className:" grid grid-cols-2 gap-2 w-full md:w-[50%]",children:[e.jsx("a",{target:"_blank",href:`${o}`,className:"border border-blue-400 py-[5px] rounded px-2 font-semibold w-full text-center",children:"Go to map"}),e.jsx("div",{children:(r==null?void 0:r.phone)&&e.jsx("a",{href:`tel:${r==null?void 0:r.phone}`,children:e.jsxs("button",{className:"bg-blue-700 rounded w-full text-white flex place-items-center place-content-center text-[15px] gap-2 py-[5px]",children:[e.jsx($,{size:20,className:"mt-[2px]"}),e.jsx("span",{children:"Call"})]})})})]})})]})},Y=({data:a,itemsPerPage:x=10,resetPageKey:t})=>{const[h,n]=z(),N=Number(h.get("page"))||1,[m,u]=d.useState(N),j=Math.ceil(a.length/x),w=m*x,b=w-x,r=a.slice(b,w),f=o=>{u(o);const l=new URLSearchParams(h);l.set("page",String(o)),n(l)},v=()=>{m>1&&f(m-1)},C=()=>{m<j&&f(m+1)};return d.useEffect(()=>{t!==void 0&&f(1)},[t]),e.jsxs("div",{children:[e.jsx("div",{className:"space-y-6",children:r==null?void 0:r.map((o,l)=>e.jsx("div",{children:(l+1)%2?e.jsx("div",{children:e.jsx(A,{listing:o,index:l})}):e.jsxs(e.Fragment,{children:[e.jsx(A,{listing:o,index:l}),e.jsx(Q,{})]})},l))}),j>1&&e.jsxs("div",{className:"flex justify-center gap-[5px] mt-[60px]",children:[e.jsx("button",{onClick:v,disabled:m===1,className:"px-[12px] py-[8px] bg-white cursor-pointer border rounded-[4px]",children:"Previous"}),Array.from({length:j},(o,l)=>l+1).map(o=>e.jsx("button",{onClick:()=>f(o),className:`px-[12px] py-[8px] cursor-pointer border rounded-[4px] ${m===o?"bg-blue-500 text-white border-blue-500":"bg-white"}`,children:o},o)),e.jsx("button",{onClick:C,disabled:m===j,className:"px-[12px] py-[8px] bg-white cursor-pointer border rounded-[4px]",children:"Next"})]})]})},oe=()=>{const a=R();z();const x=a.data,t=a.query,h=a.countries,[n,N]=d.useState(null);return d.useEffect(()=>{t&&N(t)},[t]),e.jsxs("div",{className:" ",children:[e.jsx(U,{}),e.jsxs("div",{className:"h-screen flex flex-col relative ",children:[e.jsx("div",{className:"mt-[120px] md:mt-[60px]"}),e.jsxs("div",{className:"grid grid-cols-12 h-full overflow-hidden  gap-5 ",children:[e.jsxs("aside",{className:"col-span-3 h-full overflow-y-auto scrollbar-hidden pt-2 hidden xl:block",children:[e.jsxs("div",{className:"",children:[e.jsx("div",{className:"mt-3 text-[17px] mb-4 font-bold ml-6",children:"Categories"}),e.jsx(V,{})]}),e.jsxs("div",{className:"mt-5",children:[e.jsx("div",{className:"mt-3 text-[17px] mb-4 font-bold ml-6",children:"Countries"}),h&&e.jsx(J,{countries:h})]}),e.jsx("div",{className:" py-4 px-4 border-t",children:"Garssete - Business Directory Listing"})]}),e.jsx("div",{className:"col-span-12 xl:col-span-9  overflow-y-auto w-full md:px-[15px]",children:e.jsxs("div",{className:"grid grid-cols-12 gap-5",children:[e.jsx("div",{className:"col-span-12 md:col-span-8  pt-3",children:e.jsxs("div",{className:"space-y-8",children:[(x==null?void 0:x.length)>0?e.jsx(Y,{data:x,itemsPerPage:20,resetPageKey:t}):e.jsx("div",{className:`flex place-items-center rounded
                            place-content-center p-5 border capitalize`,children:e.jsx("span",{children:"no record"})}),e.jsx(X,{})]})}),e.jsx("div",{className:"hidden md:block md:col-span-4 pt-3    ",children:e.jsx("div",{className:"w-full xl:w-[90%] sticky top-3 ml-auto",children:e.jsx(K,{})})})]})})]})]})]})};export{oe as default};
