import{j as r}from"./jsx-runtime-0DLF9kdB.js";import{L as j,r as d}from"./components-DN9bEK-g.js";import{A as i,C as v}from"./ContentLayout-BGoKJmWM.js";import{u as b}from"./AuthContext-B29infcp.js";import{f as N,m as w,v as y}from"./lib-Cdq2SI4J.js";import{C as _}from"./CardTitle-BZScOVTV.js";import"./UserMenu-BA98SfQM.js";import"./index-DJ9VeJsB.js";import"./index-DYXtU5_w.js";import"./index-CNOJfxjO.js";import"./WhiteLogo-CuRCz5Q7.js";import"./HomeNav-BGjNVAw3.js";import"./SearchNavbar-DhhTmOkj.js";const P=({listing:e,index:a})=>{function o(c){return c%2!==0}let s=N.IMG_BASE_URL+e.image_url;return((e==null?void 0:e.image_url)===""||(e==null?void 0:e.image_url)===null)&&(s="/images/imgplaceholder.jpg"),r.jsx("div",{className:" cursor-pointer my-2",children:r.jsxs("div",{className:`flex rounded  gap-x-2 p-2
             hover:bg-blue-100 hover:shadow-md  
             ${o(a)?"bg-blue-50":""}
                `,children:[r.jsx("div",{className:`relative min-w-[50px] w-[50px] h-[50px]
                    rounded-full overflow-hidden border`,children:r.jsx("img",{src:s,alt:e.title,className:`object-cover w-full h-full text-sm
                             `})}),r.jsx("div",{className:" w-full",children:r.jsx(j,{to:`/web/account/portfolio/${e.gid}`,children:r.jsxs("div",{className:`md:flex md:place-content-between 
                w-full md:gap-x-[4px]`,children:[r.jsxs("div",{className:"w-full md:w-[60%] -space-y-1",children:[r.jsx("div",{className:"font-normal text-[14px] text-brown-800 ",children:e.title}),r.jsx("div",{className:"font-normal text-[11.5px] flex place-items-center gap-1",children:r.jsx("div",{className:"capitalize flex place-items-center ",children:e.category})}),r.jsx("div",{className:`font-normal text-[11px] 
                                    flex place-items-center gap-1 `,children:e.active_status?"Active":"Inactive"})]}),r.jsxs("div",{className:`w-full lg:w-[40%] hidden 
                                sm:block`,children:[r.jsx("div",{className:"flex flex-col place-items-end place-content-end font-normal text-black tracking-tighter",children:e.phone}),r.jsxs("div",{className:`flex flex-col text-end text-[12px]
                                leading-[1.2em]`,children:[e==null?void 0:e.address_one,e!=null&&e.address_two?`, ${e==null?void 0:e.address_two}`:"",e!=null&&e.city_name?`, ${e==null?void 0:e.city_name}`:"",e!=null&&e.state_name?`, ${e==null?void 0:e.state_name}`:"",e!=null&&e.country_name?`, ${e==null?void 0:e.country_name}`:""]})]})]})})})]})})},L=({data:e,itemsPerPage:a=3})=>{const[o,s]=d.useState(1),c=Math.ceil(e.length/a),m=o*a,l=m-a,u=e.slice(l,m),p=t=>s(t),f=()=>{o>1&&s(o-1)},x=()=>{o<c&&s(o+1)};return r.jsxs("div",{children:[r.jsx("div",{className:"",children:u.map((t,n)=>r.jsx("div",{children:r.jsx(P,{index:n+1,listing:t})},n))}),c>1&&r.jsxs("div",{className:`flex justify-end gap-[5px] 
                mt-[0px] text-[13px] border-t pt-6`,children:[r.jsx("button",{onClick:f,disabled:o===1,className:`px-[12px] py-[0px] bg-white cursor-pointer border
                                rounded-[4px]`,children:"Previous"}),Array.from({length:c},(t,n)=>n+1).map(t=>r.jsx("button",{onClick:()=>p(t),className:`px-[12px] py-[0px]  cursor-pointer border
                                rounded-[4px] ${o===t?"bg-blue-50 border-blue-300":"bg-white"}`,children:t},t)),r.jsx("button",{onClick:x,disabled:o===c,className:`px-[12px] py-[6px] bg-white cursor-pointer border
                                rounded-[4px]`,children:"Next"})]})]})},C=({user:e,portfolio:a})=>r.jsx("div",{className:" h-fit",children:(a==null?void 0:a.length)>0?r.jsx(L,{data:a,itemsPerPage:7}):r.jsx("div",{className:`flex place-items-center rounded
                            place-content-center p-5 border capitalize`,children:r.jsx("span",{children:"no record"})})}),D=()=>{const e=b();if(!e)return null;const{user:a}=e,[o,s]=d.useState(null),[c,m]=d.useState(null),[l,u]=d.useState(null),[p,f]=d.useState(!0);return d.useEffect(()=>{async function x(t){const n=await w(t||""),h=await y(t||"");s(n),m(h)}a!=null&&a.guid&&x(a==null?void 0:a.guid)},[a==null?void 0:a.guid]),d.useEffect(()=>{if(o&&c){const x={userProfile:o,portfolio:c.data};u(x)}},[o,c]),d.useEffect(()=>{l!==null&&f(!1)},[l]),p?r.jsx("div",{className:"flex justify-center items-center h-screen",children:r.jsx("div",{className:"text-lg",children:"Loading..."})}):r.jsx(i,{children:r.jsxs(v,{title:"My Portfolio",children:[o===null?"Loading...":"",r.jsx(_,{baseUrl:"/web/account/profile",guid:"",children:"Go to Profile"}),r.jsx("div",{className:"mt-[20px]"}),l!==null&&r.jsx(C,{user:l.userProfile,portfolio:l.portfolio})]})})};export{D as default};
