import{r as t,j as e,u as I}from"./components-YbiUyo11.js";import{F as M,G as D}from"./index-TpmEskWj.js";import{h as T,B as _,a as z}from"./index-Dn4UAsYz.js";const A=t.createContext(null);function Q(){const s=t.useContext(A);if(!s)throw new Error("useNotification must be used within a NotificationProvider");return s}const V=({children:s})=>{const[l,o]=t.useState(!1),[a,c]=t.useState(0),[i,f]=t.useState(""),[x,w]=t.useState(""),[v,y]=t.useState(""),[N,j]=t.useState(!1),[k,C]=t.useState(!1),[r,u]=t.useState(),d=()=>{o(!1)},n=()=>{o(!1),c(0),f("")};t.useEffect(()=>{n()},[]);let O={notify:async(p="Working...")=>{n(),y(p),await new Promise(m=>setTimeout(m,100)),o(!0),c(1)},cancel:n,alert:async(p,m)=>{n(),f(m||"Completed!"),w(p||"Alert"),await new Promise(g=>setTimeout(g,100)),o(!0),c(2)},alertReload:async(p,m)=>{n(),f(m||"Completed!"),w(p||"Alert"),await new Promise(g=>setTimeout(g,100)),o(!0),c(3)},confirm:async(p="Do you wish to continue?",m)=>{n(),f(p),await new Promise(g=>setTimeout(g,100)),o(!0),c(4),u(()=>m)},confirmCancel:N,confirmOk:k,alertCancel:async(p,m)=>{n(),f(m||"Completed!"),w(p||"Alert"),await new Promise(g=>setTimeout(g,100)),o(!0),c(5)}};return e.jsxs(A.Provider,{value:O,children:[l&&a===1&&e.jsx(L,{working:l,notifyMessage:v}),l&&a===2&&e.jsx(J,{handleClose:d,working:l,message:i,title:x}),l&&a===3&&e.jsx(U,{handleClose:d,working:l,title:x,message:i}),l&&a===4&&e.jsx(B,{onClose:r,working:l,message:i}),l&&a===5&&e.jsx(G,{handleClose:d,working:l,message:i,title:x}),s]})},B=({handleClose:s,working:l,message:o,handleConfirmCancel:a,setConfirmOk:c,onClose:i})=>e.jsx("div",{className:`z-[4000] fixed left-0 top-0 right-0 bottom-0
                bg-black/10 flex flex-col place-content-center place-items-center
                `,children:e.jsxs("div",{className:`w-[90%] sm:w-[500px] h-auto bg-white 
                        overflow-hidden rounded-md relative shadow-2xl shadow-black/50`,children:[e.jsx("div",{className:`px-4 py-3 border-b-[1px] font-bold text-[17px] bg-yellow-300
                            w-full`,children:"Confirm"}),e.jsx("div",{className:`w-full h-auto 
                            `,children:e.jsx("div",{className:" px-4 py-3 h-fit",children:o})}),e.jsxs("div",{className:`px-4 py-[10px] border-t-[1px] w-full
                            flex place-content-end gap-2 `,children:[e.jsx("button",{onClick:()=>i(!1),className:`px-3 bg-red-500 text-white rounded-[5px]
                                text-[14px] py-1 hover:bg-red-800`,children:"Cancel"}),e.jsx("button",{onClick:()=>i(!0),className:`px-3 bg-gray-100 py-1 border-[1px] rounded-[5px]
                                text-[14px] hover:bg-gray-200`,children:"Continue"})]})]})}),L=({working:s,notifyMessage:l})=>e.jsx("div",{className:`z-[4000] fixed left-0 top-0 right-0 bottom-0
                bg-black/10 flex flex-col place-content-center place-items-center
                `,children:e.jsxs("div",{className:`w-[90%] sm:w-[500px] h-auto bg-white 
                        overflow-hidden rounded-md relative shadow-2xl shadow-black/50`,children:[e.jsx("div",{className:`px-4 py-3 border-b-[1px] font-bold text-[17px] bg-yellow-300
                            w-full`,children:"Processing..."}),e.jsx("div",{className:`w-full h-auto 
                            `,children:e.jsxs("div",{className:` px-3 py-3 h-fit
                        flex place-items-center gap-2`,children:[e.jsx(M,{className:`text-3xl text-blue-500 ${s?"animate-spin":""}`}),l]})}),e.jsx("div",{className:`px-4 py-[10px] border-t-[1px] w-full
                            flex place-content-end gap-2 `,children:"Â "})]})}),J=({handleClose:s,working:l,message:o,title:a})=>e.jsx("div",{className:`z-[4000] fixed left-0 top-0 right-0 bottom-0
                bg-black/10 flex flex-col place-content-center place-items-center
                `,children:e.jsxs("div",{className:`w-[90%] sm:w-[500px] h-auto bg-white 
                        overflow-hidden rounded-md relative shadow-2xl shadow-black/50`,children:[e.jsx("div",{className:`px-4 py-3 border-b-[1px] font-bold text-[17px] bg-yellow-300
                            w-full`,children:a}),e.jsx("div",{className:`w-full h-auto 
                            `,children:e.jsx("div",{className:" px-4 py-3 h-fit",children:o})}),e.jsxs("div",{className:`px-4 py-[10px] border-t-[1px] w-full
                            flex place-content-end gap-2 `,children:[e.jsx("button",{onMouseDown:s,className:`px-3 bg-red-500 text-white rounded-[5px]
                                text-[14px] py-1 hover:bg-red-800`,children:"Close"}),e.jsx("button",{onMouseDown:()=>window.location.reload(),className:`px-3 bg-gray-200 text-black rounded-[5px]
                                text-[14px] py-1 hover:bg-gray-100
                                hover:shadow-md`,children:"Reload"})]})]})}),U=({handleClose:s,working:l,message:o,title:a})=>e.jsx("div",{className:`z-[4000] fixed left-0 top-0 right-0 bottom-0
                bg-black/10 flex flex-col place-content-center place-items-center
                `,children:e.jsxs("div",{className:`w-[90%] sm:w-[500px] h-auto bg-white 
                        overflow-hidden rounded-md relative shadow-2xl shadow-black/50`,children:[e.jsx("div",{className:`px-4 py-3 border-b-[1px] font-bold text-[17px] bg-yellow-300
                            w-full`,children:a}),e.jsx("div",{className:`w-full h-auto 
                            `,children:e.jsx("div",{className:" px-4 py-3 h-fit",children:o})}),e.jsx("div",{className:`px-4 py-[10px] border-t-[1px] w-full
                            flex place-content-end gap-2 `,children:e.jsx("button",{onMouseDown:()=>window.location.reload(),className:`px-3 bg-gray-200 text-black rounded-[5px]
                                text-[14px] py-1 hover:bg-gray-100
                                hover:shadow-md`,children:"Reload"})})]})}),G=({handleClose:s,working:l,message:o,title:a})=>e.jsx("div",{className:`z-[4000] fixed left-0 top-0 right-0 bottom-0
                bg-black/10 flex flex-col place-content-center place-items-center
                `,children:e.jsxs("div",{className:`w-[90%] sm:w-[500px] h-auto bg-white 
                        overflow-hidden rounded-md relative shadow-2xl shadow-black/50`,children:[e.jsx("div",{className:`px-4 py-3 border-b-[1px] font-bold text-[17px] bg-yellow-300
                            w-full`,children:a}),e.jsx("div",{className:`w-full h-auto 
                            `,children:e.jsx("div",{className:" px-4 py-3 h-fit",children:o})}),e.jsx("div",{className:`px-4 py-[10px] border-t-[1px] w-full
                            flex place-content-end gap-2 `,children:e.jsx("button",{onMouseDown:s,className:`px-3 bg-red-500 text-white rounded-[5px]
                                text-[14px] py-1 hover:bg-red-800`,children:"Close"})})]})}),E=t.createContext(null),P="https://tynk.cc";function Y(){const s=t.useContext(E);if(!s)throw new Error("useAuth must be used within an AuthProvider");return s}function Z({children:s}){let[l,o]=t.useState(null),[a,c]=t.useState(null);const i=async r=>{try{let d=P+"/api/users/verifytoken";const n=await fetch(d,{method:"POST",headers:T,body:JSON.stringify({token:r})});if(n.status!==200)throw new Error("Could not obtain token");return await n.json()}catch(u){return console.log(u.message),alert(u.message),null}};t.useEffect(()=>{const r=localStorage.getItem("authTokens");if(r!==null){const n=JSON.parse(r);o(n)}else o(null);if(r){const b=JSON.parse(r).accessToken;i(b).then(h=>{h===null?(o(null),c(null),localStorage.removeItem("authTokens")):c(h)})}else c(null);x(!1);let u=1e3*60*60*12,d=setInterval(()=>{j()},u);return()=>clearInterval(d)},[]);let[f,x]=t.useState(!0);const y=P+"/api/users/signin";I();let N=async r=>{try{const u=await fetch(y,{method:"POST",headers:T,body:JSON.stringify(r)});let d=await u.json();return u.status===200?(o(d),i(d.accessToken).then(n=>{c(n)}),localStorage.setItem("authTokens",JSON.stringify(d)),new Promise(n=>{setTimeout(()=>{n(!0)},100)})):new Promise(n=>{setTimeout(()=>{n(d)},100)})}catch{return new Promise(d=>{setTimeout(()=>{d(!1)},100)})}};const j=()=>{o(null),c(null),localStorage.removeItem("authTokens"),window.location.reload()};let C={user:a,signin:N,signout:j,resetpw:async r=>{const n="https://tynk.cc"+"/api/users/reset_password_request";try{const h=await fetch(n,{method:"POST",headers:T,body:JSON.stringify(r)});var b=await h.json();if(h.ok)return new Promise(S=>{setTimeout(()=>{S(b.message)},100)});throw new Error(`Error Code: ${h.status} - ${b.message}`)}catch(h){return new Promise(S=>{setTimeout(()=>{S(h.message)},100)})}finally{}}};return e.jsx(E.Provider,{value:C,children:s})}function $(s){return D({attr:{viewBox:"0 0 512 512"},child:[{tag:"path",attr:{d:"m289.94 256 95-95A24 24 0 0 0 351 127l-95 95-95-95a24 24 0 0 0-34 34l95 95-95 95a24 24 0 1 0 34 34l95-95 95 95a24 24 0 0 0 34-34z"},child:[]}]})(s)}const R=t.createContext(null);function ee(){const s=t.useContext(R);if(!s)throw new Error("useSliderContext must be used within a SliderProvider");return s}const q="https://oxbyt.com",te=({children:s})=>{const[l,o]=t.useState(!1),[a,c]=t.useState(null),[i,f]=t.useState(!1),[x,w]=t.useState(0),[v,y]=t.useState(null);t.useRef(0),t.useRef(0);const N=()=>{o(!1)},j=()=>{w(r=>r===0?i.length-1:r-1)},k=()=>{w(r=>r===i.length-1?0:r+1)};t.useEffect(()=>{a!==null&&w(a-1)},[a]);let C={dialog:l,setDialog:o,selectedSlide:a,setSelectedSlide:c,slides:i,setGallery:f,setListing:y};return e.jsxs(R.Provider,{value:C,children:[l&&e.jsx("div",{className:`flex w-screen h-screen bg-white z-[5000] 
                fixed top-0 left-0 right-0 bottom-0 `,children:e.jsxs("div",{className:"grid grid-cols-12 gap-0 ",children:[e.jsxs("div",{className:"col-span-12 md:col-span-9 w-full h-full relative bg-black flex",children:[e.jsx("div",{className:" w-auto h-screen flex overflow-hidden",children:i&&a&&i.map((r,u)=>e.jsx("img",{src:q+r.image_url,alt:"",style:{transform:`translateX(-${x*100}%)`},className:`object-scale-down w-full h-full 
                                            block flex-shrink-0 flex-grow-0 transition-transform
                                            ease-in-out duration-1000`},u))}),e.jsx("button",{onMouseDown:j,className:`block absolute top-0 bottom-0 
                                                p-[1rem] cursor-pointer left-0 group h-full 
                                                transition duration-1000 ease-in-out`,children:e.jsx("div",{className:`w-[50px] h-[50px] bg-white/60 rounded-full place-content-center place-items-center group-hover:bg-white/30
                                                        transition duration-500 ease-in-out`,children:e.jsx(_,{className:" stroke-white fill-black w-[2rem] h-[2rem]"})})}),e.jsx("button",{onMouseDown:k,className:`block absolute top-0 bottom-0 
                                                    p-[1rem] cursor-pointer right-0 group 
                                                     transition duration-1000 ease-in-out`,children:e.jsx("div",{className:`w-[50px] h-[50px] bg-white/60 rounded-full flex place-content-center place-items-center group-hover:bg-white/30
                                                        transition duration-500 ease-in-out`,children:e.jsx(z,{className:" stroke-white fill-black w-[2rem] h-[2rem]"})})}),e.jsx("div",{onMouseDown:()=>N(),className:`w-[50px] h-[50px] z-[300] bg-white
                                                    flex place-content-center place-items-center
                                                    rounded-full absolute left-2 top-2 cursor-pointer
                                                    hover:bg-white/40 transition duration-1000 ease-in-out`,children:e.jsx($,{className:"text-[30px]"})})]}),e.jsxs("div",{className:"hidden md:block md:col-span-3 px-5",children:[e.jsxs("h1",{className:" text-[22px] my-4 font-sans font-extrabold tracking-tight leading-[24px]",children:["Photos for ",v&&v.title]}),e.jsxs("div",{className:" my-4 ",children:[x+1," / ",i.length]}),e.jsx("hr",{}),e.jsx("div",{className:" my-4",children:i[x].image_title})]})]})}),s]})};export{Z as A,$ as I,V as N,te as S,Q as a,Y as b,ee as u};
