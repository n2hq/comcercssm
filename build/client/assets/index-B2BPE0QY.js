import{j as a}from"./jsx-runtime-0DLF9kdB.js";import{L as h,r as l}from"./components-kAvIA9Ge.js";import{A as j,C as b}from"./ContentLayout-ZLM1h3WJ.js";import{j as v,u as i,k as N,y as w}from"./index-Dn2vcGOX.js";import"./MobileNav-CH-uPZo-.js";import"./UserMenu-DtOcBLhr.js";import"./index-BTxVYS91.js";const y=({listing:e,index:t})=>{function r(s){return s%2!==0}let c=v.IMG_BASE_URL+e.image_url;return((e==null?void 0:e.image_url)===""||(e==null?void 0:e.image_url)===null)&&(c="https://encrypted-tbn0.gstatic.com/images?q=tbn:ANd9GcRDKSPXOSoC8KuJCf_1dyELpZOsYINbk51FqA&s"),a.jsx("div",{className:" cursor-pointer my-2",children:a.jsxs("div",{className:`flex rounded  gap-x-2 p-2
             hover:bg-blue-700 hover:text-white  
             ${r(t)?"bg-blue-50":""}
                `,children:[a.jsx("div",{className:`relative min-w-[50px] w-[50px] h-[50px]
                    rounded-full overflow-hidden border`,children:a.jsx("img",{src:c,alt:e.title,className:`object-cover w-full h-full text-sm
                             `})}),a.jsx("div",{className:" w-full",children:a.jsx(h,{to:`/web/account/portfolio/${e.gid}`,children:a.jsxs("div",{className:`md:flex md:place-content-between 
                w-full md:gap-x-[4px]`,children:[a.jsxs("div",{className:"w-full md:w-[60%]",children:[a.jsx("div",{className:`font-semibold text-[15px] text-brown-800
                    leading-[1.1em]  mt-[2px]`,children:e.title}),a.jsx("div",{className:`font-normal text-[13px] 
                                    flex place-items-center gap-1 mt-[0px]`,children:a.jsx("div",{className:"capitalize flex place-items-center gap-1",children:e.category})})]}),a.jsxs("div",{className:`w-full lg:w-[40%] hidden 
                                sm:block`,children:[a.jsx("div",{className:`flex flex-col 
                    place-items-end place-content-end
                        font-semibold text-[15px] tracking-tighter`,children:e.phone}),a.jsxs("div",{className:`flex flex-col text-end text-[12px]
                                leading-[1.2em]`,children:[e==null?void 0:e.address_one,e!=null&&e.address_two?`, ${e==null?void 0:e.address_two}`:"",e!=null&&e.city_name?`, ${e==null?void 0:e.city_name}`:"",e!=null&&e.state_name?`, ${e==null?void 0:e.state_name}`:"",e!=null&&e.country_name?`, ${e==null?void 0:e.country_name}`:""]})]})]})})})]})})},_=({data:e,itemsPerPage:t=3})=>{const[r,c]=l.useState(1),s=Math.ceil(e.length/t),d=r*t,u=d-t,p=e.slice(u,d),f=o=>c(o),n=()=>{r>1&&c(r-1)},m=()=>{r<s&&c(r+1)};return a.jsxs("div",{children:[a.jsx("div",{className:"",children:p.map((o,x)=>a.jsx("div",{children:a.jsx(y,{index:x+1,listing:o})},x))}),s>1&&a.jsxs("div",{className:`flex justify-end gap-[5px] 
                mt-[0px] text-[13px] border-t pt-6`,children:[a.jsx("button",{onClick:n,disabled:r===1,className:`px-[12px] py-[0px] bg-white cursor-pointer border
                                rounded-[4px]`,children:"Previous"}),Array.from({length:s},(o,x)=>x+1).map(o=>a.jsx("button",{onClick:()=>f(o),className:`px-[12px] py-[0px]  cursor-pointer border
                                rounded-[4px] ${r===o?"bg-blue-50 border-blue-300":"bg-white"}`,children:o},o)),a.jsx("button",{onClick:m,disabled:r===s,className:`px-[12px] py-[6px] bg-white cursor-pointer border
                                rounded-[4px]`,children:"Next"})]})]})},P=({user:e,portfolio:t})=>a.jsx("div",{className:" h-fit",children:(t==null?void 0:t.length)>0?a.jsx(_,{data:t,itemsPerPage:7}):a.jsx("div",{className:`flex place-items-center rounded
                            place-content-center p-5 border capitalize`,children:a.jsx("span",{children:"no record"})})}),I=()=>{const{user:e}=i(),[t,r]=l.useState(null),[c,s]=l.useState(null),[d,u]=l.useState(null),[p,f]=l.useState(!0);return l.useEffect(()=>{async function n(m){const o=await N(m||""),x=await w(m||"");r(o),s(x)}e!=null&&e.guid&&n(e==null?void 0:e.guid)},[e==null?void 0:e.guid]),l.useEffect(()=>{if(t&&c){const n={userProfile:t,portfolio:c.data};u(n)}},[t,c]),l.useEffect(()=>{d!==null&&f(!1)},[d]),p?a.jsx("div",{className:"flex justify-center items-center h-screen",children:a.jsx("div",{className:"text-lg",children:"Loading..."})}):a.jsx(j,{children:a.jsxs(b,{title:"Email Address",children:[t===null?"Loading...":"",a.jsx("div",{className:"font-semibold mb-2 text-md",children:t==null?void 0:t.email}),a.jsx("div",{className:"mt-[20px]"}),d!==null&&a.jsx(P,{user:d.userProfile,portfolio:d.portfolio})]})})};export{I as default};
