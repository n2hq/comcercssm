import{j as a}from"./jsx-runtime-0DLF9kdB.js";import{r as d,v as $,L as w,c as L}from"./components-CooaLra5.js";import{S as C}from"./SrchNavbar-DmoLfFcz.js";import{aG as P,t as y,aL as E,aM as _,aN as I,aO as A,aP as F,aQ as R,aR as B,aS as z,am as M,aF as T,a7 as i}from"./lib-DiVHpoRG.js";import"./UserMenu-BZZL2F4w.js";import"./AuthContext-DQQR_6Z1.js";import"./WhiteLogo-EsoGRqa1.js";import"./index-xbvsPqAy.js";import"./json-DLErWeY0.js";const G=()=>a.jsx("div",{className:"bg-white w-full h-auto md:rounded-t-md shadow-md overflow-hidden border",children:a.jsxs("div",{className:"bg-gray-50/30 py-3 px-4 border-b",children:[a.jsxs("div",{className:"flex place-content-between",children:[a.jsx("div",{className:"flex place-items-center gap-2",children:a.jsxs("div",{className:"-space-y-1",children:[a.jsx("div",{className:"text-black text-lg font-semibold",children:"Garsset.com"}),a.jsx("div",{className:"text-[12px] text-gray-500 italic capitalize",children:"Business Directory Service"})]})}),a.jsx("div",{className:"flex place-items-center"})]}),a.jsx("div",{className:"mt-[8px] text-[12px] text-gray-500 leading-[1.3em]",children:"The only real-time generative AI app for video chatting, live streaming, and video creation on the market."})]})}),U=()=>{const[e,s]=d.useState(!1);return d.useEffect(()=>{},[]),null};function q({rating:e}){return a.jsx("div",{className:"flex gap-x-[6px]",children:Array.from({length:5}).map((s,c)=>{const o=Math.max(0,Math.min(1,e-c))*100;return a.jsxs("div",{className:`relative w-[20px] h-[20px] ${e>0?"bg-blue-500":"bg-gray-200/80"} rounded 
                            overflow-hidden flex place-items-center
                            place-content-center`,children:[a.jsx("div",{className:"absolute inset-0 bg-green-400  z-[0]",style:{width:`${o}%`}}),a.jsx(P,{className:`relative z-[0] w-[14px] h-[14px] ${e>0,"text-black"}`,fill:"currentColor"})]},c)})})}const D=[{image:"/images/lcape.jpg"},{image:"/images/dohamarina.webp"},{image:"/images/landscapex.jpeg"},{image:"/images/sideviewcar.jpg"}],S=({listing:e,index:s})=>{var u;const[c,o]=d.useState(null),[x,r]=d.useState(""),[t,j]=d.useState(""),[h,f]=d.useState(null),[v,b]=d.useState("");return d.useEffect(()=>{e&&((e==null?void 0:e.image_url)!==""&&(e==null?void 0:e.image_url)!==null&&(e==null||e.image_url),(e==null?void 0:e.bg_image_url)!==""&&(e==null?void 0:e.bg_image_url)!==null&&(e==null?void 0:e.bg_image_url)!==void 0?j(y.IMG_BASE_URL+(e==null?void 0:e.bg_image_url)):(E(D),j("")),(e==null?void 0:e.username)!==""&&(e==null?void 0:e.username)!==null&&(e==null?void 0:e.username)!==void 0?b(e==null?void 0:e.username):b(e==null?void 0:e.gid))},[e]),d.useEffect(()=>{e&&(console.log(e),o(e),r(y.IMG_BASE_URL+(e==null?void 0:e.image_url)))},[e]),d.useEffect(()=>{if(e!=null&&e.social_media){let l=[];const n=_(e==null?void 0:e.social_media,",");n!==null&&(n==null||n.map((m,p)=>{const N=_(m,"$"),k={mediaName:N[0],mediaHandle:N[1],baseUrl:N[2]};l.push(k)})),f(l)}},[e]),a.jsx("div",{className:" px-[0px] md:px-0 bg-white",children:a.jsxs("div",{className:" w-full md:rounded-xl overflow-hidden shadow-lg",children:[a.jsx("a",{href:`/${v}`,children:a.jsxs("div",{className:"w-full h-[150px] bg-black bg-no-repeat bg-cover relative bg-center",style:{backgroundImage:`url('${t}')`},children:[a.jsx("div",{className:"w-full h-full top-0 left-0 bg-black/0 absolute flex place-items-center place-content-center  ",children:!t&&a.jsxs("div",{className:"flex place-items-center mt-16 font-poppins mr-2 mb-4 place-content-center w-full h-full font-light text-white/70 text-[12px]",children:[e==null?void 0:e.title,"."]})}),a.jsxs("div",{className:" flex absolute mt-[30px] ml-[20px] gap-2",children:[a.jsx(O,{averageRating:e==null?void 0:e.average_rating}),a.jsx(H,{averageRating:e==null?void 0:e.average_rating}),a.jsx(Q,{})]})]})}),a.jsx("a",{href:`/${v}`,children:a.jsxs("div",{className:"relative h-[140px]",children:[a.jsx("div",{className:"w-[70px] h-[70px] bg-black rounded-full absolute -top-[20px] left-[15px] overflow-hidden",children:a.jsx("img",{src:x,alt:"",className:" bg-white object-cover w-full h-full"})}),a.jsxs("div",{className:" absolute left-[100px] top-[6px] -space-y-1 block",children:[a.jsx("div",{className:"font-semibold text-xl font-poppins line-clamp-1 ",children:e==null?void 0:e.title}),a.jsx("div",{className:"text-sm capitalize",children:(u=I((e==null?void 0:e.category)||""))==null?void 0:u.name})]}),a.jsxs("div",{className:"absolute top-[60px]  block w-full ",children:[a.jsx("div",{className:"line-clamp-2 mx-[20px]",children:e==null?void 0:e.short_description}),a.jsxs("div",{className:" mx-[20px] mt-3 flex gap-2 place-items-center leading-[1.2em] ",children:[a.jsx(A,{className:"text-[25px] text-gray-700 bg-blue-50 relative -left-2"}),a.jsx("div",{children:`${e==null?void 0:e.address_one}, ${(e==null?void 0:e.city_name)!==null?(e==null?void 0:e.city_name)+", ":""} ${e==null?void 0:e.country_code}`})]})]})]})}),a.jsx("div",{className:"border-t pt-2 pb-2 mt-5 ",children:a.jsxs("div",{className:"flex place-content-between mx-[20px] place-items-center mt-[4px] mb-[5px]",children:[a.jsxs("div",{className:" flex place-items-center gap-3 text-[13px] mt-[2px]",children:[a.jsx("a",{href:`mailto:${e==null?void 0:e.email_address}`,children:a.jsx(F,{size:20})},34),a.jsx("a",{href:`${e!=null&&e.phone?`tel:${e==null?void 0:e.phone}`:`#${s}`}`,children:e!=null&&e.phone?a.jsx(B,{size:18}):a.jsx(R,{size:18,className:"text-gray-400"})},30),h!==null&&(h==null?void 0:h.map((l,n)=>a.jsx("a",{href:`${l==null?void 0:l.baseUrl}${l==null?void 0:l.mediaHandle}`,children:z(l==null?void 0:l.mediaName)},n)))]}),a.jsx("div",{children:a.jsx("a",{className:"font-normal bg-blue-600 text-white py-[3px] px-[5px] rounded-md hover:shadow-md hover:shadow-gray-400",href:`${e!=null&&e.website?e==null?void 0:e.website:`#${s}`}`,children:"Website"})})]})})]})})},O=({averageRating:e})=>{const[s,c]=d.useState(0);return d.useEffect(()=>{e!==null&&c(e)},[e]),a.jsx("div",{className:"border border-white/50 flex place-items-center place-content-center rounded-lg px-2 gap-1 bg-black/50 h-[40px]",children:a.jsx(q,{rating:s})})},H=({averageRating:e})=>{const[s,c]=d.useState(0);return d.useEffect(()=>{e!==null&&c(e)},[e]),a.jsx("div",{className:"border border-white/40 bg-black/30 w-[40px] h-[40px] rounded-md text-white flex place-items-center place-content-center text-[20px] font-light",children:M(Number(s))})},Q=({})=>a.jsx("div",{className:"border border-white/40 bg-black/30 flex place-content-center place-items-center text-white px-2 rounded-md h-[40px]",children:"View Page"}),W=({data:e,itemsPerPage:s=10,resetPageKey:c})=>{const[o,x]=$(),r=Number(o.get("page"))||1,[t,j]=d.useState(r),h=Math.ceil(e.length/s),f=t*s,v=f-s,b=e.slice(v,f),u=m=>{j(m);const p=new URLSearchParams(o);p.set("page",String(m)),x(p)},l=()=>{t>1&&u(t-1)},n=()=>{t<h&&u(t+1)};return d.useEffect(()=>{c!==void 0&&u(1)},[c]),a.jsxs("div",{children:[a.jsx("div",{className:"space-y-6",children:b==null?void 0:b.map((m,p)=>a.jsx("div",{children:(p+1)%2?a.jsx("div",{children:a.jsx(S,{listing:m,index:p})}):a.jsxs(a.Fragment,{children:[a.jsx(S,{listing:m,index:p}),a.jsx(U,{})]})},p))}),h>1&&a.jsxs("div",{className:"flex justify-center gap-[5px] mt-[60px]",children:[a.jsx("button",{onClick:l,disabled:t===1,className:"px-[12px] py-[8px] bg-white cursor-pointer border rounded-[4px]",children:"Previous"}),Array.from({length:h},(m,p)=>p+1).map(m=>a.jsx("button",{onClick:()=>u(m),className:`px-[12px] py-[8px] cursor-pointer border rounded-[4px] ${t===m?"bg-blue-500 text-white border-blue-500":"bg-white"}`,children:m},m)),a.jsx("button",{onClick:n,disabled:t===h,className:"px-[12px] py-[8px] bg-white cursor-pointer border rounded-[4px]",children:"Next"})]})]})},V=({listing:e})=>a.jsxs("div",{children:[e==null?void 0:e.address_one,e!=null&&e.address_two?`, ${e==null?void 0:e.address_two}`:"",e!=null&&e.city_name?`, ${e==null?void 0:e.city_name}`:"",e!=null&&e.state_name?`, ${e==null?void 0:e.state_name}`:"",e!=null&&e.country_name?`, ${e==null?void 0:e.country_name}`:""]}),J=({feature:e})=>a.jsxs("div",{id:e.gid,className:"pb-4 pt-3",children:[a.jsx(w,{to:`/${e!=null&&e.username?e==null?void 0:e.username:e==null?void 0:e.gid}`,children:a.jsx("div",{className:`text-[15px] tracking-normal 
                text-blue-700 font-normal`,children:e.title})}),a.jsx("div",{className:`text-md font-semibold 
                tracking-tight mt-[2px]`,children:e.phone}),a.jsx("div",{className:`font-normal  
                tracking-normal mt-[2px] leading-[1.3em]
                text-black`,children:e.short_description.substring(0,80)}),a.jsx("div",{className:`text-[12px] font-normal 
                tracking-tight mt-[5px] leading-[1.4em]
                text-brown-700`,children:a.jsx(V,{listing:e})}),a.jsx("div",{className:` font-semibold  
                tracking-tight mt-[8px] text-blue-800`,children:a.jsx(w,{to:e.website?e.website:`#${e.gid}`,children:"Website"})})]}),K=()=>{const[e,s]=d.useState([]),[c,o]=d.useState(0);return d.useEffect(()=>{(async()=>{const r=await T();s(r)})()},[]),a.jsxs("div",{className:`border-[1px] px-4 pt-4 pb-4
        rounded-xl border-gray-200`,children:[a.jsx("div",{className:"font-bold text-lg",children:"Featured"}),a.jsx("div",{className:"divide-y divide-gray-200",children:(e==null?void 0:e.length)>0?e==null?void 0:e.map((x,r)=>r>2?null:a.jsx(J,{feature:x},r)):a.jsx("div",{className:"text-[15px] mt-4",children:"Loading..."})})]})},X=({countries:e})=>{var x;const[s,c]=d.useState(""),o=(x=e==null?void 0:e.filter(r=>r.name.toLowerCase().includes(s.toLowerCase())))==null?void 0:x.sort((r,t)=>r.name.localeCompare(t.name));return a.jsxs("div",{className:"space-y-3",children:[a.jsx("div",{className:"px-3",children:a.jsx("input",{type:"text",placeholder:"Search country...",value:s,onChange:r=>c(r.target.value),className:"w-full px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-blue-500"})}),a.jsxs("div",{className:"h-[300px] overflow-y-auto scrollbar-hidden",children:[o==null?void 0:o.map((r,t)=>a.jsx("div",{children:a.jsx("a",{href:`/web/browse?q=${r==null?void 0:r.name.toLowerCase()}`,children:a.jsxs("div",{className:"flex place-content-start place-items-center gap-2 w-full hover:bg-blue-100 pl-5 py-1.5 hover:cursor-pointer",children:[a.jsx("div",{className:"w-[30px] h-[30px] flex place-content-center place-items-center bg-blue-100 rounded-full",children:r==null?void 0:r.id}),a.jsx("div",{className:"text-lg",children:r==null?void 0:r.name})]})})},t)),(o==null?void 0:o.length)===0&&a.jsx("div",{className:"px-5 text-gray-500",children:"No results found"})]})]})},Y=()=>{var o,x;const[e,s]=d.useState(""),c=(x=(o=i)==null?void 0:o.filter(r=>r.name.toLowerCase().includes(e.toLowerCase())))==null?void 0:x.sort((r,t)=>r.name.localeCompare(t.name));return a.jsxs("div",{className:"space-y-3",children:[a.jsx("div",{className:"px-3",children:a.jsx("input",{type:"text",placeholder:"Search category...",value:e,onChange:r=>s(r.target.value),className:"w-full px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-blue-500"})}),a.jsxs("div",{className:"h-[300px] overflow-y-auto scrollbar-hidden",children:[c==null?void 0:c.map((r,t)=>a.jsx("div",{children:a.jsx("a",{href:`/web/browse?q=${r==null?void 0:r.id}`,children:a.jsxs("div",{className:"flex place-content-start place-items-center gap-2 w-full hover:bg-blue-100 pl-5 py-1.5 hover:cursor-pointer",children:[a.jsx("div",{className:"w-[30px] h-[30px] flex place-content-center place-items-center bg-blue-100 rounded-full",children:r==null?void 0:r.icon}),a.jsx("div",{className:"text-lg",children:r==null?void 0:r.name})]})})},t)),(c==null?void 0:c.length)===0&&a.jsx("div",{className:"px-5 text-gray-500",children:"No results found"})]})]})},te=()=>{const e=L();$();const s=e.data,c=e.query,o=e.countries,[x,r]=d.useState(null);return d.useEffect(()=>{c&&r(c)},[c]),a.jsxs("div",{className:" ",children:[a.jsx(C,{}),a.jsxs("div",{className:"h-screen flex flex-col relative bg-gray-100",children:[a.jsx("div",{className:"mt-[120px] md:mt-[60px]"}),a.jsxs("div",{className:"grid grid-cols-12 h-full overflow-hidden  gap-5 ",children:[a.jsxs("aside",{className:"col-span-3 h-full overflow-y-auto scrollbar-hidden pt-2 hidden lg:block",children:[a.jsxs("div",{className:"",children:[a.jsx("div",{className:"mt-3 text-[17px] mb-4 font-bold ml-6",children:"Categories"}),a.jsx(Y,{})]}),a.jsxs("div",{className:"mt-5",children:[a.jsx("div",{className:"mt-3 text-[17px] mb-4 font-bold ml-6",children:"Countries"}),o&&a.jsx(X,{countries:o})]}),a.jsx("div",{className:" py-4 px-4 border-t",children:"Garssete - Business Directory Listing"})]}),a.jsx("div",{className:"col-span-12 lg:col-span-9  overflow-y-auto w-full md:px-[15px]",children:a.jsxs("div",{className:"grid grid-cols-12 gap-8",children:[a.jsx("div",{className:"col-span-12 md:col-span-7  pt-3",children:a.jsxs("div",{className:"space-y-8",children:[(s==null?void 0:s.length)>0?a.jsx(W,{data:s,itemsPerPage:20,resetPageKey:c}):a.jsx("div",{className:`flex place-items-center rounded
                            place-content-center p-5 border capitalize`,children:a.jsx("span",{children:"no record"})}),a.jsx(G,{})]})}),a.jsx("div",{className:"hidden md:block md:col-span-5 pt-3   ",children:a.jsx("div",{className:"w-full lg:w-[90%] sticky top-3 ml-auto",children:a.jsx(K,{})})})]})})]})]})]})};export{te as default};
